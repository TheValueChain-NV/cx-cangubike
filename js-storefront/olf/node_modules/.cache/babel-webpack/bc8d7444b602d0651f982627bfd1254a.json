{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Injectable, NgModule } from '@angular/core';\nimport * as i2 from '@spartacus/core';\nimport { CART_NORMALIZER, provideDefaultConfig } from '@spartacus/core';\nimport { pluck, map } from 'rxjs/operators';\nimport * as i1 from '@angular/common/http';\nimport { CommonModule } from '@angular/common';\nimport { SavedCartAdapter } from '@spartacus/cart/saved-cart/core';\nlet OccSavedCartAdapter = /*#__PURE__*/(() => {\n  class OccSavedCartAdapter {\n    constructor(http, occEndpoints, converter) {\n      this.http = http;\n      this.occEndpoints = occEndpoints;\n      this.converter = converter;\n    }\n    load(userId, cartId) {\n      return this.http.get(this.getSavedCartEndpoint(userId, cartId)).pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n    }\n    loadList(userId) {\n      return this.http.get(this.getSavedCartListEndpoint(userId)).pipe(pluck('carts'), map(carts => carts !== null && carts !== void 0 ? carts : []), this.converter.pipeableMany(CART_NORMALIZER));\n    }\n    restoreSavedCart(userId, cartId) {\n      return this.http.patch(this.getRestoreSavedCartEndpoint(userId, cartId), cartId).pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n    }\n    saveCart(userId, cartId, saveCartName, saveCartDescription) {\n      return this.http.patch(this.getSaveCartEndpoint(userId, cartId, saveCartName, saveCartDescription), cartId).pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n    }\n    cloneSavedCart(userId, cartId, saveCartName) {\n      return this.http.post(this.getCloneSavedCartEndpoint(userId, cartId, saveCartName), cartId).pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n    }\n    getSavedCartEndpoint(userId, cartId) {\n      return this.occEndpoints.buildUrl('savedCart', {\n        urlParams: {\n          userId,\n          cartId\n        }\n      });\n    }\n    getSavedCartListEndpoint(userId) {\n      return this.occEndpoints.buildUrl('savedCarts', {\n        urlParams: {\n          userId\n        }\n      });\n    }\n    getRestoreSavedCartEndpoint(userId, cartId) {\n      return this.occEndpoints.buildUrl('restoreSavedCart', {\n        urlParams: {\n          userId,\n          cartId\n        }\n      });\n    }\n    getSaveCartEndpoint(userId, cartId, saveCartName, saveCartDescription) {\n      return this.occEndpoints.buildUrl('saveCart', {\n        urlParams: {\n          userId,\n          cartId,\n          saveCartName,\n          saveCartDescription\n        }\n      });\n    }\n    getCloneSavedCartEndpoint(userId, cartId, saveCartName) {\n      return this.occEndpoints.buildUrl('cloneSavedCart', {\n        urlParams: {\n          userId,\n          cartId,\n          saveCartName\n        }\n      });\n    }\n  }\n  OccSavedCartAdapter.ɵfac = function OccSavedCartAdapter_Factory(t) {\n    return new (t || OccSavedCartAdapter)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.OccEndpointsService), i0.ɵɵinject(i2.ConverterService));\n  };\n  OccSavedCartAdapter.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: OccSavedCartAdapter,\n    factory: OccSavedCartAdapter.ɵfac\n  });\n  return OccSavedCartAdapter;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n// Imported for side effects (module augmentation)\n\nconst defaultOccSavedCartConfig = {\n  backend: {\n    occ: {\n      endpoints: {\n        savedCarts: '/users/${userId}/carts?savedCartsOnly=true&fields=carts(DEFAULT,potentialProductPromotions,appliedProductPromotions,potentialOrderPromotions,appliedOrderPromotions,entries(totalPrice(formattedValue),product(images(FULL),stock(FULL)),basePrice(formattedValue,value),updateable),totalPrice(formattedValue),totalItems,totalPriceWithTax(formattedValue),totalDiscounts(value,formattedValue),subTotal(formattedValue),deliveryItemsQuantity,deliveryCost(formattedValue),totalTax(formattedValue, value),pickupItemsQuantity,net,appliedVouchers,productDiscounts(formattedValue),saveTime,user,name,description)',\n        saveCart: '/users/${userId}/carts/${cartId}/save?saveCartName=${saveCartName}&saveCartDescription=${saveCartDescription}',\n        savedCart: '/users/${userId}/carts/${cartId}/savedcart',\n        restoreSavedCart: '/users/${userId}/carts/${cartId}/restoresavedcart',\n        cloneSavedCart: '/users/${userId}/carts/${cartId}/clonesavedcart?name=${saveCartName}'\n      }\n    }\n  }\n};\nlet SavedCartOccModule = /*#__PURE__*/(() => {\n  class SavedCartOccModule {}\n  SavedCartOccModule.ɵfac = function SavedCartOccModule_Factory(t) {\n    return new (t || SavedCartOccModule)();\n  };\n  SavedCartOccModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: SavedCartOccModule\n  });\n  SavedCartOccModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig(defaultOccSavedCartConfig), {\n      provide: SavedCartAdapter,\n      useClass: OccSavedCartAdapter\n    }],\n    imports: [[CommonModule]]\n  });\n  return SavedCartOccModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { OccSavedCartAdapter, SavedCartOccModule };\n//# sourceMappingURL=spartacus-cart-saved-cart-occ.js.map","map":null,"metadata":{},"sourceType":"module"}