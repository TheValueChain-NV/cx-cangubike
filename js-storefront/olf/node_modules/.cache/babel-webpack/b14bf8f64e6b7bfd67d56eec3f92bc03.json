{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Injectable, NgModule } from '@angular/core';\nimport { facadeFactory, provideDefaultConfigFactory, provideDefaultConfig, AuthGuard } from '@spartacus/core';\nimport * as i1 from '@angular/router';\nimport { RouterModule } from '@angular/router';\nimport { OrderEntriesSource, CmsPageGuard, PageLayoutComponent, ORDER_ENTRIES_CONTEXT } from '@spartacus/storefront';\nimport { map } from 'rxjs/operators';\nconst ORDER_FEATURE = 'order';\nconst ORDER_CORE_FEATURE = 'orderCore';\nfunction orderReturnRequestFacadeFactory() {\n  return facadeFactory({\n    facade: OrderReturnRequestFacade,\n    feature: ORDER_CORE_FEATURE,\n    methods: ['createOrderReturnRequest', 'getOrderReturnRequest', 'getOrderReturnRequestList', 'loadOrderReturnRequestDetail', 'loadOrderReturnRequestList', 'clearOrderReturnRequestList', 'getReturnRequestLoading', 'getReturnRequestSuccess', 'clearOrderReturnRequestDetail', 'cancelOrderReturnRequest', 'getCancelReturnRequestLoading', 'getCancelReturnRequestSuccess', 'resetCancelReturnRequestProcessState'],\n    async: true\n  });\n}\nlet OrderReturnRequestFacade = /*#__PURE__*/(() => {\n  class OrderReturnRequestFacade {}\n  OrderReturnRequestFacade.ɵfac = function OrderReturnRequestFacade_Factory(t) {\n    return new (t || OrderReturnRequestFacade)();\n  };\n  OrderReturnRequestFacade.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: OrderReturnRequestFacade,\n    factory: function () {\n      return orderReturnRequestFacadeFactory();\n    },\n    providedIn: 'root'\n  });\n  return OrderReturnRequestFacade;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction orderFacadeFactory() {\n  return facadeFactory({\n    facade: OrderFacade,\n    feature: ORDER_CORE_FEATURE,\n    methods: ['getOrderDetails', 'loadOrderDetails', 'clearOrderDetails', 'getOrderHistoryList', 'getOrderHistoryListLoaded', 'loadOrderList', 'clearOrderList', 'getConsignmentTracking', 'loadConsignmentTracking', 'clearConsignmentTracking', 'cancelOrder', 'getCancelOrderLoading', 'getCancelOrderSuccess', 'resetCancelOrderProcessState'],\n    async: true\n  });\n}\nlet OrderFacade = /*#__PURE__*/(() => {\n  class OrderFacade {}\n  OrderFacade.ɵfac = function OrderFacade_Factory(t) {\n    return new (t || OrderFacade)();\n  };\n  OrderFacade.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: OrderFacade,\n    factory: function () {\n      return orderFacadeFactory();\n    },\n    providedIn: 'root'\n  });\n  return OrderFacade;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction replenishmentOrderFacadeFactory() {\n  return facadeFactory({\n    facade: ReplenishmentOrderFacade,\n    feature: ORDER_CORE_FEATURE,\n    methods: ['loadReplenishmentOrderDetails', 'getReplenishmentOrderDetails', 'getReplenishmentOrderDetailsLoading', 'getReplenishmentOrderDetailsSuccess', 'getReplenishmentOrderDetailsError', 'clearReplenishmentOrderDetails', 'cancelReplenishmentOrder', 'getCancelReplenishmentOrderLoading', 'getCancelReplenishmentOrderSuccess', 'getCancelReplenishmentOrderError', 'clearCancelReplenishmentOrderProcessState', 'getReplenishmentOrderHistoryList', 'getReplenishmentOrderHistoryListLoading', 'getReplenishmentOrderHistoryListError', 'getReplenishmentOrderHistoryListSuccess', 'loadReplenishmentOrderList', 'clearReplenishmentOrderList'],\n    async: true\n  });\n}\nlet ReplenishmentOrderFacade = /*#__PURE__*/(() => {\n  class ReplenishmentOrderFacade {}\n  ReplenishmentOrderFacade.ɵfac = function ReplenishmentOrderFacade_Factory(t) {\n    return new (t || ReplenishmentOrderFacade)();\n  };\n  ReplenishmentOrderFacade.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ReplenishmentOrderFacade,\n    factory: function () {\n      return replenishmentOrderFacadeFactory();\n    },\n    providedIn: 'root'\n  });\n  return ReplenishmentOrderFacade;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet OrderDetailsOrderEntriesContext = /*#__PURE__*/(() => {\n  class OrderDetailsOrderEntriesContext {\n    constructor(userOrderService) {\n      this.userOrderService = userOrderService;\n      this.type = OrderEntriesSource.ORDER_DETAILS;\n    }\n    getEntries() {\n      return this.userOrderService.getOrderDetails().pipe(map(order => {\n        var _a;\n        return (_a = order === null || order === void 0 ? void 0 : order.entries) !== null && _a !== void 0 ? _a : [];\n      }));\n    }\n  }\n  OrderDetailsOrderEntriesContext.ɵfac = function OrderDetailsOrderEntriesContext_Factory(t) {\n    return new (t || OrderDetailsOrderEntriesContext)(i0.ɵɵinject(OrderFacade));\n  };\n  OrderDetailsOrderEntriesContext.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: OrderDetailsOrderEntriesContext,\n    factory: OrderDetailsOrderEntriesContext.ɵfac,\n    providedIn: 'root'\n  });\n  return OrderDetailsOrderEntriesContext;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst defaultOrderRoutingConfig = {\n  routing: {\n    routes: {\n      orders: {\n        paths: ['my-account/orders']\n      },\n      orderDetails: {\n        paths: ['my-account/order/:orderCode'],\n        paramsMapping: {\n          orderCode: 'code'\n        }\n      },\n      orderGuest: {\n        paths: ['guest/order/:orderCode'],\n        paramsMapping: {\n          orderCode: 'code'\n        }\n      },\n      orderReturn: {\n        paths: ['my-account/order/return/:orderCode'],\n        paramsMapping: {\n          orderCode: 'code'\n        }\n      },\n      orderReturnConfirmation: {\n        paths: ['my-account/order/return/confirmation/:orderCode'],\n        paramsMapping: {\n          orderCode: 'code'\n        }\n      },\n      orderCancel: {\n        paths: ['my-account/order/cancel/:orderCode'],\n        paramsMapping: {\n          orderCode: 'code'\n        }\n      },\n      orderCancelConfirmation: {\n        paths: ['my-account/order/cancel/confirmation/:orderCode'],\n        paramsMapping: {\n          orderCode: 'code'\n        }\n      },\n      returnRequestDetails: {\n        paths: ['my-account/return-request/:returnCode'],\n        paramsMapping: {\n          returnCode: 'rma'\n        }\n      },\n      replenishmentOrders: {\n        paths: ['my-account/my-replenishments']\n      },\n      replenishmentDetails: {\n        paths: ['my-account/my-replenishment/:replenishmentOrderCode'],\n        paramsMapping: {\n          replenishmentOrderCode: 'replenishmentOrderCode'\n        }\n      }\n    }\n  }\n};\n\n// TODO: Inline this factory when we start releasing Ivy compiled libraries\nfunction defaultOrderComponentsConfig() {\n  const config = {\n    featureModules: {\n      [ORDER_FEATURE]: {\n        cmsComponents: ['CancelOrderComponent', 'CancelOrderConfirmationComponent', 'ReturnOrderComponent', 'ReturnOrderConfirmationComponent', 'AccountOrderDetailsActionsComponent', 'AccountOrderDetailsItemsComponent', 'AccountOrderDetailsTotalsComponent', 'AccountOrderDetailsShippingComponent', 'AccountOrderHistoryComponent', 'ReplenishmentDetailItemsComponent', 'ReplenishmentDetailTotalsComponent', 'ReplenishmentDetailShippingComponent', 'ReplenishmentDetailActionsComponent', 'ReplenishmentDetailOrderHistoryComponent', 'AccountReplenishmentHistoryComponent', 'ReturnRequestOverviewComponent', 'ReturnRequestItemsComponent', 'ReturnRequestTotalsComponent', 'OrderReturnRequestListComponent']\n      },\n      // by default core is bundled together with components\n      [ORDER_CORE_FEATURE]: ORDER_FEATURE\n    }\n  };\n  return config;\n}\nlet OrderRootModule = /*#__PURE__*/(() => {\n  class OrderRootModule {}\n  OrderRootModule.ɵfac = function OrderRootModule_Factory(t) {\n    return new (t || OrderRootModule)();\n  };\n  OrderRootModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: OrderRootModule\n  });\n  OrderRootModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfigFactory(defaultOrderComponentsConfig), provideDefaultConfig(defaultOrderRoutingConfig)],\n    imports: [[RouterModule.forChild([{\n      // @ts-ignore\n      path: null,\n      canActivate: [AuthGuard, CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        pageLabel: 'order',\n        cxRoute: 'orderGuest'\n      }\n    }, {\n      // @ts-ignore\n      path: null,\n      canActivate: [AuthGuard, CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'orderDetails',\n        cxContext: {\n          [ORDER_ENTRIES_CONTEXT]: OrderDetailsOrderEntriesContext\n        }\n      }\n    }, {\n      // @ts-ignore\n      path: null,\n      canActivate: [CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'orderCancel'\n      }\n    }, {\n      // @ts-ignore\n      path: null,\n      canActivate: [CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'orderCancelConfirmation'\n      }\n    }, {\n      // @ts-ignore\n      path: null,\n      canActivate: [CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'orderReturn'\n      }\n    }, {\n      // @ts-ignore\n      path: null,\n      canActivate: [CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'orderReturnConfirmation'\n      }\n    }, {\n      // @ts-ignore\n      path: null,\n      canActivate: [AuthGuard, CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'orders'\n      }\n    }, {\n      // @ts-ignore\n      path: null,\n      canActivate: [AuthGuard, CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'replenishmentDetails'\n      }\n    }, {\n      // @ts-ignore\n      path: null,\n      canActivate: [AuthGuard, CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'replenishmentOrders'\n      }\n    }, {\n      // @ts-ignore\n      path: null,\n      canActivate: [AuthGuard, CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'returnRequestDetails'\n      }\n    }])]]\n  });\n  return OrderRootModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ORDER_CORE_FEATURE, ORDER_FEATURE, OrderDetailsOrderEntriesContext, OrderFacade, OrderReturnRequestFacade, OrderRootModule, ReplenishmentOrderFacade, defaultOrderComponentsConfig, orderFacadeFactory, orderReturnRequestFacadeFactory, replenishmentOrderFacadeFactory };\n//# sourceMappingURL=spartacus-order-root.js.map","map":null,"metadata":{},"sourceType":"module"}