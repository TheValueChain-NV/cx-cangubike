{"ast":null,"code":"import * as i3 from '@angular/common';\nimport { isPlatformBrowser, CommonModule, DOCUMENT, isPlatformServer, formatCurrency, getCurrencySymbol } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Injectable, Directive, Input, HostBinding, HostListener, EventEmitter, Output, PLATFORM_ID, Inject, APP_INITIALIZER, NgModule, isDevMode, Component, ApplicationRef, Injector, ComponentFactory, TemplateRef, InjectionToken, Optional, ComponentFactoryResolver, ViewChild, ChangeDetectionStrategy, ElementRef, Pipe, forwardRef, InjectFlags, ChangeDetectorRef, SecurityContext, ViewChildren, inject, APP_BOOTSTRAP_LISTENER } from '@angular/core';\nimport * as i1 from '@spartacus/core';\nimport { Config, provideDefaultConfig, ConfigModule, resolveApplicable, isNotNullable, DeferLoadingStrategy, ANONYMOUS_CONSENT_STATUS, I18nModule, FeaturesConfigModule, provideConfig, PromotionLocation, isNotUndefined, GlobalMessageType, AuthGuard, UrlModule, isObject, LANGUAGE_CONTEXT_ID, CURRENCY_CONTEXT_ID, SiteContextModule, ContextServiceMap, EMAIL_PATTERN, PASSWORD_PATTERN, CartValidationStatusCode, CartActions, ConfigChunk, DefaultConfigChunk, deepMerge, CxEvent, PageType, CartModule, RoutingModule as RoutingModule$1, WindowRef, LanguageService, UserAddressService, getLastValueSync, PageMetaModule, OCC_USER_ID_ANONYMOUS, NotificationType, OAuthFlow, UrlMatcherService, DEFAULT_URL_MATCHER, createFrom, FeatureConfigService, THEME_CONTEXT_ID, BaseCoreModule } from '@spartacus/core';\nimport * as i1$1 from '@angular/router';\nimport { NavigationStart, RouterModule, NavigationEnd, NavigationCancel, Router, Scroll } from '@angular/router';\nimport { map, distinctUntilChanged, filter, take, tap, first, flatMap, withLatestFrom, startWith, switchMap, shareReplay, switchMapTo, skipWhile, scan, delayWhen, catchError, mapTo, share, finalize, endWith, debounceTime, pluck, observeOn, skip, pairwise } from 'rxjs/operators';\nimport { of, BehaviorSubject, combineLatest, Subscription, Observable, ReplaySubject, concat, Subject, timer, defer, forkJoin, EMPTY, isObservable, from, using, asapScheduler, interval } from 'rxjs';\nimport { __decorate, __param } from 'tslib';\nimport * as i1$2 from '@angular/platform-browser';\nimport * as i3$1 from '@angular/forms';\nimport { FormGroup, FormControl, FormsModule, ReactiveFormsModule, NG_VALUE_ACCESSOR, Validators, FormArray } from '@angular/forms';\nimport * as i1$3 from '@ng-bootstrap/ng-bootstrap';\nimport { NgbModalRef, NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport * as i1$4 from '@ng-select/ng-select';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport { ofType } from '@ngrx/effects';\nimport * as i1$5 from '@ngrx/store';\nimport * as i1$6 from '@angular/service-worker';\nimport { SwRegistrationOptions, ServiceWorkerModule } from '@angular/service-worker';\nimport * as i6 from 'ngx-infinite-scroll';\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\nimport { HttpUrlEncodingCodec } from '@angular/common/http';\nimport { ROUTER_NAVIGATED } from '@ngrx/router-store';\n\n/** The element attribute used to store the focus state */\nconst _c0 = function (a0) {\n  return {\n    \"anonymous-consent-banner-hidden\": a0\n  };\n};\nfunction AnonymousConsentManagementBannerComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelementStart(2, \"div\", 2);\n    i0.ɵɵelementStart(3, \"div\", 3);\n    i0.ɵɵelementStart(4, \"div\", 4);\n    i0.ɵɵelementStart(5, \"div\", 5);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 6);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 7);\n    i0.ɵɵelementStart(12, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function AnonymousConsentManagementBannerComponent_ng_container_0_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.viewDetails();\n    });\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function AnonymousConsentManagementBannerComponent_ng_container_0_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.allowAll();\n    });\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const bannerVisible_r1 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(13, _c0, !bannerVisible_r1));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(7, 5, \"anonymousConsents.banner.title\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(10, 7, \"anonymousConsents.banner.description\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(14, 9, \"anonymousConsents.banner.viewDetails\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(17, 11, \"anonymousConsents.banner.allowAll\"), \" \");\n  }\n}\nconst _c1 = [\"*\"];\nfunction AnonymousConsentDialogComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"cx-spinner\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AnonymousConsentDialogComponent_ng_template_4_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelement(3, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"anonymousConsents.dialog.legalDescription\"), \" \");\n  }\n}\nfunction AnonymousConsentDialogComponent_ng_template_4_div_16_ng_container_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵelementStart(1, \"cx-consent-management-form\", 18);\n    i0.ɵɵlistener(\"consentChanged\", function AnonymousConsentDialogComponent_ng_template_4_div_16_ng_container_1_div_1_Template_cx_consent_management_form_consentChanged_1_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(4);\n      return ctx_r10.onConsentChange($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const template_r9 = ctx.$implicit;\n    const consents_r7 = i0.ɵɵnextContext().ngIf;\n    const ctx_r8 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"consentTemplate\", template_r9)(\"requiredConsents\", ctx_r8.requiredConsents)(\"consent\", ctx_r8.getCorrespondingConsent(template_r9, consents_r7));\n  }\n}\nfunction AnonymousConsentDialogComponent_ng_template_4_div_16_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AnonymousConsentDialogComponent_ng_template_4_div_16_ng_container_1_div_1_Template, 2, 3, \"div\", 16);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const templates_r5 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", templates_r5);\n  }\n}\nfunction AnonymousConsentDialogComponent_ng_template_4_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtemplate(1, AnonymousConsentDialogComponent_ng_template_4_div_16_ng_container_1_Template, 2, 1, \"ng-container\", 15);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r4.consents$));\n  }\n}\nfunction AnonymousConsentDialogComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelementStart(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function AnonymousConsentDialogComponent_ng_template_4_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.close(\"Cross click\");\n    });\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementStart(6, \"span\", 6);\n    i0.ɵɵelement(7, \"cx-icon\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, AnonymousConsentDialogComponent_ng_template_4_div_8_Template, 4, 3, \"div\", 8);\n    i0.ɵɵelementStart(9, \"div\", 9);\n    i0.ɵɵelementStart(10, \"a\", 10);\n    i0.ɵɵlistener(\"click\", function AnonymousConsentDialogComponent_ng_template_4_Template_a_click_10_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.rejectAll();\n    });\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"a\", 10);\n    i0.ɵɵlistener(\"click\", function AnonymousConsentDialogComponent_ng_template_4_Template_a_click_13_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.allowAll();\n    });\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, AnonymousConsentDialogComponent_ng_template_4_div_16_Template, 3, 3, \"div\", 11);\n    i0.ɵɵpipe(17, \"async\");\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 7, \"anonymousConsents.dialog.title\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(5, 9, \"common.close\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"type\", ctx_r2.iconTypes.CLOSE);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showLegalDescription);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 11, \"anonymousConsents.dialog.clearAll\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(15, 13, \"anonymousConsents.dialog.selectAll\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(17, 15, ctx_r2.templates$));\n  }\n}\nconst _c2 = [\"open\"];\nconst _c3 = function (a0) {\n  return {\n    quantity: a0\n  };\n};\nfunction CartItemValidationWarningComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelementStart(1, \"span\", 3);\n    i0.ɵɵelement(2, \"cx-icon\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function CartItemValidationWarningComponent_ng_container_0_div_1_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return ctx_r3.isVisible = !ctx_r3.isVisible;\n    });\n    i0.ɵɵelement(7, \"cx-icon\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cartModification_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"type\", ctx_r2.iconTypes.INFO);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(5, 3, \"validation.\" + cartModification_r1.statusCode, i0.ɵɵpureFunction1(6, _c3, cartModification_r1.quantityAdded)), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"type\", ctx_r2.iconTypes.CLOSE);\n  }\n}\nfunction CartItemValidationWarningComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CartItemValidationWarningComponent_ng_container_0_div_1_Template, 8, 8, \"div\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isVisible);\n  }\n}\nfunction MediaComponent_img_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"img\", 1);\n    i0.ɵɵlistener(\"load\", function MediaComponent_img_0_Template_img_load_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return ctx_r1.loadHandler();\n    })(\"error\", function MediaComponent_img_0_Template_img_error_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.errorHandler();\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵattribute(\"src\", ctx_r0.media.src, i0.ɵɵsanitizeUrl)(\"srcset\", ctx_r0.media.srcset, i0.ɵɵsanitizeUrl)(\"alt\", ctx_r0.media.alt)(\"role\", ctx_r0.media.role)(\"loading\", ctx_r0.loading);\n  }\n}\nconst _c4 = [\"qty\"];\nfunction PromotionsComponent_div_0_ul_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵelementStart(1, \"li\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const promotion_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(promotion_r2.description);\n  }\n}\nfunction PromotionsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtemplate(1, PromotionsComponent_div_0_ul_1_Template, 3, 1, \"ul\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.promotions);\n  }\n}\nfunction CartItemComponent_ng_template_0_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"cx-cart-item-validation-warning\", 21);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"code\", ctx_r1.item.product.code);\n  }\n}\nconst _c5 = function (a1) {\n  return {\n    cxRoute: \"product\",\n    params: a1\n  };\n};\nfunction CartItemComponent_ng_template_0_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵelementStart(1, \"a\", 23);\n    i0.ɵɵpipe(2, \"cxUrl\");\n    i0.ɵɵelementStart(3, \"h2\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(2, 2, i0.ɵɵpureFunction1(4, _c5, ctx_r2.item.product)));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r2.item.product.name);\n  }\n}\nfunction CartItemComponent_ng_template_0_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind1(2, 2, \"cartItems.id\"), \" \", ctx_r3.item.product.code, \" \");\n  }\n}\nfunction CartItemComponent_ng_template_0_ng_template_11_Template(rf, ctx) {}\nfunction CartItemComponent_ng_template_0_ng_container_12_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const variant_r14 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", variant_r14.name, \": \", variant_r14.value, \" \");\n  }\n}\nfunction CartItemComponent_ng_template_0_ng_container_12_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtemplate(1, CartItemComponent_ng_template_0_ng_container_12_div_1_div_1_Template, 2, 2, \"div\", 27);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const variant_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", variant_r14.name && variant_r14.value);\n  }\n}\nfunction CartItemComponent_ng_template_0_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CartItemComponent_ng_template_0_ng_container_12_div_1_Template, 2, 1, \"div\", 25);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.item.product.baseOptions[0] == null ? null : ctx_r5.item.product.baseOptions[0].selected == null ? null : ctx_r5.item.product.baseOptions[0].selected.variantOptionQualifiers);\n  }\n}\nfunction CartItemComponent_ng_template_0_div_13_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r17.item.basePrice == null ? null : ctx_r17.item.basePrice.formattedValue, \" \");\n  }\n}\nfunction CartItemComponent_ng_template_0_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵelementStart(1, \"div\", 30);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, CartItemComponent_ng_template_0_div_13_div_4_Template, 2, 1, \"div\", 31);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r6.compact ? \"\" : \" col-md-3 col-lg-3 col-xl-2\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r6.compact ? \"\" : \" d-block d-md-none d-lg-none d-xl-none\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 4, \"cartItems.itemPrice\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.item.basePrice);\n  }\n}\nfunction CartItemComponent_ng_template_0_ng_container_21_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r18.item.product.stock.stockLevel, \" \");\n  }\n}\nfunction CartItemComponent_ng_template_0_ng_container_21_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"saveForLaterItems.forceInStock\"), \" \");\n  }\n}\nfunction CartItemComponent_ng_template_0_ng_container_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 32);\n    i0.ɵɵelementStart(2, \"div\", 30);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, CartItemComponent_ng_template_0_ng_container_21_div_5_Template, 2, 1, \"div\", 33);\n    i0.ɵɵtemplate(6, CartItemComponent_ng_template_0_ng_container_21_ng_template_6_Template, 3, 3, \"ng-template\", null, 34, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const _r19 = i0.ɵɵreference(7);\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r7.compact ? \"\" : \" col-md-3 col-lg-3 col-xl-2\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r7.compact ? \"\" : \" d-block d-md-none d-lg-none d-xl-none\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 5, \"saveForLaterItems.stock\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r7.item.product == null ? null : ctx_r7.item.product.stock == null ? null : ctx_r7.item.product.stock.stockLevel) >= 0)(\"ngIfElse\", _r19);\n  }\n}\nfunction CartItemComponent_ng_template_0_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"addToCart.outOfStock\"), \" \");\n  }\n}\nfunction CartItemComponent_ng_template_0_ng_template_23_Template(rf, ctx) {}\nfunction CartItemComponent_ng_template_0_div_25_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nconst _c6 = function (a0, a1) {\n  return {\n    loading: a0,\n    item: a1\n  };\n};\nconst _c7 = function (a0) {\n  return {\n    $implicit: a0\n  };\n};\nfunction CartItemComponent_ng_template_0_div_25_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CartItemComponent_ng_template_0_div_25_ng_container_1_ng_container_1_Template, 1, 0, \"ng-container\", 39);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r21.options.optionalBtn)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(5, _c7, i0.ɵɵpureFunction2(2, _c6, ctx_r21.quantityControl.disabled, ctx_r21.item)));\n  }\n}\nfunction CartItemComponent_ng_template_0_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵtemplate(1, CartItemComponent_ng_template_0_div_25_ng_container_1_Template, 2, 7, \"ng-container\", 10);\n    i0.ɵɵelementStart(2, \"div\", 37);\n    i0.ɵɵelementStart(3, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function CartItemComponent_ng_template_0_div_25_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return ctx_r23.removeItem();\n    });\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r10.isProductOutOfStock(ctx_r10.item.product));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r10.quantityControl.disabled);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(4, 4, \"addToCart.removeFromCart\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(6, 6, \"common.remove\"), \" \");\n  }\n}\nfunction CartItemComponent_ng_template_0_ng_template_26_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵelementStart(1, \"div\", 30);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 14);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngClass\", ctx_r25.compact ? \"\" : \" col-md-3 col-xl-2\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r25.compact ? \"\" : \" d-block d-md-none d-lg-none d-xl-none\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 4, \"cartItems.total\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r25.item.totalPrice.formattedValue);\n  }\n}\nfunction CartItemComponent_ng_template_0_ng_template_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, CartItemComponent_ng_template_0_ng_template_26_div_0_Template, 6, 6, \"div\", 40);\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r12.item.totalPrice);\n  }\n}\nfunction CartItemComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, CartItemComponent_ng_template_0_ng_container_0_Template, 2, 1, \"ng-container\", 1);\n    i0.ɵɵelementStart(1, \"div\", 2);\n    i0.ɵɵelementStart(2, \"div\", 3);\n    i0.ɵɵelementStart(3, \"a\", 4);\n    i0.ɵɵpipe(4, \"cxUrl\");\n    i0.ɵɵelement(5, \"cx-media\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 6);\n    i0.ɵɵelementStart(7, \"div\", 7);\n    i0.ɵɵelementStart(8, \"div\", 2);\n    i0.ɵɵtemplate(9, CartItemComponent_ng_template_0_div_9_Template, 5, 6, \"div\", 8);\n    i0.ɵɵtemplate(10, CartItemComponent_ng_template_0_div_10_Template, 3, 4, \"div\", 9);\n    i0.ɵɵtemplate(11, CartItemComponent_ng_template_0_ng_template_11_Template, 0, 0, \"ng-template\", 0);\n    i0.ɵɵtemplate(12, CartItemComponent_ng_template_0_ng_container_12_Template, 2, 1, \"ng-container\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, CartItemComponent_ng_template_0_div_13_Template, 5, 6, \"div\", 11);\n    i0.ɵɵelementStart(14, \"div\", 12);\n    i0.ɵɵelementStart(15, \"div\", 13);\n    i0.ɵɵpipe(16, \"cxTranslate\");\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 14);\n    i0.ɵɵelement(20, \"cx-item-counter\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(21, CartItemComponent_ng_template_0_ng_container_21_Template, 8, 7, \"ng-container\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(22, CartItemComponent_ng_template_0_div_22_Template, 3, 3, \"div\", 17);\n    i0.ɵɵtemplate(23, CartItemComponent_ng_template_0_ng_template_23_Template, 0, 0, \"ng-template\", 0);\n    i0.ɵɵelement(24, \"cx-promotions\", 18);\n    i0.ɵɵtemplate(25, CartItemComponent_ng_template_0_div_25_Template, 7, 8, \"div\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(26, CartItemComponent_ng_template_0_ng_template_26_Template, 1, 1, \"ng-template\", null, 20, i0.ɵɵtemplateRefExtractor);\n  }\n  if (rf & 2) {\n    const _r11 = i0.ɵɵreference(27);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"cxFeatureLevel\", \"4.2\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.compact ? \"cx-compact row\" : \"row\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(4, 26, i0.ɵɵpureFunction1(32, _c5, ctx_r0.item.product)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"container\", ctx_r0.item.product.images == null ? null : ctx_r0.item.product.images.PRIMARY);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.compact ? \"\" : \" col-md-3 col-lg-3 col-xl-5\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.item.product.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.item.product.code);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cxOutlet\", ctx_r0.CartOutlets.ITEM_DETAILS);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.item.product.baseOptions == null ? null : ctx_r0.item.product.baseOptions.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.item.basePrice);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.compact ? \"\" : \" col-3\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"title\", i0.ɵɵpipeBind1(16, 28, \"cartItems.quantityTitle\"));\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.compact ? \"\" : \" d-block d-md-none d-lg-none d-xl-none\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(18, 30, \"cartItems.quantity\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"readonly-value\", ctx_r0.readonly);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"control\", ctx_r0.quantityControl)(\"readonly\", !ctx_r0.item.updateable || ctx_r0.readonly || ctx_r0.options.isSaveForLater)(\"max\", ctx_r0.item.product.stock == null ? null : ctx_r0.item.product.stock.stockLevel)(\"allowZero\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.options.isSaveForLater)(\"ngIfElse\", _r11);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isProductOutOfStock(ctx_r0.item.product));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cxOutlet\", ctx_r0.CartOutlets.ITEM_BUNDLE_DETAILS);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"promotions\", ctx_r0.item.promotions);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (!ctx_r0.readonly || ctx_r0.options.isSaveForLater) && ctx_r0.item.updateable);\n  }\n}\nconst _c8 = [\"dialog\"];\nconst _c9 = function (a0) {\n  return {\n    count: a0\n  };\n};\nconst _c10 = function () {\n  return [];\n};\nconst _c11 = function () {\n  return {\n    cxRoute: \"cart\"\n  };\n};\nconst _c12 = function () {\n  return {\n    cxRoute: \"checkout\"\n  };\n};\nfunction AddedToCartDialogComponent_ng_container_2_div_11_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵelementStart(1, \"div\", 16);\n    i0.ɵɵelementStart(2, \"div\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 17);\n    i0.ɵɵelement(8, \"cx-promotions\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 19);\n    i0.ɵɵelementStart(10, \"a\", 20);\n    i0.ɵɵpipe(11, \"cxUrl\");\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"a\", 21);\n    i0.ɵɵpipe(15, \"cxUrl\");\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cart_r7 = ctx.ngIf;\n    const ctx_r6 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 11, \"cartItems.cartTotal\", i0.ɵɵpureFunction1(22, _c9, cart_r7.deliveryItemsQuantity)), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(cart_r7.subTotal == null ? null : cart_r7.subTotal.formattedValue);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"promotions\", (cart_r7.appliedOrderPromotions || i0.ɵɵpureFunction0(25, _c10)).concat(cart_r7.potentialOrderPromotions || i0.ɵɵpureFunction0(24, _c10)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"disabled\", ctx_r6.form.dirty);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(11, 14, i0.ɵɵpureFunction0(26, _c11)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(13, 16, \"addToCart.viewCart\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"disabled\", ctx_r6.form.dirty);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(15, 18, i0.ɵɵpureFunction0(27, _c12)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(17, 20, \"addToCart.proceedToCheckout\"));\n  }\n}\nfunction AddedToCartDialogComponent_ng_container_2_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelementStart(1, \"div\", 10);\n    i0.ɵɵelementStart(2, \"div\", 11);\n    i0.ɵɵelement(3, \"cx-cart-item\", 12);\n    i0.ɵɵpipe(4, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"div\", 13);\n    i0.ɵɵtemplate(6, AddedToCartDialogComponent_ng_container_2_div_11_div_6_Template, 18, 28, \"div\", 14);\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const entry_r5 = ctx.ngIf;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"item\", entry_r5)(\"compact\", true)(\"quantityControl\", i0.ɵɵpipeBind1(4, 5, ctx_r4.getQuantityControl()))(\"promotionLocation\", ctx_r4.promotionLocation);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(7, 7, ctx_r4.cart$));\n  }\n}\nfunction AddedToCartDialogComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"async\");\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵpipe(6, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 5);\n    i0.ɵɵpipe(8, \"cxTranslate\");\n    i0.ɵɵelementStart(9, \"span\", 6);\n    i0.ɵɵelement(10, \"cx-icon\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, AddedToCartDialogComponent_ng_container_2_div_11_Template, 8, 9, \"div\", 8);\n    i0.ɵɵpipe(12, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 4, ctx_r1.addedEntryWasMerged$) ? i0.ɵɵpipeBind1(5, 6, \"addToCart.itemsIncrementedInYourCart\") : i0.ɵɵpipeBind1(6, 8, \"addToCart.itemsAddedToYourCart\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(8, 10, \"addToCart.closeModal\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"type\", ctx_r1.iconTypes.CLOSE);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(12, 12, ctx_r1.entry$));\n  }\n}\nfunction AddedToCartDialogComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelementStart(1, \"div\", 22);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 5);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementStart(6, \"span\", 6);\n    i0.ɵɵelement(7, \"cx-icon\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 9);\n    i0.ɵɵelementStart(9, \"div\", 10);\n    i0.ɵɵelementStart(10, \"div\", 23);\n    i0.ɵɵelement(11, \"cx-spinner\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 3, \"addToCart.updatingCart\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(5, 5, \"common.close\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"type\", ctx_r3.iconTypes.CLOSE);\n  }\n}\nfunction AddToCartComponent_form_0_div_1_cx_item_counter_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-item-counter\", 8);\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"max\", ctx_r3.maxQuantity)(\"control\", ctx_r3.addToCartForm.get(\"quantity\"));\n  }\n}\nfunction AddToCartComponent_form_0_div_1_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r4.getInventory());\n  }\n}\nfunction AddToCartComponent_form_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelementStart(1, \"label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AddToCartComponent_form_0_div_1_cx_item_counter_4_Template, 1, 2, \"cx-item-counter\", 5);\n    i0.ɵɵelementStart(5, \"span\", 6);\n    i0.ɵɵtemplate(6, AddToCartComponent_form_0_div_1_span_6_Template, 2, 1, \"span\", 7);\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"cxTranslate\");\n    i0.ɵɵpipe(10, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 4, \"addToCart.quantity\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.hasStock);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(7, 6, ctx_r1.showInventory$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.hasStock ? i0.ɵɵpipeBind1(9, 8, \"addToCart.inStock\") : i0.ɵɵpipeBind1(10, 10, \"addToCart.outOfStock\"), \"\");\n  }\n}\nfunction AddToCartComponent_form_0_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.quantity <= 0 || ctx_r2.quantity > ctx_r2.maxQuantity);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 2, \"addToCart.addToCart\"), \" \");\n  }\n}\nfunction AddToCartComponent_form_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 1);\n    i0.ɵɵlistener(\"submit\", function AddToCartComponent_form_0_Template_form_submit_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.addToCart();\n    });\n    i0.ɵɵtemplate(1, AddToCartComponent_form_0_div_1_Template, 11, 12, \"div\", 2);\n    i0.ɵɵtemplate(2, AddToCartComponent_form_0_button_2_Template, 3, 4, \"button\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.addToCartForm);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showQuantity);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.hasStock);\n  }\n}\nfunction ConsentManagementComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 2);\n    i0.ɵɵelement(2, \"cx-spinner\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ConsentManagementComponent_ng_template_2_ng_container_0_cx_consent_management_form_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"cx-consent-management-form\", 9);\n    i0.ɵɵlistener(\"consentChanged\", function ConsentManagementComponent_ng_template_2_ng_container_0_cx_consent_management_form_11_Template_cx_consent_management_form_consentChanged_0_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(3);\n      return ctx_r7.onConsentChange($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const consentTemplate_r6 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"consentTemplate\", consentTemplate_r6)(\"requiredConsents\", ctx_r5.requiredConsents);\n  }\n}\nfunction ConsentManagementComponent_ng_template_2_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵelementStart(2, \"div\", 5);\n    i0.ɵɵelementStart(3, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ConsentManagementComponent_ng_template_2_ng_container_0_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const templateList_r4 = restoredCtx.ngIf;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return ctx_r9.rejectAll(templateList_r4);\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function ConsentManagementComponent_ng_template_2_ng_container_0_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const templateList_r4 = restoredCtx.ngIf;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return ctx_r11.allowAll(templateList_r4);\n    });\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 7);\n    i0.ɵɵelementStart(10, \"div\", 5);\n    i0.ɵɵtemplate(11, ConsentManagementComponent_ng_template_2_ng_container_0_cx_consent_management_form_11_Template, 1, 2, \"cx-consent-management-form\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const templateList_r4 = ctx.ngIf;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 3, \"consentManagementForm.clearAll\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(8, 5, \"consentManagementForm.selectAll\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", templateList_r4);\n  }\n}\nfunction ConsentManagementComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, ConsentManagementComponent_ng_template_2_ng_container_0_Template, 12, 7, \"ng-container\", 3);\n    i0.ɵɵpipe(1, \"async\");\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx_r2.templateList$));\n  }\n}\nfunction PopoverComponent_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵlistener(\"keydown.enter\", function PopoverComponent_button_3_Template_button_keydown_enter_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.close($event);\n    })(\"keydown.space\", function PopoverComponent_button_3_Template_button_keydown_space_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.close($event);\n    })(\"click\", function PopoverComponent_button_3_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.close($event);\n    });\n    i0.ɵɵelement(1, \"cx-icon\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"type\", ctx_r0.iconTypes.CLOSE);\n  }\n}\nfunction PopoverComponent_ng_container_4_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction PopoverComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, PopoverComponent_ng_container_4_ng_container_1_Template, 1, 0, \"ng-container\", 7);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r1.content);\n  }\n}\nfunction PopoverComponent_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.content);\n  }\n}\nfunction TruncateTextPopoverComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.content, \" \");\n  }\n}\nconst _c13 = function () {\n  return {\n    placement: \"auto\",\n    appendToBody: true,\n    displayCloseButton: true\n  };\n};\nfunction TruncateTextPopoverComponent_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r0 = i0.ɵɵreference(6);\n    i0.ɵɵproperty(\"cxPopover\", _r0)(\"cxPopoverOptions\", i0.ɵɵpureFunction0(5, _c13));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 3, \"common.more\"), \" \");\n  }\n}\nconst _c14 = function (a0) {\n  return [a0];\n};\nfunction CardComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.content.header, \" \");\n  }\n}\nfunction CardComponent_div_0_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.content.deleteMsg, \" \");\n  }\n}\nfunction CardComponent_div_0_h3_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h3\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.content.title, \" \");\n  }\n}\nfunction CardComponent_div_0_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.content.textBold, \" \");\n  }\n}\nfunction CardComponent_div_0_div_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const line_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", line_r10, \" \");\n  }\n}\nfunction CardComponent_div_0_div_8_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-truncate-text-popover\", 21);\n  }\n  if (rf & 2) {\n    const line_r10 = i0.ɵɵnextContext().$implicit;\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"charactersLimit\", ctx_r13.charactersLimit)(\"content\", line_r10);\n  }\n}\nfunction CardComponent_div_0_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, CardComponent_div_0_div_8_div_1_Template, 2, 1, \"div\", 18);\n    i0.ɵɵtemplate(2, CardComponent_div_0_div_8_ng_template_2_Template, 1, 2, \"ng-template\", null, 19, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r12 = i0.ɵɵreference(3);\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.truncateText)(\"ngIfElse\", _r12);\n  }\n}\nfunction CardComponent_div_0_div_9_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 24);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const text_r18 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", text_r18, \" \");\n  }\n}\nfunction CardComponent_div_0_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵelementStart(1, \"div\", 23);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, CardComponent_div_0_div_9_div_3_Template, 3, 1, \"div\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r16 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r16.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", item_r16.text);\n  }\n}\nfunction CardComponent_div_0_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵelement(1, \"cx-icon\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"type\", ctx_r7.content.img);\n  }\n}\nfunction CardComponent_div_0_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵelementStart(1, \"div\", 28);\n    i0.ɵɵelementStart(2, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function CardComponent_div_0_div_11_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return ctx_r19.cancelEdit();\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 28);\n    i0.ɵɵelementStart(6, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function CardComponent_div_0_div_11_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return ctx_r21.delete();\n    });\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 2, \"common.cancel\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(8, 4, \"common.delete\"), \" \");\n  }\n}\nfunction CardComponent_div_0_div_12_div_1_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 35);\n    i0.ɵɵlistener(\"click\", function CardComponent_div_0_div_12_div_1_a_2_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r29 = i0.ɵɵnextContext(4);\n      return ctx_r29.delete();\n    })(\"keydown.enter\", function CardComponent_div_0_div_12_div_1_a_2_Template_a_keydown_enter_0_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r31 = i0.ɵɵnextContext(4);\n      return ctx_r31.delete();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const action_r23 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(action_r23.name);\n  }\n}\nfunction CardComponent_div_0_div_12_div_1_a_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 35);\n    i0.ɵɵlistener(\"click\", function CardComponent_div_0_div_12_div_1_a_3_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r34);\n      const ctx_r33 = i0.ɵɵnextContext(4);\n      return ctx_r33.setDefault();\n    })(\"keydown.enter\", function CardComponent_div_0_div_12_div_1_a_3_Template_a_keydown_enter_0_listener() {\n      i0.ɵɵrestoreView(_r34);\n      const ctx_r35 = i0.ɵɵnextContext(4);\n      return ctx_r35.setDefault();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const action_r23 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(action_r23.name);\n  }\n}\nfunction CardComponent_div_0_div_12_div_1_a_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 35);\n    i0.ɵɵlistener(\"click\", function CardComponent_div_0_div_12_div_1_a_4_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext(4);\n      return ctx_r37.send();\n    })(\"keydown.enter\", function CardComponent_div_0_div_12_div_1_a_4_Template_a_keydown_enter_0_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r39 = i0.ɵɵnextContext(4);\n      return ctx_r39.send();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const action_r23 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(action_r23.name);\n  }\n}\nfunction CardComponent_div_0_div_12_div_1_a_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 35);\n    i0.ɵɵlistener(\"click\", function CardComponent_div_0_div_12_div_1_a_5_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r41 = i0.ɵɵnextContext(4);\n      return ctx_r41.edit();\n    })(\"keydown.enter\", function CardComponent_div_0_div_12_div_1_a_5_Template_a_keydown_enter_0_listener() {\n      i0.ɵɵrestoreView(_r42);\n      const ctx_r43 = i0.ɵɵnextContext(4);\n      return ctx_r43.edit();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const action_r23 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(action_r23.name);\n  }\n}\nfunction CardComponent_div_0_div_12_div_1_a_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const action_r23 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate(\"href\", action_r23.link, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(action_r23.name);\n  }\n}\nfunction CardComponent_div_0_div_12_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 32);\n    i0.ɵɵtemplate(2, CardComponent_div_0_div_12_div_1_a_2_Template, 2, 1, \"a\", 33);\n    i0.ɵɵtemplate(3, CardComponent_div_0_div_12_div_1_a_3_Template, 2, 1, \"a\", 33);\n    i0.ɵɵtemplate(4, CardComponent_div_0_div_12_div_1_a_4_Template, 2, 1, \"a\", 33);\n    i0.ɵɵtemplate(5, CardComponent_div_0_div_12_div_1_a_5_Template, 2, 1, \"a\", 33);\n    i0.ɵɵtemplate(6, CardComponent_div_0_div_12_div_1_a_6_Template, 2, 2, \"a\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const action_r23 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", action_r23.event);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"delete\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"default\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"send\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"edit\");\n  }\n}\nfunction CardComponent_div_0_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 31);\n    i0.ɵɵtemplate(1, CardComponent_div_0_div_12_div_1_Template, 7, 5, \"div\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r9.content.actions);\n  }\n}\nfunction CardComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtemplate(1, CardComponent_div_0_div_1_Template, 2, 1, \"div\", 2);\n    i0.ɵɵelementStart(2, \"div\", 3);\n    i0.ɵɵtemplate(3, CardComponent_div_0_div_3_Template, 2, 1, \"div\", 4);\n    i0.ɵɵtemplate(4, CardComponent_div_0_h3_4_Template, 2, 1, \"h3\", 5);\n    i0.ɵɵelementStart(5, \"div\", 6);\n    i0.ɵɵelementStart(6, \"div\", 7);\n    i0.ɵɵtemplate(7, CardComponent_div_0_div_7_Template, 2, 1, \"div\", 8);\n    i0.ɵɵtemplate(8, CardComponent_div_0_div_8_Template, 4, 2, \"div\", 9);\n    i0.ɵɵtemplate(9, CardComponent_div_0_div_9_Template, 4, 2, \"div\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, CardComponent_div_0_div_10_Template, 2, 1, \"div\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, CardComponent_div_0_div_11_Template, 9, 6, \"div\", 12);\n    i0.ɵɵtemplate(12, CardComponent_div_0_div_12_Template, 2, 1, \"div\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"cx-card-border\", ctx_r0.border)(\"cx-card-fit-to-container\", ctx_r0.fitToContainer);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.content.header && !ctx_r0.editMode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"cx-card-delete\", ctx_r0.editMode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.editMode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.content.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.content.textBold);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.content.text);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.content.paragraphs);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.content.img);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.editMode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.content.actions && !ctx_r0.editMode);\n  }\n}\nfunction CarouselComponent_ng_container_0_h2_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r2.title);\n  }\n}\nfunction CarouselComponent_ng_container_0_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function CarouselComponent_ng_container_0_button_3_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const size_r1 = i0.ɵɵnextContext().ngIf;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.activeSlide = ctx_r7.activeSlide - size_r1;\n    });\n    i0.ɵɵpipe(1, \"cxTranslate\");\n    i0.ɵɵelement(2, \"cx-icon\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", ctx_r3.activeSlide === 0);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 3, \"carousel.previousSlide\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"type\", ctx_r3.previousIcon);\n  }\n}\nfunction CarouselComponent_ng_container_0_ng_container_5_div_1_ng_container_1_div_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nconst _c15 = function (a0) {\n  return {\n    item: a0\n  };\n};\nfunction CarouselComponent_ng_container_0_ng_container_5_div_1_ng_container_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtemplate(1, CarouselComponent_ng_container_0_ng_container_5_div_1_ng_container_1_div_1_ng_container_1_Template, 1, 0, \"ng-container\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r17 = ctx.ngIf;\n    const i_r11 = i0.ɵɵnextContext(3).index;\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"active\", i_r11 === ctx_r16.activeSlide);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r16.template)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(4, _c15, data_r17));\n  }\n}\nfunction CarouselComponent_ng_container_0_ng_container_5_div_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CarouselComponent_ng_container_0_ng_container_5_div_1_ng_container_1_div_1_Template, 2, 6, \"div\", 11);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r14 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, item_r14));\n  }\n}\nfunction CarouselComponent_ng_container_0_ng_container_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtemplate(1, CarouselComponent_ng_container_0_ng_container_5_div_1_ng_container_1_Template, 3, 3, \"ng-container\", 4);\n    i0.ɵɵpipe(2, \"slice\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r11 = i0.ɵɵnextContext().index;\n    const size_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", i_r11 === ctx_r12.activeSlide);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(2, 3, ctx_r12.items, i_r11, i_r11 + size_r1));\n  }\n}\nfunction CarouselComponent_ng_container_0_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CarouselComponent_ng_container_0_ng_container_5_div_1_Template, 3, 7, \"div\", 9);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const i_r11 = ctx.index;\n    const size_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i_r11 % size_r1 === 0);\n  }\n}\nfunction CarouselComponent_ng_container_0_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function CarouselComponent_ng_container_0_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const size_r1 = i0.ɵɵnextContext().ngIf;\n      const ctx_r23 = i0.ɵɵnextContext();\n      return ctx_r23.activeSlide = ctx_r23.activeSlide + size_r1;\n    });\n    i0.ɵɵpipe(1, \"cxTranslate\");\n    i0.ɵɵelement(2, \"cx-icon\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const size_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", ctx_r5.activeSlide > ctx_r5.items.length - size_r1 - 1);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 3, \"carousel.nextSlide\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"type\", ctx_r5.nextIcon);\n  }\n}\nconst _c16 = function (a0) {\n  return {\n    currentSlideNumber: a0\n  };\n};\nfunction CarouselComponent_ng_container_0_div_7_ng_container_1_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 17);\n    i0.ɵɵlistener(\"focus\", function CarouselComponent_ng_container_0_div_7_ng_container_1_button_1_Template_button_focus_0_listener() {\n      i0.ɵɵrestoreView(_r32);\n      const i_r29 = i0.ɵɵnextContext().index;\n      const ctx_r31 = i0.ɵɵnextContext(3);\n      return ctx_r31.activeSlide = i_r29;\n    });\n    i0.ɵɵpipe(1, \"cxTranslate\");\n    i0.ɵɵelement(2, \"cx-icon\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r29 = i0.ɵɵnextContext().index;\n    const size_r1 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r30 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", i_r29 === ctx_r30.activeSlide);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind2(1, 3, \"carousel.slideNumber\", i0.ɵɵpureFunction1(6, _c16, ctx_r30.getSlideNumber(size_r1, i_r29))));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"type\", ctx_r30.indicatorIcon);\n  }\n}\nfunction CarouselComponent_ng_container_0_div_7_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CarouselComponent_ng_container_0_div_7_ng_container_1_button_1_Template, 3, 8, \"button\", 16);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const i_r29 = ctx.index;\n    const size_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i_r29 % size_r1 === 0);\n  }\n}\nfunction CarouselComponent_ng_container_0_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtemplate(1, CarouselComponent_ng_container_0_div_7_ng_container_1_Template, 2, 1, \"ng-container\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.items);\n  }\n}\nfunction CarouselComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CarouselComponent_ng_container_0_h2_1_Template, 2, 1, \"h2\", 0);\n    i0.ɵɵelementStart(2, \"div\", 1);\n    i0.ɵɵtemplate(3, CarouselComponent_ng_container_0_button_3_Template, 3, 5, \"button\", 2);\n    i0.ɵɵelementStart(4, \"div\", 3);\n    i0.ɵɵtemplate(5, CarouselComponent_ng_container_0_ng_container_5_Template, 2, 1, \"ng-container\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, CarouselComponent_ng_container_0_button_6_Template, 3, 5, \"button\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, CarouselComponent_ng_container_0_div_7_Template, 2, 1, \"div\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const size_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", \"size-\" + size_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", size_r1 < ctx_r0.items.length);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.items);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", size_r1 < ctx_r0.items.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.hideIndicators && size_r1 < ctx_r0.items.length);\n  }\n}\nfunction FormErrorsComponent_p_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const error_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, ctx_r0.prefix + \".\" + error_r1[0], ctx_r0.getTranslationParams(error_r1[1])), \"\\n\");\n  }\n}\nconst _c17 = function (a0, a1) {\n  return {\n    max: a0,\n    min: a1\n  };\n};\nconst _c18 = [\"fileInput\"];\nfunction FileUploadComponent_p_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const file_r2 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", file_r2 == null ? null : file_r2.name, \"\\n\");\n  }\n}\nfunction GenericLinkComponent_ng_container_0_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction GenericLinkComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 3);\n    i0.ɵɵtemplate(2, GenericLinkComponent_ng_container_0_ng_container_2_Template, 1, 0, \"ng-container\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    const _r3 = i0.ɵɵreference(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"href\", ctx_r0.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵattribute(\"target\", ctx_r0.target)(\"rel\", ctx_r0.rel)(\"id\", ctx_r0.id)(\"class\", ctx_r0.class)(\"style\", ctx_r0.style, i0.ɵɵsanitizeStyle)(\"title\", ctx_r0.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r3);\n  }\n}\nfunction GenericLinkComponent_ng_template_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction GenericLinkComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 5);\n    i0.ɵɵtemplate(1, GenericLinkComponent_ng_template_1_ng_container_1_Template, 1, 0, \"ng-container\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    const _r3 = i0.ɵɵreference(4);\n    i0.ɵɵproperty(\"routerLink\", ctx_r2.routerUrl)(\"queryParams\", ctx_r2.queryParams)(\"fragment\", ctx_r2.fragment)(\"target\", ctx_r2.target);\n    i0.ɵɵattribute(\"id\", ctx_r2.id)(\"class\", ctx_r2.class)(\"style\", ctx_r2.style, i0.ɵɵsanitizeStyle)(\"title\", ctx_r2.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r3);\n  }\n}\nfunction GenericLinkComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵprojection(0);\n  }\n}\nfunction PaginationComponent_a_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 1);\n    i0.ɵɵlistener(\"click\", function PaginationComponent_a_0_Template_a_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.pageChange(item_r1);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassMap(item_r1.type);\n    i0.ɵɵclassProp(\"disabled\", ctx_r0.isInactive(item_r1))(\"current\", ctx_r0.isCurrent(item_r1));\n    i0.ɵɵproperty(\"routerLink\", ctx_r0.pageRoute)(\"queryParams\", ctx_r0.getQueryParams(item_r1))(\"tabIndex\", ctx_r0.isInactive(item_r1) ? -1 : 0);\n    i0.ɵɵattribute(\"aria-label\", ctx_r0.getAriaLabel(item_r1.label, item_r1.type));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r1.label, \"\\n\");\n  }\n}\nfunction SortingComponent_ng_option_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ng-option\", 2);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const sort_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"value\", sort_r1.code);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(sort_r1.name ? sort_r1.name : ctx_r0.sortLabels ? ctx_r0.sortLabels[sort_r1.code] : \"\");\n  }\n}\nfunction OrderOverviewComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 5);\n    i0.ɵɵelement(2, \"cx-card\", 6);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelement(4, \"cx-card\", 6);\n    i0.ɵɵpipe(5, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 5);\n    i0.ɵɵelement(7, \"cx-card\", 6);\n    i0.ɵɵpipe(8, \"async\");\n    i0.ɵɵpipe(9, \"cxDate\");\n    i0.ɵɵelement(10, \"cx-card\", 6);\n    i0.ɵɵpipe(11, \"async\");\n    i0.ɵɵelement(12, \"cx-card\", 6);\n    i0.ɵɵpipe(13, \"async\");\n    i0.ɵɵpipe(14, \"cxDate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"content\", i0.ɵɵpipeBind1(3, 5, ctx_r0.getReplenishmentCodeCardContent(ctx_r0.order == null ? null : ctx_r0.order.replenishmentOrderCode)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"content\", i0.ɵɵpipeBind1(5, 7, ctx_r0.getReplenishmentActiveCardContent(ctx_r0.order == null ? null : ctx_r0.order.active)));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"content\", i0.ɵɵpipeBind1(8, 9, ctx_r0.getReplenishmentStartOnCardContent(i0.ɵɵpipeBind1(9, 11, ctx_r0.order == null ? null : ctx_r0.order.firstDate))));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"content\", i0.ɵɵpipeBind1(11, 13, ctx_r0.getReplenishmentFrequencyCardContent(ctx_r0.order == null ? null : ctx_r0.order.trigger == null ? null : ctx_r0.order.trigger.displayTimeTable)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"content\", i0.ɵɵpipeBind1(13, 15, ctx_r0.getReplenishmentNextDateCardContent(i0.ɵɵpipeBind1(14, 17, ctx_r0.order == null ? null : ctx_r0.order.trigger == null ? null : ctx_r0.order.trigger.activationTime))));\n  }\n}\nfunction OrderOverviewComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelement(1, \"cx-card\", 6);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelement(3, \"cx-card\", 6);\n    i0.ɵɵpipe(4, \"async\");\n    i0.ɵɵpipe(5, \"cxDate\");\n    i0.ɵɵelement(6, \"cx-card\", 6);\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"content\", i0.ɵɵpipeBind1(2, 3, ctx_r2.getOrderCodeCardContent(ctx_r2.order == null ? null : ctx_r2.order.code)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"content\", i0.ɵɵpipeBind1(4, 5, ctx_r2.getOrderCurrentDateCardContent(i0.ɵɵpipeBind1(5, 7, ctx_r2.order == null ? null : ctx_r2.order.created))));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"content\", i0.ɵɵpipeBind1(7, 9, ctx_r2.getOrderStatusCardContent(ctx_r2.order.statusDisplay)));\n  }\n}\nfunction OrderOverviewComponent_ng_container_5_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"cx-card\", 6);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"content\", i0.ɵɵpipeBind1(2, 1, ctx_r7.getCostCenterCardContent(ctx_r7.order == null ? null : ctx_r7.order.costCenter)));\n  }\n}\nfunction OrderOverviewComponent_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 5);\n    i0.ɵɵelement(2, \"cx-card\", 6);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelement(4, \"cx-card\", 6);\n    i0.ɵɵpipe(5, \"async\");\n    i0.ɵɵtemplate(6, OrderOverviewComponent_ng_container_5_ng_container_6_Template, 3, 3, \"ng-container\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"content\", i0.ɵɵpipeBind1(3, 3, ctx_r3.getPurchaseOrderNumber(ctx_r3.order == null ? null : ctx_r3.order.purchaseOrderNumber)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"content\", i0.ɵɵpipeBind1(5, 5, ctx_r3.getMethodOfPaymentCardContent(ctx_r3.order.paymentInfo)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.order.costCenter);\n  }\n}\nfunction OrderOverviewComponent_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"cx-card\", 6);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"content\", i0.ɵɵpipeBind1(2, 1, ctx_r4.getAddressCardContent(ctx_r4.order == null ? null : ctx_r4.order.deliveryAddress)));\n  }\n}\nfunction OrderOverviewComponent_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"cx-card\", 6);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"content\", i0.ɵɵpipeBind1(2, 1, ctx_r5.getDeliveryModeCardContent(ctx_r5.order == null ? null : ctx_r5.order.deliveryMode)));\n  }\n}\nfunction OrderOverviewComponent_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 5);\n    i0.ɵɵelement(2, \"cx-card\", 6);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelement(4, \"cx-card\", 6);\n    i0.ɵɵpipe(5, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"content\", i0.ɵɵpipeBind1(3, 2, ctx_r6.getPaymentInfoCardContent(ctx_r6.order == null ? null : ctx_r6.order.paymentInfo)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"content\", i0.ɵɵpipeBind1(5, 4, ctx_r6.getBillingAddressCardContent(ctx_r6.order == null ? null : ctx_r6.order.paymentInfo == null ? null : ctx_r6.order.paymentInfo.billingAddress)));\n  }\n}\nfunction ProgressButtonComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 1, \"spinner.loading\"));\n  }\n}\nfunction GlobalMessageComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelementStart(1, \"span\", 6);\n    i0.ɵɵelement(2, \"cx-icon\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function GlobalMessageComponent_div_0_div_1_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const i_r7 = restoredCtx.index;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return ctx_r8.clear(ctx_r8.messageType.MSG_TYPE_CONFIRMATION, i_r7);\n    });\n    i0.ɵɵelement(7, \"cx-icon\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const confMsg_r6 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"type\", ctx_r2.iconTypes.SUCCESS);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 3, confMsg_r6));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"type\", ctx_r2.iconTypes.CLOSE);\n  }\n}\nfunction GlobalMessageComponent_div_0_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelementStart(1, \"span\", 6);\n    i0.ɵɵelement(2, \"cx-icon\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function GlobalMessageComponent_div_0_div_2_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const i_r11 = restoredCtx.index;\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return ctx_r12.clear(ctx_r12.messageType.MSG_TYPE_INFO, i_r11);\n    });\n    i0.ɵɵelement(7, \"cx-icon\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const infoMsg_r10 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"type\", ctx_r3.iconTypes.INFO);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 3, infoMsg_r10));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"type\", ctx_r3.iconTypes.CLOSE);\n  }\n}\nfunction GlobalMessageComponent_div_0_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵelementStart(1, \"span\", 6);\n    i0.ɵɵelement(2, \"cx-icon\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function GlobalMessageComponent_div_0_div_3_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const i_r15 = restoredCtx.index;\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return ctx_r16.clear(ctx_r16.messageType.MSG_TYPE_WARNING, i_r15);\n    });\n    i0.ɵɵelement(7, \"cx-icon\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const infoMsg_r14 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"type\", ctx_r4.iconTypes.WARNING);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 3, infoMsg_r14));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"type\", ctx_r4.iconTypes.CLOSE);\n  }\n}\nfunction GlobalMessageComponent_div_0_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵelementStart(1, \"span\", 6);\n    i0.ɵɵelement(2, \"cx-icon\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function GlobalMessageComponent_div_0_div_4_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r21);\n      const i_r19 = restoredCtx.index;\n      const ctx_r20 = i0.ɵɵnextContext(2);\n      return ctx_r20.clear(ctx_r20.messageType.MSG_TYPE_ERROR, i_r19);\n    });\n    i0.ɵɵelement(7, \"cx-icon\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const errorMsg_r18 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"type\", ctx_r5.iconTypes.ERROR);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 3, errorMsg_r18));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"type\", ctx_r5.iconTypes.CLOSE);\n  }\n}\nfunction GlobalMessageComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, GlobalMessageComponent_div_0_div_1_Template, 8, 5, \"div\", 1);\n    i0.ɵɵtemplate(2, GlobalMessageComponent_div_0_div_2_Template, 8, 5, \"div\", 2);\n    i0.ɵɵtemplate(3, GlobalMessageComponent_div_0_div_3_Template, 8, 5, \"div\", 3);\n    i0.ɵɵtemplate(4, GlobalMessageComponent_div_0_div_4_Template, 8, 5, \"div\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const messages_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", messages_r1[ctx_r0.messageType.MSG_TYPE_CONFIRMATION]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", messages_r1[ctx_r0.messageType.MSG_TYPE_INFO]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", messages_r1[ctx_r0.messageType.MSG_TYPE_WARNING]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", messages_r1[ctx_r0.messageType.MSG_TYPE_ERROR]);\n  }\n}\nfunction MessageComponent_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function MessageComponent_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.showBody = !ctx_r4.showBody;\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelement(2, \"cx-icon\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.accordionText, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"type\", ctx_r0.showBody ? \"CARET_UP\" : \"CARET_DOWN\");\n  }\n}\nfunction MessageComponent_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function MessageComponent_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.buttonAction.emit();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.actionButtonText, \" \");\n  }\n}\nfunction MessageComponent_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function MessageComponent_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.closeMessage.emit();\n    });\n    i0.ɵɵelement(1, \"cx-icon\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"type\", ctx_r2.iconTypes.CLOSE);\n  }\n}\nfunction MessageComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵprojection(1);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SiteContextSelectorComponent_label_0_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 4);\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵpropertyInterpolate(\"value\", item_r3.isocode);\n    i0.ɵɵproperty(\"selected\", i0.ɵɵpipeBind1(1, 3, ctx_r2.activeItem$) === item_r3.isocode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r3.label, \" \");\n  }\n}\nfunction SiteContextSelectorComponent_label_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"label\");\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"select\", 1);\n    i0.ɵɵlistener(\"change\", function SiteContextSelectorComponent_label_0_Template_select_change_4_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.active = $event.target.value;\n    });\n    i0.ɵɵtemplate(5, SiteContextSelectorComponent_label_0_option_5_Template, 3, 5, \"option\", 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"cx-icon\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const items_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 3, ctx_r0.label$));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", items_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"type\", ctx_r0.iconTypes.CARET_DOWN);\n  }\n}\nfunction StarRatingComponent_cx_icon_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"cx-icon\", 1);\n    i0.ɵɵlistener(\"mouseover\", function StarRatingComponent_cx_icon_0_Template_cx_icon_mouseover_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const i_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.setRate(i_r1);\n    })(\"click\", function StarRatingComponent_cx_icon_0_Template_cx_icon_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const i_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.saveRate(i_r1);\n    })(\"keydown.space\", function StarRatingComponent_cx_icon_0_Template_cx_icon_keydown_space_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const i_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.saveRate(i_r1);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"type\", ctx_r0.icon);\n    i0.ɵɵattribute(\"tabindex\", ctx_r0.disabled ? null : 0);\n  }\n}\nconst _c19 = function () {\n  return [1, 2, 3, 4, 5];\n};\nfunction TableComponent_table_0_ng_container_1_tbody_1_tr_1_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n  if (rf & 2) {\n    const cell_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵtextInterpolate1(\" \", cell_r7, \" \");\n  }\n}\nfunction TableComponent_table_0_ng_container_1_tbody_1_tr_1_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n  if (rf & 2) {\n    const cell_r7 = i0.ɵɵnextContext().$implicit;\n    const item_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵtextInterpolate1(\" \", item_r5[cell_r7], \" \");\n  }\n}\nfunction TableComponent_table_0_ng_container_1_tbody_1_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"th\");\n    i0.ɵɵtemplate(2, TableComponent_table_0_ng_container_1_tbody_1_tr_1_ng_template_2_Template, 1, 1, \"ng-template\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtemplate(4, TableComponent_table_0_ng_container_1_tbody_1_tr_1_ng_template_4_Template, 1, 1, \"ng-template\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cell_r7 = ctx.$implicit;\n    const item_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassMap(cell_r7);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"cxOutlet\", ctx_r6.getHeaderOutletRef(cell_r7))(\"cxOutletContext\", ctx_r6.getHeaderOutletContext(cell_r7));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"cxOutlet\", ctx_r6.getDataOutletRef(cell_r7))(\"cxOutletContext\", ctx_r6.getDataOutletContext(cell_r7, item_r5));\n  }\n}\nfunction TableComponent_table_0_ng_container_1_tbody_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tbody\", 2);\n    i0.ɵɵlistener(\"click\", function TableComponent_table_0_ng_container_1_tbody_1_Template_tbody_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const item_r5 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(3);\n      return ctx_r14.launchItem(item_r5);\n    });\n    i0.ɵɵtemplate(1, TableComponent_table_0_ng_container_1_tbody_1_tr_1_Template, 5, 6, \"tr\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"is-current\", ctx_r4.isCurrentItem(item_r5));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.structure.cells);\n  }\n}\nfunction TableComponent_table_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TableComponent_table_0_ng_container_1_tbody_1_Template, 2, 3, \"tbody\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.data)(\"ngForTrackBy\", ctx_r1.trackData);\n  }\n}\nfunction TableComponent_table_0_ng_container_2_th_3_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n  if (rf & 2) {\n    const cell_r18 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵtextInterpolate1(\" \", cell_r18, \" \");\n  }\n}\nfunction TableComponent_table_0_ng_container_2_th_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 6);\n    i0.ɵɵtemplate(1, TableComponent_table_0_ng_container_2_th_3_ng_template_1_Template, 1, 1, \"ng-template\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cell_r18 = ctx.$implicit;\n    const ctx_r16 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassMap(cell_r18);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cxOutlet\", ctx_r16.getHeaderOutletRef(cell_r18))(\"cxOutletContext\", ctx_r16.getHeaderOutletContext(cell_r18));\n  }\n}\nfunction TableComponent_table_0_ng_container_2_tr_4_td_1_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n  if (rf & 2) {\n    const cell_r23 = i0.ɵɵnextContext().$implicit;\n    const item_r21 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵtextInterpolate1(\" \", item_r21[cell_r23], \" \");\n  }\n}\nfunction TableComponent_table_0_ng_container_2_tr_4_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtemplate(1, TableComponent_table_0_ng_container_2_tr_4_td_1_ng_template_1_Template, 1, 1, \"ng-template\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cell_r23 = ctx.$implicit;\n    const item_r21 = i0.ɵɵnextContext().$implicit;\n    const ctx_r22 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassMap(cell_r23);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cxOutlet\", ctx_r22.getDataOutletRef(cell_r23))(\"cxOutletContext\", ctx_r22.getDataOutletContext(cell_r23, item_r21));\n  }\n}\nfunction TableComponent_table_0_ng_container_2_tr_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 2);\n    i0.ɵɵlistener(\"click\", function TableComponent_table_0_ng_container_2_tr_4_Template_tr_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r30);\n      const item_r21 = restoredCtx.$implicit;\n      const ctx_r29 = i0.ɵɵnextContext(3);\n      return ctx_r29.launchItem(item_r21);\n    });\n    i0.ɵɵtemplate(1, TableComponent_table_0_ng_container_2_tr_4_td_1_Template, 2, 4, \"td\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r21 = ctx.$implicit;\n    const ctx_r17 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"is-current\", ctx_r17.isCurrentItem(item_r21));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r17.structure.cells);\n  }\n}\nfunction TableComponent_table_0_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"thead\");\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵtemplate(3, TableComponent_table_0_ng_container_2_th_3_Template, 2, 4, \"th\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, TableComponent_table_0_ng_container_2_tr_4_Template, 2, 3, \"tr\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.structure.cells);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.data)(\"ngForTrackBy\", ctx_r2.trackData);\n  }\n}\nfunction TableComponent_table_0_ng_container_3_tr_1_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n  if (rf & 2) {\n    const cell_r32 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵtextInterpolate1(\" \", cell_r32, \" \");\n  }\n}\nfunction TableComponent_table_0_ng_container_3_tr_1_td_3_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n  }\n  if (rf & 2) {\n    const item_r36 = i0.ɵɵnextContext().$implicit;\n    const cell_r32 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵtextInterpolate1(\" \", item_r36[cell_r32], \" \");\n  }\n}\nfunction TableComponent_table_0_ng_container_3_tr_1_td_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 2);\n    i0.ɵɵlistener(\"click\", function TableComponent_table_0_ng_container_3_tr_1_td_3_Template_td_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r41);\n      const item_r36 = restoredCtx.$implicit;\n      const ctx_r40 = i0.ɵɵnextContext(4);\n      return ctx_r40.launchItem(item_r36);\n    });\n    i0.ɵɵtemplate(1, TableComponent_table_0_ng_container_3_tr_1_td_3_ng_template_1_Template, 1, 1, \"ng-template\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r36 = ctx.$implicit;\n    const cell_r32 = i0.ɵɵnextContext().$implicit;\n    const ctx_r34 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"is-current\", ctx_r34.isCurrentItem(item_r36));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cxOutlet\", ctx_r34.getDataOutletRef(cell_r32))(\"cxOutletContext\", ctx_r34.getDataOutletContext(cell_r32, item_r36));\n  }\n}\nfunction TableComponent_table_0_ng_container_3_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"th\", 6);\n    i0.ɵɵtemplate(2, TableComponent_table_0_ng_container_3_tr_1_ng_template_2_Template, 1, 1, \"ng-template\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, TableComponent_table_0_ng_container_3_tr_1_td_3_Template, 2, 4, \"td\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cell_r32 = ctx.$implicit;\n    const ctx_r31 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassMap(cell_r32);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"cxOutlet\", ctx_r31.getHeaderOutletRef(cell_r32))(\"cxOutletContext\", ctx_r31.getHeaderOutletContext(cell_r32));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r31.data)(\"ngForTrackBy\", ctx_r31.trackData);\n  }\n}\nfunction TableComponent_table_0_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TableComponent_table_0_ng_container_3_tr_1_Template, 4, 6, \"tr\", 3);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.structure.cells);\n  }\n}\nfunction TableComponent_table_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\");\n    i0.ɵɵtemplate(1, TableComponent_table_0_ng_container_1_Template, 2, 2, \"ng-container\", 0);\n    i0.ɵɵtemplate(2, TableComponent_table_0_ng_container_2_Template, 5, 3, \"ng-container\", 0);\n    i0.ɵɵtemplate(3, TableComponent_table_0_ng_container_3_Template, 2, 1, \"ng-container\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.verticalStackedLayout);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.verticalLayout);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.horizontalLayout);\n  }\n}\nfunction AppliedCouponsComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 1, \"voucher.vouchersApplied\"), \" \");\n  }\n}\nfunction AppliedCouponsComponent_div_0_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelementStart(1, \"span\", 6);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const voucher_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(voucher_r5.voucherCode);\n  }\n}\nfunction AppliedCouponsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, AppliedCouponsComponent_div_0_div_1_Template, 4, 3, \"div\", 2);\n    i0.ɵɵtemplate(2, AppliedCouponsComponent_div_0_div_2_Template, 3, 1, \"div\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.sortedVouchers.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.sortedVouchers);\n  }\n}\nfunction AppliedCouponsComponent_ng_template_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelementStart(1, \"div\", 10);\n    i0.ɵɵelementStart(2, \"span\", 11);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function AppliedCouponsComponent_ng_template_1_div_1_Template_button_click_4_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const voucher_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return ctx_r8.removeVoucher(voucher_r7.voucherCode);\n    });\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementStart(6, \"span\", 13);\n    i0.ɵɵelement(7, \"cx-icon\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const voucher_r7 = ctx.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(voucher_r7.voucherCode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"disabled\", ctx_r6.cartIsLoading);\n    i0.ɵɵproperty(\"disabled\", ctx_r6.cartIsLoading);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(5, 6, \"common.close\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"type\", ctx_r6.iconTypes.CLOSE);\n  }\n}\nfunction AppliedCouponsComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtemplate(1, AppliedCouponsComponent_ng_template_1_div_1_Template, 8, 8, \"div\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.sortedVouchers);\n  }\n}\nfunction CartCouponComponent_ng_container_0_ng_container_17_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelementStart(1, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function CartCouponComponent_ng_container_0_ng_container_17_div_9_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const coupon_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(3);\n      return ctx_r5.applyCustomerCoupon(coupon_r4.couponId);\n    });\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const coupon_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"disabled\", i0.ɵɵpipeBind1(2, 4, ctx_r3.cartIsLoading$));\n    i0.ɵɵproperty(\"disabled\", i0.ɵɵpipeBind1(3, 6, ctx_r3.cartIsLoading$));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", coupon_r4.couponId, \" \");\n  }\n}\nfunction CartCouponComponent_ng_container_0_ng_container_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 9);\n    i0.ɵɵelementStart(2, \"div\", 10);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 11);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 12);\n    i0.ɵɵtemplate(9, CartCouponComponent_ng_container_0_ng_container_17_div_9_Template, 5, 8, \"div\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 3, \"voucher.availableCoupons\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(7, 5, \"voucher.availableCouponsLabel\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.applicableCoupons);\n  }\n}\nfunction CartCouponComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 2);\n    i0.ɵɵelementStart(5, \"form\", 3);\n    i0.ɵɵlistener(\"ngSubmit\", function CartCouponComponent_ng_container_0_Template_form_ngSubmit_5_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.applyVoucher();\n    });\n    i0.ɵɵelementStart(6, \"div\", 4);\n    i0.ɵɵelement(7, \"input\", 5);\n    i0.ɵɵpipe(8, \"cxTranslate\");\n    i0.ɵɵelementStart(9, \"button\", 6);\n    i0.ɵɵpipe(10, \"async\");\n    i0.ɵɵpipe(11, \"async\");\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"cx-form-errors\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"cx-applied-coupons\", 8);\n    i0.ɵɵpipe(16, \"async\");\n    i0.ɵɵtemplate(17, CartCouponComponent_ng_container_0_ng_container_17_Template, 10, 7, \"ng-container\", 0);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const cart_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 12, \"voucher.coupon\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.couponForm);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"placeholder\", \"\", i0.ɵɵpipeBind1(8, 14, \"voucher.placeholder\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"disabled\", i0.ɵɵpipeBind1(10, 16, ctx_r0.cartIsLoading$));\n    i0.ɵɵproperty(\"disabled\", i0.ɵɵpipeBind1(11, 18, ctx_r0.cartIsLoading$));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(13, 20, \"voucher.apply\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"control\", ctx_r0.couponForm.get(\"couponCode\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"vouchers\", cart_r1.appliedVouchers)(\"cartIsLoading\", i0.ɵɵpipeBind1(16, 22, ctx_r0.cartIsLoading$))(\"isReadOnly\", false);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.applicableCoupons && ctx_r0.applicableCoupons.length > 0);\n  }\n}\nfunction CartItemListComponent_div_0_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 9);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 1, \"saveForLaterItems.stock\"), \" \");\n  }\n}\nfunction CartItemListComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵelementStart(2, \"div\", 5);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 6);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 7);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, CartItemListComponent_div_0_ng_container_11_Template, 4, 3, \"ng-container\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    const _r2 = i0.ɵɵreference(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 5, \"cartItems.description\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(7, 7, \"cartItems.itemPrice\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(10, 9, \"cartItems.quantity\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.options.isSaveForLater)(\"ngIfElse\", _r2);\n  }\n}\nfunction CartItemListComponent_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵelement(1, \"cx-cart-item\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r8 = ctx.ngIf;\n    const item_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"is-changed\", control_r8.get(\"quantity\").disabled);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"item\", item_r5)(\"quantityControl\", control_r8.get(\"quantity\"))(\"readonly\", ctx_r7.readonly)(\"promotionLocation\", ctx_r7.promotionLocation)(\"options\", ctx_r7.options);\n  }\n}\nfunction CartItemListComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtemplate(1, CartItemListComponent_div_1_div_1_Template, 2, 7, \"div\", 11);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r1.getControl(item_r5)));\n  }\n}\nfunction CartItemListComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"cartItems.total\"), \" \");\n  }\n}\nfunction OrderSummaryComponent_div_3_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 5);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 2, \"orderCost.salesTax\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.cart.totalTax == null ? null : ctx_r2.cart.totalTax.formattedValue, \" \");\n  }\n}\nfunction OrderSummaryComponent_div_3_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind1(2, 2, \"orderCost.discount\"), \" \", ctx_r3.cart.totalDiscounts == null ? null : ctx_r3.cart.totalDiscounts.formattedValue, \" \");\n  }\n}\nfunction OrderSummaryComponent_div_3_ng_template_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", (ctx_r5.cart.totalPriceWithTax == null ? null : ctx_r5.cart.totalPriceWithTax.value) !== (ctx_r5.cart.totalPrice == null ? null : ctx_r5.cart.totalPrice.value) ? i0.ɵɵpipeBind1(2, 2, \"orderCost.grossTax\") : i0.ɵɵpipeBind1(3, 4, \"orderCost.grossIncludeTax\"), \" \", ctx_r5.cart.totalTax == null ? null : ctx_r5.cart.totalTax.formattedValue, \". \");\n  }\n}\nfunction OrderSummaryComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 5);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 3);\n    i0.ɵɵelementStart(8, \"div\", 4);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 5);\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, OrderSummaryComponent_div_3_div_14_Template, 6, 4, \"div\", 6);\n    i0.ɵɵelementStart(15, \"div\", 7);\n    i0.ɵɵelementStart(16, \"div\", 4);\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 5);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(21, OrderSummaryComponent_div_3_div_21_Template, 3, 4, \"div\", 8);\n    i0.ɵɵtemplate(22, OrderSummaryComponent_div_3_ng_template_22_Template, 4, 6, \"ng-template\", null, 9, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r4 = i0.ɵɵreference(23);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 9, \"orderCost.subtotal\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.cart.subTotal == null ? null : ctx_r0.cart.subTotal.formattedValue, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(10, 11, (ctx_r0.cart.deliveryCost == null ? null : ctx_r0.cart.deliveryCost.formattedValue) ? \"orderCost.shipping\" : \"orderCost.estimatedShipping\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", (ctx_r0.cart.deliveryCost == null ? null : ctx_r0.cart.deliveryCost.formattedValue) ? ctx_r0.cart.deliveryCost.formattedValue : i0.ɵɵpipeBind1(13, 13, \"orderCost.toBeDetermined\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.cart.net)(\"ngIfElse\", _r4);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(18, 15, \"orderCost.total\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.cart.totalPriceWithTax == null ? null : ctx_r0.cart.totalPriceWithTax.formattedValue, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.cart.totalDiscounts == null ? null : ctx_r0.cart.totalDiscounts.value) > 0);\n  }\n}\nfunction OrderSummaryComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"cx-applied-coupons\", 10);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"vouchers\", ctx_r1.cart.appliedVouchers)(\"isReadOnly\", true);\n  }\n}\nfunction AddToWishListComponent_ng_container_0_ng_container_1_ng_container_1_ng_container_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function AddToWishListComponent_ng_container_0_ng_container_1_ng_container_1_ng_container_1_div_1_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const entry_r11 = restoredCtx.ngIf;\n      const ctx_r12 = i0.ɵɵnextContext(5);\n      return ctx_r12.remove(entry_r11);\n    });\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelement(3, \"cx-icon\", 5);\n    i0.ɵɵelementStart(4, \"span\", 6);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", i0.ɵɵpipeBind1(2, 3, ctx_r8.loading$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"type\", ctx_r8.iconTypes.HEART);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 5, \"addToWishList.remove\"));\n  }\n}\nfunction AddToWishListComponent_ng_container_0_ng_container_1_ng_container_1_ng_container_1_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function AddToWishListComponent_ng_container_0_ng_container_1_ng_container_1_ng_container_1_ng_template_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const product_r3 = i0.ɵɵnextContext(4).ngIf;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.add(product_r3);\n    });\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵelement(2, \"cx-icon\", 5);\n    i0.ɵɵelementStart(3, \"span\", 6);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(5);\n    i0.ɵɵproperty(\"disabled\", i0.ɵɵpipeBind1(1, 3, ctx_r10.loading$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"type\", ctx_r10.iconTypes.EMPTY_HEART);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 5, \"addToWishList.add\"));\n  }\n}\nfunction AddToWishListComponent_ng_container_0_ng_container_1_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AddToWishListComponent_ng_container_0_ng_container_1_ng_container_1_ng_container_1_div_1_Template, 7, 7, \"div\", 2);\n    i0.ɵɵtemplate(2, AddToWishListComponent_ng_container_0_ng_container_1_ng_container_1_ng_container_1_ng_template_2_Template, 6, 7, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const _r9 = i0.ɵɵreference(3);\n    const entries_r6 = i0.ɵɵnextContext().ngIf;\n    const product_r3 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.getProductInWishList(product_r3, entries_r6))(\"ngIfElse\", _r9);\n  }\n}\nfunction AddToWishListComponent_ng_container_0_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AddToWishListComponent_ng_container_0_ng_container_1_ng_container_1_ng_container_1_Template, 4, 2, \"ng-container\", 0);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.hasStock);\n  }\n}\nfunction AddToWishListComponent_ng_container_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AddToWishListComponent_ng_container_0_ng_container_1_ng_container_1_Template, 2, 1, \"ng-container\", 0);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r4.wishListEntries$));\n  }\n}\nfunction AddToWishListComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AddToWishListComponent_ng_container_0_ng_container_1_Template, 3, 3, \"ng-container\", 2);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 2, ctx_r0.userLoggedIn$))(\"ngIfElse\", _r1);\n  }\n}\nconst _c20 = function () {\n  return {\n    cxRoute: \"login\"\n  };\n};\nfunction AddToWishListComponent_ng_template_2_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 8);\n    i0.ɵɵpipe(2, \"cxUrl\");\n    i0.ɵɵelement(3, \"cx-icon\", 5);\n    i0.ɵɵelementStart(4, \"span\", 6);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(2, 3, i0.ɵɵpureFunction0(7, _c20)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"type\", ctx_r19.iconTypes.EMPTY_HEART);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 5, \"addToWishList.anonymous\"));\n  }\n}\nfunction AddToWishListComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, AddToWishListComponent_ng_template_2_ng_container_0_Template, 7, 8, \"ng-container\", 0);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.hasStock);\n  }\n}\nfunction CartValidationWarningsComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelementStart(1, \"span\", 3);\n    i0.ɵɵelement(2, \"cx-icon\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵelementStart(4, \"a\", 5);\n    i0.ɵɵpipe(5, \"cxUrl\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function CartValidationWarningsComponent_ng_container_0_div_1_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const cartModification_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.removeMessage(cartModification_r1);\n    });\n    i0.ɵɵelement(10, \"cx-icon\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cartModification_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"type\", ctx_r2.iconTypes.ERROR);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(5, 5, i0.ɵɵpureFunction1(9, _c5, cartModification_r1.entry.product)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", cartModification_r1.entry.product.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(8, 7, \"validation.productOutOfStock\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"type\", ctx_r2.iconTypes.CLOSE);\n  }\n}\nfunction CartValidationWarningsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CartValidationWarningsComponent_ng_container_0_div_1_Template, 11, 11, \"div\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const cartModification_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.visibleWarnings[cartModification_r1.entry.product.code]);\n  }\n}\nfunction CartDetailsComponent_ng_container_0_ng_container_1_div_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"cx-cart-validation-warnings\");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nconst _c21 = function (a0) {\n  return {\n    code: a0\n  };\n};\nconst _c22 = function (a1) {\n  return {\n    isSaveForLater: false,\n    optionalBtn: a1\n  };\n};\nfunction CartDetailsComponent_ng_container_0_ng_container_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtemplate(1, CartDetailsComponent_ng_container_0_ng_container_1_div_1_ng_container_1_Template, 2, 0, \"ng-container\", 4);\n    i0.ɵɵelementStart(2, \"h4\", 5);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"cx-promotions\", 6);\n    i0.ɵɵelement(6, \"cx-cart-item-list\", 7);\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const entries_r5 = i0.ɵɵnextContext().ngIf;\n    const cart_r3 = i0.ɵɵnextContext().ngIf;\n    const ctx_r6 = i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cxFeatureLevel\", \"4.2\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 7, \"cartDetails.cartName\", i0.ɵɵpureFunction1(12, _c21, cart_r3.code)), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"promotions\", (cart_r3.appliedOrderPromotions || i0.ɵɵpureFunction0(15, _c10)).concat(cart_r3.potentialOrderPromotions || i0.ɵɵpureFunction0(14, _c10)));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"items\", entries_r5)(\"cartIsLoading\", !i0.ɵɵpipeBind1(7, 10, ctx_r6.cartLoaded$))(\"promotionLocation\", ctx_r6.promotionLocation)(\"options\", i0.ɵɵpureFunction1(16, _c22, _r1));\n  }\n}\nfunction CartDetailsComponent_ng_container_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CartDetailsComponent_ng_container_0_ng_container_1_div_1_Template, 8, 18, \"div\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const cart_r3 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", cart_r3.totalItems > 0);\n  }\n}\nfunction CartDetailsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CartDetailsComponent_ng_container_0_ng_container_1_Template, 2, 1, \"ng-container\", 0);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r0.entries$));\n  }\n}\nfunction CartDetailsComponent_ng_template_2_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelementStart(1, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function CartDetailsComponent_ng_template_2_div_0_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r11 = i0.ɵɵnextContext().$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.saveForLater(ctx_r11.item);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r11.loading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 2, \"saveForLaterItems.saveForLater\"), \" \");\n  }\n}\nfunction CartDetailsComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, CartDetailsComponent_ng_template_2_div_0_Template, 4, 4, \"div\", 8);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.selectiveCartEnabled);\n  }\n}\nfunction CartTotalsComponent_ng_container_0_ng_container_1_ng_container_2_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 4);\n    i0.ɵɵpipe(1, \"cxUrl\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(1, 2, i0.ɵɵpureFunction0(6, _c12)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 4, \"cartDetails.proceedToCheckout\"), \" \");\n  }\n}\nfunction CartTotalsComponent_ng_container_0_ng_container_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CartTotalsComponent_ng_container_0_ng_container_1_ng_container_2_button_1_Template, 4, 7, \"button\", 3);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const entries_r3 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", entries_r3.length);\n  }\n}\nfunction CartTotalsComponent_ng_container_0_ng_container_1_ng_container_3_cx_progress_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"cx-progress-button\", 6);\n    i0.ɵɵlistener(\"clikEvent\", function CartTotalsComponent_ng_container_0_ng_container_1_ng_container_3_cx_progress_button_1_Template_cx_progress_button_clikEvent_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(4);\n      return ctx_r9.disableButtonWhileNavigation();\n    });\n    i0.ɵɵpipe(1, \"cxUrl\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(4);\n    i0.ɵɵclassMap(\"btn btn-primary btn-block\");\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(1, 6, i0.ɵɵpureFunction0(10, _c12)))(\"loading\", ctx_r8.cartValidationInProgress)(\"disabled\", ctx_r8.cartValidationInProgress);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 8, !ctx_r8.cartValidationInProgress ? \"cartDetails.proceedToCheckout\" : \"\"), \" \");\n  }\n}\nfunction CartTotalsComponent_ng_container_0_ng_container_1_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CartTotalsComponent_ng_container_0_ng_container_1_ng_container_3_cx_progress_button_1_Template, 4, 11, \"cx-progress-button\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const entries_r3 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", entries_r3.length);\n  }\n}\nfunction CartTotalsComponent_ng_container_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"cx-order-summary\", 1);\n    i0.ɵɵtemplate(2, CartTotalsComponent_ng_container_0_ng_container_1_ng_container_2_Template, 2, 1, \"ng-container\", 2);\n    i0.ɵɵtemplate(3, CartTotalsComponent_ng_container_0_ng_container_1_ng_container_3_Template, 2, 1, \"ng-container\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const cart_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cart\", cart_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cxFeatureLevel\", \"!4.2\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cxFeatureLevel\", \"4.2\");\n  }\n}\nfunction CartTotalsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CartTotalsComponent_ng_container_0_ng_container_1_Template, 4, 3, \"ng-container\", 0);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r0.entries$));\n  }\n}\nfunction PageSlotComponent_ng_template_0_0_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0, 3);\n  }\n  if (rf & 2) {\n    const component_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"cxComponentWrapper\", component_r2);\n  }\n}\nconst _c23 = function (a0) {\n  return {\n    component: a0\n  };\n};\nfunction PageSlotComponent_ng_template_0_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtemplate(0, PageSlotComponent_ng_template_0_0_ng_template_0_Template, 1, 1, \"ng-template\", 2);\n    i0.ɵɵlistener(\"loaded\", function PageSlotComponent_ng_template_0_0_Template_ng_template_loaded_0_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return ctx_r5.isLoaded($event);\n    });\n  }\n  if (rf & 2) {\n    const component_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"cxOutlet\", component_r2.flexType)(\"cxOutletContext\", i0.ɵɵpureFunction1(3, _c23, component_r2))(\"cxOutletDefer\", ctx_r1.getComponentDeferOptions(component_r2.flexType));\n  }\n}\nfunction PageSlotComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, PageSlotComponent_ng_template_0_0_Template, 1, 5, undefined, 1);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.components);\n  }\n}\nconst _c24 = function (a0) {\n  return {\n    components$: a0\n  };\n};\nfunction PageLayoutComponent_ng_template_0_cx_page_slot_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-page-slot\", 2);\n    i0.ɵɵpipe(1, \"async\");\n  }\n  if (rf & 2) {\n    const slot_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"position\", slot_r2)(\"isPageFold\", slot_r2 === i0.ɵɵpipeBind1(1, 2, ctx_r1.pageFoldSlot$));\n  }\n}\nfunction PageLayoutComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵprojection(0);\n    i0.ɵɵtemplate(1, PageLayoutComponent_ng_template_0_cx_page_slot_1_Template, 2, 4, \"cx-page-slot\", 1);\n    i0.ɵɵpipe(2, \"async\");\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 1, ctx_r0.slots$));\n  }\n}\nconst _c25 = function (a0, a1, a2) {\n  return {\n    templateName$: a0,\n    slots$: a1,\n    section$: a2\n  };\n};\nconst _c26 = function (a0) {\n  return {\n    total: a0\n  };\n};\nfunction SaveForLaterComponent_ng_container_0_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"p\", 3);\n  }\n  if (rf & 2) {\n    const data_r5 = ctx.ngIf;\n    i0.ɵɵproperty(\"innerHTML\", data_r5.content, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction SaveForLaterComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, SaveForLaterComponent_ng_container_0_p_1_Template, 1, 1, \"p\", 2);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r0.data$));\n  }\n}\nconst _c27 = function (a1) {\n  return {\n    isSaveForLater: true,\n    optionalBtn: a1\n  };\n};\nfunction SaveForLaterComponent_ng_container_2_ng_container_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelementStart(1, \"div\", 6);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"cx-cart-item-list\", 7);\n    i0.ɵɵpipe(5, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const entries_r8 = i0.ɵɵnextContext().ngIf;\n    const saveForLater_r6 = i0.ɵɵnextContext().ngIf;\n    const ctx_r9 = i0.ɵɵnextContext();\n    const _r2 = i0.ɵɵreference(5);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(3, 6, \"saveForLaterItems.itemTotal\", i0.ɵɵpureFunction1(11, _c9, saveForLater_r6.totalItems)), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"items\", entries_r8)(\"readonly\", false)(\"cartIsLoading\", !i0.ɵɵpipeBind1(5, 9, ctx_r9.cartLoaded$))(\"promotionLocation\", ctx_r9.CartLocation.SaveForLater)(\"options\", i0.ɵɵpureFunction1(13, _c27, _r2));\n  }\n}\nfunction SaveForLaterComponent_ng_container_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, SaveForLaterComponent_ng_container_2_ng_container_1_div_1_Template, 6, 15, \"div\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const saveForLater_r6 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", saveForLater_r6.totalItems > 0);\n  }\n}\nfunction SaveForLaterComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, SaveForLaterComponent_ng_container_2_ng_container_1_Template, 2, 1, \"ng-container\", 0);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r1.entries$));\n  }\n}\nfunction SaveForLaterComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelementStart(1, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function SaveForLaterComponent_ng_template_4_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const ctx_r13 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.moveToCart(ctx_r13.item);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", ctx_r13.loading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 2, \"saveForLaterItems.moveToCart\"), \" \");\n  }\n}\nfunction BannerComponent_ng_container_0_cx_generic_link_1_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"p\", 6);\n  }\n  if (rf & 2) {\n    const data_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵproperty(\"innerHTML\", data_r1.headline, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction BannerComponent_ng_container_0_cx_generic_link_1_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"p\", 7);\n  }\n  if (rf & 2) {\n    const data_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵproperty(\"innerHTML\", data_r1.content, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction BannerComponent_ng_container_0_cx_generic_link_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"cx-generic-link\", 2);\n    i0.ɵɵtemplate(1, BannerComponent_ng_container_0_cx_generic_link_1_p_1_Template, 1, 1, \"p\", 3);\n    i0.ɵɵelement(2, \"cx-media\", 4);\n    i0.ɵɵtemplate(3, BannerComponent_ng_container_0_cx_generic_link_1_p_3_Template, 1, 1, \"p\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"url\", data_r1.urlLink)(\"target\", ctx_r2.getTarget(data_r1));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r1.headline);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"container\", ctx_r2.getImage(data_r1));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r1.content);\n  }\n}\nfunction BannerComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, BannerComponent_ng_container_0_cx_generic_link_1_Template, 4, 5, \"cx-generic-link\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const data_r1 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", data_r1.urlLink);\n  }\n}\nfunction AddToHomeScreenBannerComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelementStart(2, \"div\", 2);\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ul\");\n    i0.ɵɵelementStart(7, \"li\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"li\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function AddToHomeScreenBannerComponent_div_0_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return ctx_r1.prompt();\n    });\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 4, \"pwa.addToHomeScreenDescription\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 6, \"pwa.noInstallationNeeded\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 8, \"pwa.fastAccessToApplication\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(15, 10, \"pwa.addToHomeScreen\"), \" \");\n  }\n}\nfunction AddToHomeScreenBtnComponent_ng_content_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵprojection(0, 0, [\"*ngIf\", \"canPrompt$ | async\"]);\n  }\n}\nconst _c28 = function (a0, a1, a2) {\n  return {\n    flexType: a0,\n    typeCode: a1,\n    uid: a2\n  };\n};\nfunction BannerCarouselComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0, 2);\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.item;\n    i0.ɵɵproperty(\"cxComponentWrapper\", i0.ɵɵpureFunction3(1, _c28, item_r2.typeCode, item_r2.typeCode, item_r2 == null ? null : item_r2.uid));\n  }\n}\nfunction LinkComponent_cx_generic_link_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"cx-generic-link\", 1);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const data_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵstyleMap(data_r1.styleAttributes);\n    i0.ɵɵproperty(\"url\", data_r1.url)(\"target\", ctx_r0.getTarget(data_r1));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(data_r1.linkName);\n  }\n}\nfunction ParagraphComponent_p_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"p\", 1);\n    i0.ɵɵpipe(1, \"cxSupplementHashAnchors\");\n  }\n  if (rf & 2) {\n    const data_r1 = ctx.ngIf;\n    i0.ɵɵproperty(\"innerHTML\", i0.ɵɵpipeBind1(1, 1, data_r1.content), i0.ɵɵsanitizeHtml);\n  }\n}\nconst _c29 = function (a0) {\n  return {\n    param: a0\n  };\n};\nfunction TabParagraphContainerComponent_ng_container_0_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function TabParagraphContainerComponent_ng_container_0_ng_container_1_ng_container_1_Template_button_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const i_r5 = i0.ɵɵnextContext().index;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return ctx_r7.select(i_r5, $event);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵpipe(4, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    const i_r5 = ctx_r10.index;\n    const component_r4 = ctx_r10.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"active\", i_r5 === ctx_r6.activeTabNum);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(3, 3, component_r4.title, i0.ɵɵpureFunction1(8, _c29, i0.ɵɵpipeBind1(4, 6, ctx_r6.tabTitleParams[i_r5]))), \" \");\n  }\n}\nfunction TabParagraphContainerComponent_ng_container_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TabParagraphContainerComponent_ng_container_0_ng_container_1_ng_container_1_Template, 5, 10, \"ng-container\", 0);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const component_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", component_r4);\n  }\n}\nfunction TabParagraphContainerComponent_ng_container_0_ng_container_2_ng_container_1_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0, 4);\n    i0.ɵɵlistener(\"cxComponentRef\", function TabParagraphContainerComponent_ng_container_0_ng_container_2_ng_container_1_ng_template_2_Template_ng_container_cxComponentRef_0_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(4);\n      return ctx_r15.tabCompLoaded($event);\n    });\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const component_r11 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵproperty(\"cxComponentWrapper\", component_r11);\n  }\n}\nconst _c30 = function () {\n  return {};\n};\nfunction TabParagraphContainerComponent_ng_container_0_ng_container_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵtemplate(2, TabParagraphContainerComponent_ng_container_0_ng_container_2_ng_container_1_ng_template_2_Template, 1, 1, \"ng-template\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext();\n    const i_r12 = ctx_r18.index;\n    const component_r11 = ctx_r18.$implicit;\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"active\", i_r12 === ctx_r13.activeTabNum);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cxOutlet\", component_r11.flexType)(\"cxOutletContext\", i0.ɵɵpureFunction0(4, _c30));\n  }\n}\nfunction TabParagraphContainerComponent_ng_container_0_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TabParagraphContainerComponent_ng_container_0_ng_container_2_ng_container_1_Template, 3, 5, \"ng-container\", 0);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const component_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", component_r11);\n  }\n}\nfunction TabParagraphContainerComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, TabParagraphContainerComponent_ng_container_0_ng_container_1_Template, 2, 1, \"ng-container\", 1);\n    i0.ɵɵtemplate(2, TabParagraphContainerComponent_ng_container_0_ng_container_2_Template, 2, 1, \"ng-container\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const components_r1 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", components_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", components_r1);\n  }\n}\nfunction SuggestedAddressDialogComponent_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵelementStart(1, \"input\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function SuggestedAddressDialogComponent_div_18_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.selectedAddress = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"label\", 19);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 20);\n    i0.ɵɵtext(6);\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelement(9, \"br\");\n    i0.ɵɵelementStart(10, \"span\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"br\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelement(14, \"br\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const suggestedAddress_r1 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.selectedAddress)(\"value\", suggestedAddress_r1)(\"id\", \"suggested-addresses--suggested-\" + i_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", \"suggested-addresses--suggested-\" + i_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind1(4, 13, \"addressSuggestion.suggestedAddress\"), \" \", (ctx_r0.suggestedAddresses == null ? null : ctx_r0.suggestedAddresses.length) > 1 ? i_r2 + 1 : null, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", suggestedAddress_r1 == null ? null : suggestedAddress_r1.firstName, \" \", suggestedAddress_r1 == null ? null : suggestedAddress_r1.lastName, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", suggestedAddress_r1 == null ? null : suggestedAddress_r1.line1, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(suggestedAddress_r1 == null ? null : suggestedAddress_r1.line2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", suggestedAddress_r1 == null ? null : suggestedAddress_r1.town, \" \", suggestedAddress_r1 == null ? null : suggestedAddress_r1.region == null ? null : suggestedAddress_r1.region.isocode, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", suggestedAddress_r1 == null ? null : suggestedAddress_r1.postalCode, \" \");\n  }\n}\nfunction AddressFormComponent_ng_container_4_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"label\");\n    i0.ɵɵelementStart(2, \"span\", 7);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ng-select\", 23);\n    i0.ɵɵlistener(\"change\", function AddressFormComponent_ng_container_4_div_1_Template_ng_select_change_5_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return ctx_r7.countrySelected($event);\n    });\n    i0.ɵɵpipe(6, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"cx-form-errors\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const countries_r5 = i0.ɵɵnextContext().ngIf;\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 6, \"addressForm.country\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(6, 8, \"addressForm.selectOne\"));\n    i0.ɵɵproperty(\"searchable\", true)(\"clearable\", false)(\"items\", countries_r5);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"control\", ctx_r6.addressForm.get(\"country.isocode\"));\n  }\n}\nfunction AddressFormComponent_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AddressFormComponent_ng_container_4_div_1_Template, 8, 10, \"div\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const countries_r5 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", countries_r5.length !== 0);\n  }\n}\nfunction AddressFormComponent_div_6_ng_container_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"label\");\n    i0.ɵɵelementStart(2, \"span\", 7);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"ng-select\", 24);\n    i0.ɵɵpipe(6, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const titles_r11 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 5, \"addressForm.title\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"searchable\", true)(\"clearable\", false)(\"items\", titles_r11)(\"placeholder\", i0.ɵɵpipeBind1(6, 7, \"addressForm.title\"));\n  }\n}\nfunction AddressFormComponent_div_6_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AddressFormComponent_div_6_ng_container_1_div_1_Template, 7, 9, \"div\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const titles_r11 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", titles_r11.length !== 0);\n  }\n}\nfunction AddressFormComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtemplate(1, AddressFormComponent_div_6_ng_container_1_Template, 2, 1, \"ng-container\", 4);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r1.titles$));\n  }\n}\nfunction AddressFormComponent_ng_container_55_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 14);\n    i0.ɵɵelementStart(2, \"label\");\n    i0.ɵɵelementStart(3, \"span\", 7);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"ng-select\", 26);\n    i0.ɵɵpipe(7, \"cxTranslate\");\n    i0.ɵɵelement(8, \"cx-form-errors\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const regions_r14 = i0.ɵɵnextContext().ngIf;\n    const ctx_r15 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 8, \"addressForm.state\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"bindLabel\", regions_r14[0].name ? \"name\" : \"isocode\");\n    i0.ɵɵpropertyInterpolate(\"bindValue\", regions_r14[0].name ? \"isocode\" : \"region\");\n    i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(7, 10, \"addressForm.selectOne\"));\n    i0.ɵɵproperty(\"searchable\", true)(\"clearable\", false)(\"items\", regions_r14);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"control\", ctx_r15.addressForm.get(\"region.isocode\"));\n  }\n}\nfunction AddressFormComponent_ng_container_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 25);\n    i0.ɵɵtemplate(1, AddressFormComponent_ng_container_55_ng_container_1_Template, 9, 12, \"ng-container\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const regions_r14 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", regions_r14.length !== 0);\n  }\n}\nfunction AddressFormComponent_div_64_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelementStart(1, \"div\", 27);\n    i0.ɵɵelementStart(2, \"label\");\n    i0.ɵɵelementStart(3, \"input\", 28);\n    i0.ɵɵlistener(\"change\", function AddressFormComponent_div_64_Template_input_change_3_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.toggleDefaultAddress();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 29);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 1, \"addressForm.setAsDefault\"));\n  }\n}\nfunction AddressFormComponent_div_67_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵelementStart(1, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function AddressFormComponent_div_67_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.back();\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.cancelBtnLabel || i0.ɵɵpipeBind1(3, 1, \"addressForm.chooseAddress\"), \" \");\n  }\n}\nfunction AddressBookComponent_ng_container_1_div_6_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelementStart(1, \"cx-card\", 10);\n    i0.ɵɵlistener(\"editCard\", function AddressBookComponent_ng_container_1_div_6_div_1_Template_cx_card_editCard_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const address_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(3);\n      return ctx_r8.editAddressButtonHandle(address_r7);\n    })(\"setDefaultCard\", function AddressBookComponent_ng_container_1_div_6_div_1_Template_cx_card_setDefaultCard_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const address_r7 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(3);\n      return ctx_r10.setAddressAsDefault(address_r7.id);\n    })(\"deleteCard\", function AddressBookComponent_ng_container_1_div_6_div_1_Template_cx_card_deleteCard_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const address_r7 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(3);\n      return ctx_r11.setEdit(address_r7.id);\n    })(\"cancelCard\", function AddressBookComponent_ng_container_1_div_6_div_1_Template_cx_card_cancelCard_1_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r12 = i0.ɵɵnextContext(3);\n      return ctx_r12.cancelCard();\n    });\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const address_r7 = ctx.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"border\", true)(\"fitToContainer\", true)(\"content\", i0.ɵɵpipeBind1(2, 4, ctx_r6.getCardContent(address_r7)))(\"editMode\", address_r7.id === ctx_r6.editCard);\n  }\n}\nfunction AddressBookComponent_ng_container_1_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtemplate(1, AddressBookComponent_ng_container_1_div_6_div_1_Template, 3, 6, \"div\", 8);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 1, ctx_r5.addresses$));\n  }\n}\nfunction AddressBookComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵelementStart(3, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function AddressBookComponent_ng_container_1_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.addAddressButtonHandle();\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, AddressBookComponent_ng_container_1_div_6_Template, 3, 3, \"div\", 6);\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    const _r3 = i0.ɵɵreference(7);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 3, \"addressBook.addNewAddress\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(7, 5, ctx_r0.addressesStateLoading$))(\"ngIfElse\", _r3);\n  }\n}\nfunction AddressBookComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"section\");\n    i0.ɵɵelementStart(2, \"p\", 11);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"cx-address-form\", 12);\n    i0.ɵɵlistener(\"submitAddress\", function AddressBookComponent_ng_container_3_Template_cx_address_form_submitAddress_5_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.addAddressSubmit($event);\n    })(\"backToAddress\", function AddressBookComponent_ng_container_3_Template_cx_address_form_backToAddress_5_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.addAddressCancel();\n    })(\"cancelCard\", function AddressBookComponent_ng_container_3_Template_cx_address_form_cancelCard_5_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.cancelCard();\n    });\n    i0.ɵɵpipe(6, \"async\");\n    i0.ɵɵpipe(7, \"cxTranslate\");\n    i0.ɵɵpipe(8, \"cxTranslate\");\n    i0.ɵɵpipe(9, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 5, \"addressBook.addNewShippingAddress\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"actionBtnLabel\", i0.ɵɵpipeBind1(7, 9, \"addressBook.addAddress\"));\n    i0.ɵɵpropertyInterpolate(\"cancelBtnLabel\", i0.ɵɵpipeBind1(8, 11, \"addressBook.backToAddressList\"));\n    i0.ɵɵproperty(\"showCancelBtn\", !(i0.ɵɵpipeBind1(6, 7, ctx_r1.addresses$).length === 0))(\"setAsDefaultField\", !(i0.ɵɵpipeBind1(9, 13, ctx_r1.addresses$).length === 0));\n  }\n}\nfunction AddressBookComponent_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"section\");\n    i0.ɵɵelementStart(2, \"p\", 11);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"cx-address-form\", 13);\n    i0.ɵɵlistener(\"submitAddress\", function AddressBookComponent_ng_container_5_Template_cx_address_form_submitAddress_5_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.editAddressSubmit($event);\n    })(\"backToAddress\", function AddressBookComponent_ng_container_5_Template_cx_address_form_backToAddress_5_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.editAddressCancel();\n    });\n    i0.ɵɵpipe(6, \"cxTranslate\");\n    i0.ɵɵpipe(7, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 4, \"addressBook.editShippingAddress\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"actionBtnLabel\", i0.ɵɵpipeBind1(6, 6, \"addressBook.updateAddress\"));\n    i0.ɵɵpropertyInterpolate(\"cancelBtnLabel\", i0.ɵɵpipeBind1(7, 8, \"addressBook.backToAddressList\"));\n    i0.ɵɵproperty(\"addressData\", ctx_r2.currentAddress);\n  }\n}\nfunction AddressBookComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelement(1, \"cx-spinner\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MyCouponsComponent_ng_container_1_ng_container_1_ng_container_5_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵelementStart(1, \"cx-coupon-card\", 21);\n    i0.ɵɵlistener(\"notificationChanged\", function MyCouponsComponent_ng_container_1_ng_container_1_ng_container_5_div_11_Template_cx_coupon_card_notificationChanged_1_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(4);\n      return ctx_r10.notificationChange($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const coupon_r9 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"coupon\", coupon_r9)(\"couponSubscriptionLoading$\", ctx_r8.couponSubscriptionLoading$);\n  }\n}\nconst _c31 = function () {\n  return [\"/my-account/notification-preference\"];\n};\nfunction MyCouponsComponent_ng_container_1_ng_container_1_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 6);\n    i0.ɵɵelementStart(2, \"label\", 7);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"cx-sorting\", 8);\n    i0.ɵɵlistener(\"sortListEvent\", function MyCouponsComponent_ng_container_1_ng_container_1_ng_container_5_Template_cx_sorting_sortListEvent_6_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext(3);\n      return ctx_r12.sortChange($event);\n    });\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 9);\n    i0.ɵɵelementStart(9, \"cx-pagination\", 10);\n    i0.ɵɵlistener(\"viewPageEvent\", function MyCouponsComponent_ng_container_1_ng_container_1_ng_container_5_Template_cx_pagination_viewPageEvent_9_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r14 = i0.ɵɵnextContext(3);\n      return ctx_r14.pageChange($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 11);\n    i0.ɵɵtemplate(11, MyCouponsComponent_ng_container_1_ng_container_1_ng_container_5_div_11_Template, 2, 2, \"div\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 13);\n    i0.ɵɵelementStart(13, \"label\", 14);\n    i0.ɵɵelementStart(14, \"span\");\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"cx-sorting\", 15);\n    i0.ɵɵlistener(\"sortListEvent\", function MyCouponsComponent_ng_container_1_ng_container_1_ng_container_5_Template_cx_sorting_sortListEvent_17_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r15 = i0.ɵɵnextContext(3);\n      return ctx_r15.sortChange($event);\n    });\n    i0.ɵɵpipe(18, \"async\");\n    i0.ɵɵpipe(19, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 16);\n    i0.ɵɵelementStart(21, \"cx-pagination\", 10);\n    i0.ɵɵlistener(\"viewPageEvent\", function MyCouponsComponent_ng_container_1_ng_container_1_ng_container_5_Template_cx_pagination_viewPageEvent_21_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r16 = i0.ɵɵnextContext(3);\n      return ctx_r16.pageChange($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 17);\n    i0.ɵɵelementStart(23, \"span\");\n    i0.ɵɵelement(24, \"cx-icon\", 18);\n    i0.ɵɵtext(25);\n    i0.ɵɵpipe(26, \"cxTranslate\");\n    i0.ɵɵelementStart(27, \"a\", 19);\n    i0.ɵɵtext(28);\n    i0.ɵɵpipe(29, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30);\n    i0.ɵɵpipe(31, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const couponResult_r6 = i0.ɵɵnextContext().ngIf;\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 17, \"myCoupons.sortBy\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"sortOptions\", ctx_r7.sortOptions)(\"sortLabels\", i0.ɵɵpipeBind1(7, 19, ctx_r7.sortLabels))(\"selectedOption\", ctx_r7.sort);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"pagination\", ctx_r7.pagination);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", couponResult_r6.coupons);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(16, 21, \"myCoupons.sortBy\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(19, 25, \"myCoupons.sortBy\"));\n    i0.ɵɵproperty(\"sortOptions\", ctx_r7.sortOptions)(\"sortLabels\", i0.ɵɵpipeBind1(18, 23, ctx_r7.sortLabels))(\"selectedOption\", ctx_r7.sort);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"pagination\", ctx_r7.pagination);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"type\", ctx_r7.iconTypes.INFO);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(26, 27, \"myCoupons.notesPreffix\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(33, _c31));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(29, 29, \"myCoupons.notesLink\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(31, 31, \"myCoupons.notesSuffix\"));\n  }\n}\nfunction MyCouponsComponent_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 5);\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, MyCouponsComponent_ng_container_1_ng_container_1_ng_container_5_Template, 32, 34, \"ng-container\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const couponResult_r6 = ctx.ngIf;\n    i0.ɵɵnextContext();\n    const _r4 = i0.ɵɵreference(4);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 3, \"myCoupons.myCoupons\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", couponResult_r6.pagination.totalCount > 0)(\"ngIfElse\", _r4);\n  }\n}\nfunction MyCouponsComponent_ng_container_1_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"section\");\n    i0.ɵɵelementStart(1, \"p\", 22);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 1, \"myCoupons.noCouponsMessage\"), \" \");\n  }\n}\nfunction MyCouponsComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, MyCouponsComponent_ng_container_1_ng_container_1_Template, 6, 5, \"ng-container\", 3);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵtemplate(3, MyCouponsComponent_ng_container_1_ng_template_3_Template, 4, 3, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r0.couponResult$));\n  }\n}\nfunction MyCouponsComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵelement(1, \"cx-spinner\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MyInterestsComponent_div_0_div_5_ng_container_1_tr_25_ng_container_1_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵelementStart(1, \"a\", 38);\n    i0.ɵɵpipe(2, \"cxUrl\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r11 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(2, 2, i0.ɵɵpureFunction1(4, _c5, product_r11)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", product_r11.name, \" \");\n  }\n}\nfunction MyInterestsComponent_div_0_div_5_ng_container_1_tr_25_ng_container_1_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39);\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r11 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(3, 1, \"myInterests.productId\", i0.ɵɵpureFunction1(4, _c21, product_r11.code)));\n  }\n}\nfunction MyInterestsComponent_div_0_div_5_ng_container_1_tr_25_ng_container_1_ng_container_12_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41);\n    i0.ɵɵelementStart(1, \"div\", 42);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 43);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const variant_r21 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", variant_r21.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", variant_r21.value, \" \");\n  }\n}\nfunction MyInterestsComponent_div_0_div_5_ng_container_1_tr_25_ng_container_1_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, MyInterestsComponent_div_0_div_5_ng_container_1_tr_25_ng_container_1_ng_container_12_div_1_Template, 5, 2, \"div\", 40);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const baseOptions_r19 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", baseOptions_r19.selected == null ? null : baseOptions_r19.selected.variantOptionQualifiers);\n  }\n}\nfunction MyInterestsComponent_div_0_div_5_ng_container_1_tr_25_ng_container_1_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41);\n    i0.ɵɵelementStart(1, \"div\", 44);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 1, \"myInterests.outOfStock\"), \" \");\n  }\n}\nconst _c32 = function (a0) {\n  return {\n    expirationDate: a0\n  };\n};\nfunction MyInterestsComponent_div_0_div_5_ng_container_1_tr_25_ng_container_1_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 45);\n    i0.ɵɵelementStart(1, \"span\", 46);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 47);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"cxTranslate\");\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const interestEntry_r22 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 2, \"myInterests.\" + interestEntry_r22.interestType), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(6, 4, \"myInterests.expirationDate\", i0.ɵɵpureFunction1(9, _c32, i0.ɵɵpipeBind1(7, 7, interestEntry_r22.expirationDate))), \" \");\n  }\n}\nfunction MyInterestsComponent_div_0_div_5_ng_container_1_tr_25_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵelementStart(2, \"div\", 22);\n    i0.ɵɵelementStart(3, \"a\", 23);\n    i0.ɵɵpipe(4, \"cxUrl\");\n    i0.ɵɵelement(5, \"cx-media\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵelementStart(7, \"div\", 25);\n    i0.ɵɵelementStart(8, \"div\", 26);\n    i0.ɵɵelementStart(9, \"div\");\n    i0.ɵɵtemplate(10, MyInterestsComponent_div_0_div_5_ng_container_1_tr_25_ng_container_1_div_10_Template, 4, 6, \"div\", 27);\n    i0.ɵɵtemplate(11, MyInterestsComponent_div_0_div_5_ng_container_1_tr_25_ng_container_1_div_11_Template, 4, 6, \"div\", 28);\n    i0.ɵɵtemplate(12, MyInterestsComponent_div_0_div_5_ng_container_1_tr_25_ng_container_1_ng_container_12_Template, 2, 1, \"ng-container\", 29);\n    i0.ɵɵtemplate(13, MyInterestsComponent_div_0_div_5_ng_container_1_tr_25_ng_container_1_div_13_Template, 4, 3, \"div\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵelementStart(15, \"div\", 31);\n    i0.ɵɵelementStart(16, \"div\", 32);\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"span\");\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\");\n    i0.ɵɵelementStart(22, \"div\", 33);\n    i0.ɵɵelementStart(23, \"div\", 32);\n    i0.ɵɵtext(24);\n    i0.ɵɵpipe(25, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(26, MyInterestsComponent_div_0_div_5_ng_container_1_tr_25_ng_container_1_div_26_Template, 8, 11, \"div\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"td\");\n    i0.ɵɵelementStart(28, \"div\", 35);\n    i0.ɵɵelementStart(29, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function MyInterestsComponent_div_0_div_5_ng_container_1_tr_25_ng_container_1_Template_button_click_29_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const interest_r9 = i0.ɵɵnextContext().$implicit;\n      const ctx_r23 = i0.ɵɵnextContext(4);\n      return ctx_r23.removeInterest(interest_r9);\n    });\n    i0.ɵɵpipe(30, \"async\");\n    i0.ɵɵtext(31);\n    i0.ɵɵpipe(32, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const product_r11 = ctx.ngIf;\n    const interest_r9 = i0.ɵɵnextContext().$implicit;\n    const ctx_r10 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(4, 12, i0.ɵɵpureFunction1(22, _c5, product_r11)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"container\", product_r11.images == null ? null : product_r11.images.PRIMARY);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", product_r11.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r11.code);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", product_r11.baseOptions);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r11.stock.stockLevelStatus === \"outOfStock\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(18, 14, \"myInterests.price\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r11.price.formattedValue);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(25, 16, \"myInterests.notifications\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", interest_r9.productInterestEntry);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", i0.ɵɵpipeBind1(30, 18, ctx_r10.isRemoveDisabled$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(32, 20, \"myInterests.remove\"), \" \");\n  }\n}\nfunction MyInterestsComponent_div_0_div_5_ng_container_1_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 20);\n    i0.ɵɵtemplate(1, MyInterestsComponent_div_0_div_5_ng_container_1_tr_25_ng_container_1_Template, 33, 24, \"ng-container\", 21);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const interest_r9 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, interest_r9.product$));\n  }\n}\nfunction MyInterestsComponent_div_0_div_5_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 8);\n    i0.ɵɵelementStart(2, \"label\", 9);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"cx-sorting\", 10);\n    i0.ɵɵlistener(\"sortListEvent\", function MyInterestsComponent_div_0_div_5_ng_container_1_Template_cx_sorting_sortListEvent_6_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext(3);\n      return ctx_r27.sortChange($event);\n    });\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵpipe(8, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 11);\n    i0.ɵɵelementStart(10, \"cx-pagination\", 12);\n    i0.ɵɵlistener(\"viewPageEvent\", function MyInterestsComponent_div_0_div_5_ng_container_1_Template_cx_pagination_viewPageEvent_10_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r29 = i0.ɵɵnextContext(3);\n      return ctx_r29.pageChange($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"table\", 13);\n    i0.ɵɵelementStart(12, \"thead\", 14);\n    i0.ɵɵelementStart(13, \"th\", 15);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"th\", 15);\n    i0.ɵɵelementStart(17, \"th\", 15);\n    i0.ɵɵtext(18);\n    i0.ɵɵpipe(19, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"th\", 15);\n    i0.ɵɵtext(21);\n    i0.ɵɵpipe(22, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(23, \"th\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"tbody\");\n    i0.ɵɵtemplate(25, MyInterestsComponent_div_0_div_5_ng_container_1_tr_25_Template, 3, 3, \"tr\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 17);\n    i0.ɵɵelementStart(27, \"label\", 18);\n    i0.ɵɵelementStart(28, \"span\");\n    i0.ɵɵtext(29);\n    i0.ɵɵpipe(30, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"cx-sorting\", 10);\n    i0.ɵɵlistener(\"sortListEvent\", function MyInterestsComponent_div_0_div_5_ng_container_1_Template_cx_sorting_sortListEvent_31_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r30 = i0.ɵɵnextContext(3);\n      return ctx_r30.sortChange($event);\n    });\n    i0.ɵɵpipe(32, \"async\");\n    i0.ɵɵpipe(33, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"div\", 19);\n    i0.ɵɵelementStart(35, \"cx-pagination\", 12);\n    i0.ɵɵlistener(\"viewPageEvent\", function MyInterestsComponent_div_0_div_5_ng_container_1_Template_cx_pagination_viewPageEvent_35_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r31 = i0.ɵɵnextContext(3);\n      return ctx_r31.pageChange($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const interests_r5 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 16, \"myInterests.sortBy\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(8, 20, \"myInterests.sortBy\"));\n    i0.ɵɵproperty(\"sortOptions\", ctx_r7.sortOptions)(\"sortLabels\", i0.ɵɵpipeBind1(7, 18, ctx_r7.sortLabels))(\"selectedOption\", ctx_r7.sort);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"pagination\", ctx_r7.pagination);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(15, 22, \"myInterests.item\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(19, 24, \"myInterests.price\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(22, 26, \"myInterests.notifications\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", interests_r5.results);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(30, 28, \"myInterests.sortBy\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(33, 32, \"myInterests.sortBy\"));\n    i0.ɵɵproperty(\"sortOptions\", ctx_r7.sortOptions)(\"sortLabels\", i0.ɵɵpipeBind1(32, 30, ctx_r7.sortLabels))(\"selectedOption\", ctx_r7.sort);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"pagination\", ctx_r7.pagination);\n  }\n}\nfunction MyInterestsComponent_div_0_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtemplate(1, MyInterestsComponent_div_0_div_5_ng_container_1_Template, 36, 34, \"ng-container\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const interests_r5 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", interests_r5.pagination.totalCount > 0)(\"ngIfElse\", _r1);\n  }\n}\nfunction MyInterestsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, MyInterestsComponent_div_0_div_5_Template, 2, 2, \"div\", 5);\n    i0.ɵɵpipe(6, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    const _r3 = i0.ɵɵreference(5);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 3, \"myInterests.header\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(6, 5, ctx_r0.getInterestsloading$))(\"ngIfElse\", _r3);\n  }\n}\nfunction MyInterestsComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 48);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"myInterests.noInterests\"), \" \");\n  }\n}\nfunction MyInterestsComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49);\n    i0.ɵɵelement(1, \"cx-spinner\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NotificationPreferenceComponent_ng_container_0_div_1_ng_container_7_label_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"label\", 10);\n    i0.ɵɵelementStart(1, \"input\", 11);\n    i0.ɵɵlistener(\"change\", function NotificationPreferenceComponent_ng_container_0_div_1_ng_container_7_label_1_Template_input_change_1_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const preference_r6 = i0.ɵɵnextContext().$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(3);\n      return ctx_r8.updatePreference(preference_r6);\n    });\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 12);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const preference_r6 = i0.ɵɵnextContext().$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"checked\", preference_r6.enabled)(\"disabled\", i0.ɵɵpipeBind1(2, 4, ctx_r7.isLoading$));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind1(5, 6, \"notificationPreference.\" + preference_r6.channel), \" \", preference_r6.value, \" \");\n  }\n}\nfunction NotificationPreferenceComponent_ng_container_0_div_1_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, NotificationPreferenceComponent_ng_container_0_div_1_ng_container_7_label_1_Template, 6, 8, \"label\", 9);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const preference_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", preference_r6.visible);\n  }\n}\nfunction NotificationPreferenceComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵelementStart(3, \"div\", 5);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 6);\n    i0.ɵɵtemplate(7, NotificationPreferenceComponent_ng_container_0_div_1_ng_container_7_Template, 2, 1, \"ng-container\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"label\", 8);\n    i0.ɵɵelementStart(9, \"strong\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const preferences_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 4, \"notificationPreference.message\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", preferences_r1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(11, 6, \"notificationPreference.note\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(13, 8, \"notificationPreference.noteMessage\"), \" \");\n  }\n}\nfunction NotificationPreferenceComponent_ng_container_0_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵelement(1, \"cx-spinner\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction NotificationPreferenceComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, NotificationPreferenceComponent_ng_container_0_div_1_Template, 14, 10, \"div\", 1);\n    i0.ɵɵtemplate(2, NotificationPreferenceComponent_ng_container_0_ng_template_2_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const preferences_r1 = ctx.ngIf;\n    const _r3 = i0.ɵɵreference(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", preferences_r1.length > 0)(\"ngIfElse\", _r3);\n  }\n}\nfunction AmendOrderActionsComponent_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function AmendOrderActionsComponent_button_6_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.continue($event);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"common.continue\"), \" \");\n  }\n}\nfunction AmendOrderActionsComponent_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"orderDetails.cancellationAndReturn.submit\"), \" \");\n  }\n}\nconst _c33 = function (a0, a1) {\n  return {\n    cxRoute: a0,\n    params: a1\n  };\n};\nfunction CancelOrReturnItemsComponent_div_0_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function CancelOrReturnItemsComponent_div_0_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const form_r1 = i0.ɵɵnextContext().ngIf;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.setAll(form_r1);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"orderDetails.cancellationAndReturn.setAll\"), \" \");\n  }\n}\nfunction CancelOrReturnItemsComponent_div_0_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"orderDetails.cancellationAndReturn.quantity\"), \" \");\n  }\n}\nfunction CancelOrReturnItemsComponent_div_0_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"orderDetails.cancellationAndReturn.totalPrice\"), \" \");\n  }\n}\nfunction CancelOrReturnItemsComponent_div_0_div_15_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r9.product.name, \" \");\n  }\n}\nfunction CancelOrReturnItemsComponent_div_0_div_15_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind1(2, 2, \"cartItems.id\"), \" \", item_r9.product.code, \" \");\n  }\n}\nfunction CancelOrReturnItemsComponent_div_0_div_15_ng_container_8_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const variant_r22 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", variant_r22.name, \": \");\n  }\n}\nfunction CancelOrReturnItemsComponent_div_0_div_15_ng_container_8_div_1_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const variant_r22 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", variant_r22.value, \" \");\n  }\n}\nfunction CancelOrReturnItemsComponent_div_0_div_15_ng_container_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵtemplate(1, CancelOrReturnItemsComponent_div_0_div_15_ng_container_8_div_1_div_1_Template, 2, 1, \"div\", 31);\n    i0.ɵɵtemplate(2, CancelOrReturnItemsComponent_div_0_div_15_ng_container_8_div_1_div_2_Template, 2, 1, \"div\", 32);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const variant_r22 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", variant_r22.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", variant_r22.value);\n  }\n}\nfunction CancelOrReturnItemsComponent_div_0_div_15_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CancelOrReturnItemsComponent_div_0_div_15_ng_container_8_div_1_Template, 3, 2, \"div\", 29);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", item_r9.product.baseOptions[0] == null ? null : item_r9.product.baseOptions[0].selected == null ? null : item_r9.product.baseOptions[0].selected.variantOptionQualifiers);\n  }\n}\nfunction CancelOrReturnItemsComponent_div_0_div_15_div_9_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 34);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r9 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r9.basePrice == null ? null : item_r9.basePrice.formattedValue, \" \");\n  }\n}\nfunction CancelOrReturnItemsComponent_div_0_div_15_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵelementStart(1, \"div\", 23);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, CancelOrReturnItemsComponent_div_0_div_15_div_9_div_4_Template, 2, 1, \"div\", 32);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 2, \"orderDetails.cancellationAndReturn.itemPrice\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", item_r9.basePrice);\n  }\n}\nfunction CancelOrReturnItemsComponent_div_0_div_15_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 36);\n    i0.ɵɵelementStart(1, \"div\", 37);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 34);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r9 = i0.ɵɵnextContext().$implicit;\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"title\", i0.ɵɵpipeBind1(2, 3, \"cartItems.quantityTitle\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 5, \"orderDetails.cancellationAndReturn.quantity\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r15.getMaxAmendQuantity(item_r9), \" \");\n  }\n}\nfunction CancelOrReturnItemsComponent_div_0_div_15_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r9 = i0.ɵɵnextContext().$implicit;\n    const form_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r16 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r16.getControl(form_r1, item_r9).value, \" \");\n  }\n}\nfunction CancelOrReturnItemsComponent_div_0_div_15_cx_item_counter_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-item-counter\", 39);\n  }\n  if (rf & 2) {\n    const item_r9 = i0.ɵɵnextContext().$implicit;\n    const form_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r17 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"min\", 0)(\"max\", ctx_r17.getMaxAmendQuantity(item_r9))(\"control\", ctx_r17.getControl(form_r1, item_r9));\n  }\n}\nfunction CancelOrReturnItemsComponent_div_0_div_15_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40);\n    i0.ɵɵelementStart(1, \"div\", 41);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 34);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r9 = i0.ɵɵnextContext().$implicit;\n    const ctx_r18 = i0.ɵɵnextContext(2);\n    let tmp_1_0;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 2, \"orderDetails.cancellationAndReturn.totalPrice\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", (tmp_1_0 = ctx_r18.getItemPrice(item_r9)) == null ? null : tmp_1_0.formattedValue, \" \");\n  }\n}\nfunction CancelOrReturnItemsComponent_div_0_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵelementStart(1, \"div\", 13);\n    i0.ɵɵelement(2, \"cx-media\", 14);\n    i0.ɵɵelementStart(3, \"div\", 15);\n    i0.ɵɵelementStart(4, \"div\", 16);\n    i0.ɵɵelementStart(5, \"div\", 17);\n    i0.ɵɵtemplate(6, CancelOrReturnItemsComponent_div_0_div_15_div_6_Template, 2, 1, \"div\", 18);\n    i0.ɵɵtemplate(7, CancelOrReturnItemsComponent_div_0_div_15_div_7_Template, 3, 4, \"div\", 19);\n    i0.ɵɵtemplate(8, CancelOrReturnItemsComponent_div_0_div_15_ng_container_8_Template, 2, 1, \"ng-container\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, CancelOrReturnItemsComponent_div_0_div_15_div_9_Template, 5, 4, \"div\", 20);\n    i0.ɵɵtemplate(10, CancelOrReturnItemsComponent_div_0_div_15_div_10_Template, 7, 7, \"div\", 21);\n    i0.ɵɵelementStart(11, \"div\", 22);\n    i0.ɵɵelementStart(12, \"div\", 23);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, CancelOrReturnItemsComponent_div_0_div_15_div_15_Template, 2, 1, \"div\", 24);\n    i0.ɵɵtemplate(16, CancelOrReturnItemsComponent_div_0_div_15_cx_item_counter_16_Template, 1, 3, \"cx-item-counter\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(17, CancelOrReturnItemsComponent_div_0_div_15_div_17_Template, 6, 4, \"div\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r9 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"container\", item_r9.product.images == null ? null : item_r9.product.images.PRIMARY);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", item_r9.product.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r9.product.code);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r9.product.baseOptions == null ? null : item_r9.product.baseOptions.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r9.basePrice);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.isConfirmation);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(14, 10, ctx_r5.isCancellation() ? \"orderDetails.cancellationAndReturn.cancelQty\" : \"orderDetails.cancellationAndReturn.returnQty\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.isConfirmation);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.isConfirmation);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.isConfirmation);\n  }\n}\nfunction CancelOrReturnItemsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, CancelOrReturnItemsComponent_div_0_button_1_Template, 3, 3, \"button\", 1);\n    i0.ɵɵelementStart(2, \"div\", 2);\n    i0.ɵɵelementStart(3, \"div\", 3);\n    i0.ɵɵelementStart(4, \"div\", 4);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 5);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, CancelOrReturnItemsComponent_div_0_div_10_Template, 3, 3, \"div\", 6);\n    i0.ɵɵelementStart(11, \"div\", 7);\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, CancelOrReturnItemsComponent_div_0_div_14_Template, 3, 3, \"div\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, CancelOrReturnItemsComponent_div_0_div_15_Template, 18, 12, \"div\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isConfirmation);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(6, 7, \"orderDetails.cancellationAndReturn.item\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(9, 9, \"orderDetails.cancellationAndReturn.itemPrice\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isConfirmation);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(13, 11, ctx_r0.isCancellation() ? \"orderDetails.cancellationAndReturn.cancelQty\" : \"orderDetails.cancellationAndReturn.returnQty\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isConfirmation);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.entries);\n  }\n}\nfunction CancelOrderConfirmationComponent_form_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction CancelOrderConfirmationComponent_form_0_cx_amend_order_items_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-amend-order-items\", 5);\n  }\n  if (rf & 2) {\n    const entries_r7 = ctx.ngIf;\n    i0.ɵɵproperty(\"entries\", entries_r7)(\"isConfirmation\", true);\n  }\n}\nfunction CancelOrderConfirmationComponent_form_0_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction CancelOrderConfirmationComponent_form_0_ng_template_5_cx_amend_order_actions_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-amend-order-actions\", 7);\n  }\n  if (rf & 2) {\n    const form_r1 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"orderCode\", ctx_r8.orderCode)(\"amendOrderForm\", form_r1);\n  }\n}\nfunction CancelOrderConfirmationComponent_form_0_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, CancelOrderConfirmationComponent_form_0_ng_template_5_cx_amend_order_actions_0_Template, 1, 2, \"cx-amend-order-actions\", 6);\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.orderCode);\n  }\n}\nfunction CancelOrderConfirmationComponent_form_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 1);\n    i0.ɵɵlistener(\"ngSubmit\", function CancelOrderConfirmationComponent_form_0_Template_form_ngSubmit_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const form_r1 = restoredCtx.ngIf;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.submit(form_r1);\n    });\n    i0.ɵɵtemplate(1, CancelOrderConfirmationComponent_form_0_ng_container_1_Template, 1, 0, \"ng-container\", 2);\n    i0.ɵɵtemplate(2, CancelOrderConfirmationComponent_form_0_cx_amend_order_items_2_Template, 1, 2, \"cx-amend-order-items\", 3);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵtemplate(4, CancelOrderConfirmationComponent_form_0_ng_container_4_Template, 1, 0, \"ng-container\", 2);\n    i0.ɵɵtemplate(5, CancelOrderConfirmationComponent_form_0_ng_template_5_Template, 1, 1, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const form_r1 = ctx.ngIf;\n    const _r5 = i0.ɵɵreference(6);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", form_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 4, ctx_r0.entries$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r5);\n  }\n}\nfunction CancelOrderComponent_ng_container_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction CancelOrderComponent_ng_container_0_cx_amend_order_items_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-amend-order-items\", 5);\n  }\n  if (rf & 2) {\n    const entries_r7 = ctx.ngIf;\n    i0.ɵɵproperty(\"entries\", entries_r7);\n  }\n}\nfunction CancelOrderComponent_ng_container_0_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction CancelOrderComponent_ng_container_0_ng_template_6_cx_amend_order_actions_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-amend-order-actions\", 7);\n  }\n  if (rf & 2) {\n    const form_r1 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"orderCode\", ctx_r8.orderCode)(\"amendOrderForm\", form_r1);\n  }\n}\nfunction CancelOrderComponent_ng_container_0_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, CancelOrderComponent_ng_container_0_ng_template_6_cx_amend_order_actions_0_Template, 1, 2, \"cx-amend-order-actions\", 6);\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.orderCode);\n  }\n}\nfunction CancelOrderComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CancelOrderComponent_ng_container_0_ng_container_1_Template, 1, 0, \"ng-container\", 1);\n    i0.ɵɵtemplate(2, CancelOrderComponent_ng_container_0_cx_amend_order_items_2_Template, 1, 1, \"cx-amend-order-items\", 2);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelement(4, \"cx-form-errors\", 3);\n    i0.ɵɵtemplate(5, CancelOrderComponent_ng_container_0_ng_container_5_Template, 1, 0, \"ng-container\", 1);\n    i0.ɵɵtemplate(6, CancelOrderComponent_ng_container_0_ng_template_6_Template, 1, 1, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const form_r1 = ctx.ngIf;\n    const _r5 = i0.ɵɵreference(7);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 4, ctx_r0.entries$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"control\", form_r1.get(\"entries\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r5);\n  }\n}\nfunction ReturnOrderConfirmationComponent_form_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction ReturnOrderConfirmationComponent_form_0_cx_amend_order_items_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-amend-order-items\", 5);\n  }\n  if (rf & 2) {\n    const entries_r7 = ctx.ngIf;\n    i0.ɵɵproperty(\"entries\", entries_r7)(\"isConfirmation\", true);\n  }\n}\nfunction ReturnOrderConfirmationComponent_form_0_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction ReturnOrderConfirmationComponent_form_0_ng_template_5_cx_amend_order_actions_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-amend-order-actions\", 7);\n  }\n  if (rf & 2) {\n    const form_r1 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"orderCode\", ctx_r8.orderCode)(\"amendOrderForm\", form_r1);\n  }\n}\nfunction ReturnOrderConfirmationComponent_form_0_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, ReturnOrderConfirmationComponent_form_0_ng_template_5_cx_amend_order_actions_0_Template, 1, 2, \"cx-amend-order-actions\", 6);\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.orderCode);\n  }\n}\nfunction ReturnOrderConfirmationComponent_form_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 1);\n    i0.ɵɵlistener(\"ngSubmit\", function ReturnOrderConfirmationComponent_form_0_Template_form_ngSubmit_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const form_r1 = restoredCtx.ngIf;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.submit(form_r1);\n    });\n    i0.ɵɵtemplate(1, ReturnOrderConfirmationComponent_form_0_ng_container_1_Template, 1, 0, \"ng-container\", 2);\n    i0.ɵɵtemplate(2, ReturnOrderConfirmationComponent_form_0_cx_amend_order_items_2_Template, 1, 2, \"cx-amend-order-items\", 3);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵtemplate(4, ReturnOrderConfirmationComponent_form_0_ng_container_4_Template, 1, 0, \"ng-container\", 2);\n    i0.ɵɵtemplate(5, ReturnOrderConfirmationComponent_form_0_ng_template_5_Template, 1, 1, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const form_r1 = ctx.ngIf;\n    const _r5 = i0.ɵɵreference(6);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", form_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 4, ctx_r0.entries$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r5);\n  }\n}\nfunction ReturnOrderComponent_ng_container_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction ReturnOrderComponent_ng_container_0_cx_amend_order_items_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-amend-order-items\", 5);\n  }\n  if (rf & 2) {\n    const entries_r7 = ctx.ngIf;\n    i0.ɵɵproperty(\"entries\", entries_r7);\n  }\n}\nfunction ReturnOrderComponent_ng_container_0_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction ReturnOrderComponent_ng_container_0_ng_template_6_cx_amend_order_actions_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-amend-order-actions\", 7);\n  }\n  if (rf & 2) {\n    const form_r1 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"orderCode\", ctx_r8.orderCode)(\"amendOrderForm\", form_r1);\n  }\n}\nfunction ReturnOrderComponent_ng_container_0_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, ReturnOrderComponent_ng_container_0_ng_template_6_cx_amend_order_actions_0_Template, 1, 2, \"cx-amend-order-actions\", 6);\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.orderCode);\n  }\n}\nfunction ReturnOrderComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ReturnOrderComponent_ng_container_0_ng_container_1_Template, 1, 0, \"ng-container\", 1);\n    i0.ɵɵtemplate(2, ReturnOrderComponent_ng_container_0_cx_amend_order_items_2_Template, 1, 1, \"cx-amend-order-items\", 2);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelement(4, \"cx-form-errors\", 3);\n    i0.ɵɵtemplate(5, ReturnOrderComponent_ng_container_0_ng_container_5_Template, 1, 0, \"ng-container\", 1);\n    i0.ɵɵtemplate(6, ReturnOrderComponent_ng_container_0_ng_template_6_Template, 1, 1, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const form_r1 = ctx.ngIf;\n    const _r5 = i0.ɵɵreference(7);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 4, ctx_r0.entries$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"control\", form_r1.get(\"entries\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r5);\n  }\n}\nconst _c34 = function (a1) {\n  return {\n    cxRoute: \"orderCancel\",\n    params: a1\n  };\n};\nfunction OrderDetailActionsComponent_ng_container_0_a_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 3);\n    i0.ɵɵpipe(1, \"cxUrl\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(1, 2, i0.ɵɵpureFunction1(6, _c34, order_r1)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 4, \"orderDetails.cancellationAndReturn.cancelAction\"), \" \");\n  }\n}\nconst _c35 = function (a1) {\n  return {\n    cxRoute: \"orderReturn\",\n    params: a1\n  };\n};\nfunction OrderDetailActionsComponent_ng_container_0_a_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 3);\n    i0.ɵɵpipe(1, \"cxUrl\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(1, 2, i0.ɵɵpureFunction1(6, _c35, order_r1)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 4, \"orderDetails.cancellationAndReturn.returnAction\"), \" \");\n  }\n}\nconst _c36 = function () {\n  return {\n    cxRoute: \"orders\"\n  };\n};\nfunction OrderDetailActionsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelementStart(2, \"div\", 2);\n    i0.ɵɵelementStart(3, \"button\", 3);\n    i0.ɵɵpipe(4, \"cxUrl\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 2);\n    i0.ɵɵtemplate(8, OrderDetailActionsComponent_ng_container_0_a_8_Template, 4, 8, \"a\", 4);\n    i0.ɵɵtemplate(9, OrderDetailActionsComponent_ng_container_0_a_9_Template, 4, 8, \"a\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const order_r1 = ctx.ngIf;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(4, 4, i0.ɵɵpureFunction0(8, _c36)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(6, 6, \"common.back\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", order_r1.cancellable);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", order_r1.returnable);\n  }\n}\nfunction TrackingEventsComponent_ng_container_1_ng_container_9_ng_container_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 16);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const consignmentTracking_r5 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"href\", consignmentTracking_r5.trackingUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(consignmentTracking_r5 == null ? null : consignmentTracking_r5.trackingID);\n  }\n}\nfunction TrackingEventsComponent_ng_container_1_ng_container_9_ng_container_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const consignmentTracking_r5 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", consignmentTracking_r5 == null ? null : consignmentTracking_r5.trackingID, \" \");\n  }\n}\nfunction TrackingEventsComponent_ng_container_1_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 10);\n    i0.ɵɵelementStart(2, \"div\", 11);\n    i0.ɵɵelementStart(3, \"div\", 12);\n    i0.ɵɵelementStart(4, \"div\", 13);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 14);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"cxDate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 12);\n    i0.ɵɵelementStart(11, \"div\", 13);\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 14);\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"cxDate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 11);\n    i0.ɵɵelementStart(18, \"div\", 12);\n    i0.ɵɵelementStart(19, \"div\", 13);\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 14);\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 12);\n    i0.ɵɵelementStart(25, \"div\", 13);\n    i0.ɵɵtext(26);\n    i0.ɵɵpipe(27, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 14);\n    i0.ɵɵtemplate(29, TrackingEventsComponent_ng_container_1_ng_container_9_ng_container_29_Template, 3, 2, \"ng-container\", 15);\n    i0.ɵɵtemplate(30, TrackingEventsComponent_ng_container_1_ng_container_9_ng_container_30_Template, 3, 1, \"ng-container\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const consignmentTracking_r5 = i0.ɵɵnextContext().ngIf;\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(6, 9, \"orderDetails.consignmentTracking.dialog.shipped\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(9, 11, ctx_r6.shipDate, \"medium\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(13, 14, \"orderDetails.consignmentTracking.dialog.estimate\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(16, 16, consignmentTracking_r5 == null ? null : consignmentTracking_r5.targetArrivalDate, \"medium\"), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(21, 19, \"orderDetails.consignmentTracking.dialog.carrier\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", consignmentTracking_r5 == null ? null : consignmentTracking_r5.carrierDetails == null ? null : consignmentTracking_r5.carrierDetails.name, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(27, 21, \"orderDetails.consignmentTracking.dialog.trackingId\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", consignmentTracking_r5 == null ? null : consignmentTracking_r5.trackingUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !(consignmentTracking_r5 == null ? null : consignmentTracking_r5.trackingUrl));\n  }\n}\nfunction TrackingEventsComponent_ng_container_1_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 17);\n    i0.ɵɵelementStart(2, \"div\", 18);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxDate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 19);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 18);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 20);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const consignmentEvent_r13 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 4, consignmentEvent_r13.eventDate, \"medium\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", consignmentEvent_r13.referenceCode, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(consignmentEvent_r13.detail);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" location: \", consignmentEvent_r13.location, \" \");\n  }\n}\nfunction TrackingEventsComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵelementStart(2, \"div\", 5);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function TrackingEventsComponent_ng_container_1_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.activeModal.dismiss(\"Cross click\");\n    });\n    i0.ɵɵpipe(6, \"cxTranslate\");\n    i0.ɵɵelementStart(7, \"span\", 7);\n    i0.ɵɵtext(8, \"\\xD7\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, TrackingEventsComponent_ng_container_1_ng_container_9_Template, 31, 23, \"ng-container\", 1);\n    i0.ɵɵelementStart(10, \"div\", 8);\n    i0.ɵɵtemplate(11, TrackingEventsComponent_ng_container_1_ng_container_11_Template, 11, 7, \"ng-container\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const consignmentTracking_r5 = ctx.ngIf;\n    i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(4);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 5, \"orderDetails.consignmentTracking.dialog.header\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(6, 7, \"common.close\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", (consignmentTracking_r5 == null ? null : consignmentTracking_r5.carrierDetails) && (consignmentTracking_r5 == null ? null : consignmentTracking_r5.trackingID))(\"ngIfElse\", _r1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", consignmentTracking_r5.trackingEvents);\n  }\n}\nfunction TrackingEventsComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵelementStart(1, \"div\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 1, \"orderDetails.consignmentTracking.dialog.noTracking\"), \" \");\n  }\n}\nfunction TrackingEventsComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵelementStart(2, \"div\", 5);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function TrackingEventsComponent_ng_template_5_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.activeModal.dismiss(\"Cross click\");\n    });\n    i0.ɵɵpipe(6, \"cxTranslate\");\n    i0.ɵɵelementStart(7, \"span\", 7);\n    i0.ɵɵtext(8, \"\\xD7\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 24);\n    i0.ɵɵelementStart(10, \"div\", 11);\n    i0.ɵɵelementStart(11, \"div\", 25);\n    i0.ɵɵelement(12, \"cx-spinner\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 2, \"orderDetails.consignmentTracking.dialog.loadingHeader\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(6, 4, \"common.close\"));\n  }\n}\nfunction ConsignmentTrackingComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function ConsignmentTrackingComponent_ng_container_0_div_1_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext(2);\n      return ctx_r2.openTrackingDialog(ctx_r2.consignment);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 1, \"orderDetails.consignmentTracking.action\"), \" \");\n  }\n}\nfunction ConsignmentTrackingComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ConsignmentTrackingComponent_ng_container_0_div_1_Template, 4, 3, \"div\", 0);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.consignmentStatus.includes(ctx_r0.consignment.status));\n  }\n}\nfunction OrderConsignedEntriesComponent_div_0_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const consignment_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"orderDetails.deliveryStatus_\" + (consignment_r1 == null ? null : consignment_r1.status)), \" \");\n  }\n}\nfunction OrderConsignedEntriesComponent_div_0_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxDate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const consignment_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 1, consignment_r1 == null ? null : consignment_r1.statusDate));\n  }\n}\nfunction OrderConsignedEntriesComponent_div_0_cx_consignment_tracking_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-consignment-tracking\", 10);\n  }\n  if (rf & 2) {\n    const consignment_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"orderCode\", ctx_r4.order.code)(\"consignment\", consignment_r1);\n  }\n}\nfunction OrderConsignedEntriesComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵelementStart(1, \"div\", 2);\n    i0.ɵɵelementStart(2, \"div\", 3);\n    i0.ɵɵtemplate(3, OrderConsignedEntriesComponent_div_0_span_3_Template, 3, 3, \"span\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, OrderConsignedEntriesComponent_div_0_div_4_Template, 4, 3, \"div\", 5);\n    i0.ɵɵtemplate(5, OrderConsignedEntriesComponent_div_0_cx_consignment_tracking_5_Template, 1, 2, \"cx-consignment-tracking\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 7);\n    i0.ɵɵelement(7, \"cx-cart-item-list\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const consignment_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", consignment_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", consignment_r1 == null ? null : consignment_r1.statusDate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cxFeature\", \"consignmentTracking\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"items\", consignment_r1.entries)(\"readonly\", true)(\"promotionLocation\", ctx_r0.promotionLocation);\n  }\n}\nfunction OrderDetailItemsComponent_ng_container_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"cx-promotions\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const order_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"promotions\", order_r1.appliedOrderPromotions || i0.ɵɵpureFunction0(1, _c10));\n  }\n}\nfunction OrderDetailItemsComponent_ng_container_0_ng_container_2_cx_order_consigned_entries_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-order-consigned-entries\", 3);\n  }\n  if (rf & 2) {\n    const others_r9 = ctx.ngIf;\n    const order_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵproperty(\"order\", order_r1)(\"consignments\", others_r9);\n  }\n}\nfunction OrderDetailItemsComponent_ng_container_0_ng_container_2_cx_order_consigned_entries_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-order-consigned-entries\", 3);\n  }\n  if (rf & 2) {\n    const completed_r11 = ctx.ngIf;\n    const order_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵproperty(\"order\", order_r1)(\"consignments\", completed_r11);\n  }\n}\nfunction OrderDetailItemsComponent_ng_container_0_ng_container_2_cx_order_consigned_entries_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-order-consigned-entries\", 3);\n  }\n  if (rf & 2) {\n    const cancel_r13 = ctx.ngIf;\n    const order_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵproperty(\"order\", order_r1)(\"consignments\", cancel_r13);\n  }\n}\nfunction OrderDetailItemsComponent_ng_container_0_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, OrderDetailItemsComponent_ng_container_0_ng_container_2_cx_order_consigned_entries_1_Template, 1, 2, \"cx-order-consigned-entries\", 2);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵtemplate(3, OrderDetailItemsComponent_ng_container_0_ng_container_2_cx_order_consigned_entries_3_Template, 1, 2, \"cx-order-consigned-entries\", 2);\n    i0.ɵɵpipe(4, \"async\");\n    i0.ɵɵtemplate(5, OrderDetailItemsComponent_ng_container_0_ng_container_2_cx_order_consigned_entries_5_Template, 1, 2, \"cx-order-consigned-entries\", 2);\n    i0.ɵɵpipe(6, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 3, ctx_r3.others$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(4, 5, ctx_r3.completed$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(6, 7, ctx_r3.cancel$));\n  }\n}\nfunction OrderDetailItemsComponent_ng_container_0_ng_container_3_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelementStart(1, \"div\", 9);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 1, \"orderDetails.statusDisplay_\" + (order_r1 == null ? null : order_r1.statusDisplay)), \" \");\n  }\n}\nfunction OrderDetailItemsComponent_ng_container_0_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵtemplate(2, OrderDetailItemsComponent_ng_container_0_ng_container_3_div_2_Template, 4, 3, \"div\", 5);\n    i0.ɵɵelementStart(3, \"div\", 6);\n    i0.ɵɵelement(4, \"cx-cart-item-list\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const order_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", order_r1 == null ? null : order_r1.statusDisplay);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"items\", (order_r1 == null ? null : order_r1.unconsignedEntries) ? order_r1.unconsignedEntries : order_r1.entries)(\"readonly\", true)(\"promotionLocation\", ctx_r4.promotionLocation);\n  }\n}\nfunction OrderDetailItemsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, OrderDetailItemsComponent_ng_container_0_ng_container_1_Template, 2, 2, \"ng-container\", 0);\n    i0.ɵɵtemplate(2, OrderDetailItemsComponent_ng_container_0_ng_container_2_Template, 7, 9, \"ng-container\", 0);\n    i0.ɵɵtemplate(3, OrderDetailItemsComponent_ng_container_0_ng_container_3_Template, 5, 4, \"ng-container\", 0);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const order_r1 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (order_r1.consignments == null ? null : order_r1.consignments.length) || (order_r1.unconsignedEntries == null ? null : order_r1.unconsignedEntries.length) || order_r1.replenishmentOrderCode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", order_r1.consignments == null ? null : order_r1.consignments.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (order_r1 == null ? null : order_r1.unconsignedEntries == null ? null : order_r1.unconsignedEntries.length) || (order_r1 == null ? null : order_r1.entries) && (order_r1 == null ? null : order_r1.replenishmentOrderCode));\n  }\n}\nfunction OrderDetailShippingComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"cx-order-overview\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const order_r1 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"order\", order_r1);\n  }\n}\nfunction OrderDetailTotalsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelementStart(2, \"div\", 2);\n    i0.ɵɵelement(3, \"cx-order-summary\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const order_r1 = ctx.ngIf;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"cart\", order_r1);\n  }\n}\nfunction OrderHistoryComponent_ng_container_0_ng_container_1_h4_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"orderHistory.replenishmentHistory\"), \" \");\n  }\n}\nfunction OrderHistoryComponent_ng_container_0_ng_container_1_h3_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h3\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"orderHistory.orderHistory\"), \" \");\n  }\n}\nfunction OrderHistoryComponent_ng_container_0_ng_container_1_ng_container_6_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelementStart(1, \"cx-pagination\", 15);\n    i0.ɵɵlistener(\"viewPageEvent\", function OrderHistoryComponent_ng_container_0_ng_container_1_ng_container_6_div_9_Template_cx_pagination_viewPageEvent_1_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext(4);\n      return ctx_r11.pageChange($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const type_r1 = i0.ɵɵnextContext(3).ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"pagination\", type_r1.orderHistory.pagination);\n  }\n}\nconst _c37 = function (a1) {\n  return {\n    cxRoute: \"orderDetails\",\n    params: a1\n  };\n};\nfunction OrderHistoryComponent_ng_container_0_ng_container_1_ng_container_6_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 16);\n    i0.ɵɵlistener(\"click\", function OrderHistoryComponent_ng_container_0_ng_container_1_ng_container_6_tr_25_Template_tr_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const order_r14 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext(4);\n      return ctx_r15.goToOrderDetail(order_r14);\n    });\n    i0.ɵɵelementStart(1, \"td\", 17);\n    i0.ɵɵelementStart(2, \"div\", 18);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 19);\n    i0.ɵɵpipe(6, \"cxUrl\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 20);\n    i0.ɵɵelementStart(9, \"div\", 18);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"a\", 19);\n    i0.ɵɵpipe(13, \"cxUrl\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"cxDate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\", 21);\n    i0.ɵɵelementStart(17, \"div\", 18);\n    i0.ɵɵtext(18);\n    i0.ɵɵpipe(19, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"a\", 19);\n    i0.ɵɵpipe(21, \"cxUrl\");\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"td\", 22);\n    i0.ɵɵelementStart(25, \"div\", 18);\n    i0.ɵɵtext(26);\n    i0.ɵɵpipe(27, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"a\", 19);\n    i0.ɵɵpipe(29, \"cxUrl\");\n    i0.ɵɵtext(30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r14 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 12, \"orderHistory.orderId\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(6, 14, i0.ɵɵpureFunction1(33, _c37, order_r14)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", order_r14 == null ? null : order_r14.code, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(11, 16, \"orderHistory.date\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(13, 18, i0.ɵɵpureFunction1(35, _c37, order_r14)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(15, 20, order_r14 == null ? null : order_r14.placed, \"longDate\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(19, 23, \"orderHistory.status\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(21, 25, i0.ɵɵpureFunction1(37, _c37, order_r14)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(23, 27, \"orderDetails.statusDisplay_\" + (order_r14 == null ? null : order_r14.statusDisplay)), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(27, 29, \"orderHistory.total\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(29, 31, i0.ɵɵpureFunction1(39, _c37, order_r14)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", order_r14 == null ? null : order_r14.total.formattedValue, \"\");\n  }\n}\nfunction OrderHistoryComponent_ng_container_0_ng_container_1_ng_container_6_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelementStart(1, \"cx-pagination\", 15);\n    i0.ɵɵlistener(\"viewPageEvent\", function OrderHistoryComponent_ng_container_0_ng_container_1_ng_container_6_div_27_Template_cx_pagination_viewPageEvent_1_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext(4);\n      return ctx_r17.pageChange($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const type_r1 = i0.ɵɵnextContext(3).ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"pagination\", type_r1.orderHistory.pagination);\n  }\n}\nfunction OrderHistoryComponent_ng_container_0_ng_container_1_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 5);\n    i0.ɵɵelementStart(2, \"label\", 6);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"cx-sorting\", 7);\n    i0.ɵɵlistener(\"sortListEvent\", function OrderHistoryComponent_ng_container_0_ng_container_1_ng_container_6_Template_cx_sorting_sortListEvent_6_listener($event) {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext(3);\n      return ctx_r20.changeSortCode($event);\n    });\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵpipe(8, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, OrderHistoryComponent_ng_container_0_ng_container_1_ng_container_6_div_9_Template, 2, 1, \"div\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"table\", 9);\n    i0.ɵɵelementStart(11, \"thead\", 10);\n    i0.ɵɵelementStart(12, \"th\", 11);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\", 11);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\", 11);\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"th\", 11);\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"tbody\");\n    i0.ɵɵtemplate(25, OrderHistoryComponent_ng_container_0_ng_container_1_ng_container_6_tr_25_Template, 31, 41, \"tr\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 13);\n    i0.ɵɵtemplate(27, OrderHistoryComponent_ng_container_0_ng_container_1_ng_container_6_div_27_Template, 2, 1, \"div\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const type_r1 = i0.ɵɵnextContext(2).ngIf;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 12, \"orderHistory.sortBy\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(8, 16, \"orderHistory.sortBy\"));\n    i0.ɵɵproperty(\"sortOptions\", type_r1.orderHistory.sorts)(\"sortLabels\", i0.ɵɵpipeBind1(7, 14, ctx_r5.getSortLabels()))(\"selectedOption\", type_r1.orderHistory.pagination.sort);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", type_r1.orderHistory.pagination.totalPages > 1);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(14, 18, \"orderHistory.orderId\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(17, 20, \"orderHistory.date\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(20, 22, \"orderHistory.status\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(23, 24, \"orderHistory.total\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", type_r1.orderHistory.orders);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", type_r1.orderHistory.pagination.totalPages > 1);\n  }\n}\nfunction OrderHistoryComponent_ng_container_0_ng_container_1_ng_template_7_div_0_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 1, \"orderHistory.notFound\"));\n  }\n}\nconst _c38 = function () {\n  return {\n    cxRoute: \"home\"\n  };\n};\nfunction OrderHistoryComponent_ng_container_0_ng_container_1_ng_template_7_div_0_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 25);\n    i0.ɵɵpipe(4, \"cxUrl\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 3, \"orderHistory.noOrders\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(4, 5, i0.ɵɵpureFunction0(9, _c38)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 7, \"orderHistory.startShopping\"));\n  }\n}\nfunction OrderHistoryComponent_ng_container_0_ng_container_1_ng_template_7_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵtemplate(2, OrderHistoryComponent_ng_container_0_ng_container_1_ng_template_7_div_0_ng_container_2_Template, 4, 3, \"ng-container\", 3);\n    i0.ɵɵtemplate(3, OrderHistoryComponent_ng_container_0_ng_container_1_ng_template_7_div_0_ng_template_3_Template, 7, 10, \"ng-template\", null, 24, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r25 = i0.ɵɵreference(4);\n    const type_r1 = i0.ɵɵnextContext(3).ngIf;\n    i0.ɵɵproperty(\"ngClass\", type_r1.replenishmentOrder ? \"cx-replenishment-details-order-history-no-order row\" : \"cx-order-history-no-order row\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", type_r1.replenishmentOrder ? \"\" : \"col-sm-12 col-md-6 col-lg-4\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", type_r1.replenishmentOrder)(\"ngIfElse\", _r25);\n  }\n}\nfunction OrderHistoryComponent_ng_container_0_ng_container_1_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, OrderHistoryComponent_ng_container_0_ng_container_1_ng_template_7_div_0_Template, 5, 4, \"div\", 23);\n    i0.ɵɵpipe(1, \"async\");\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx_r7.isLoaded$));\n  }\n}\nfunction OrderHistoryComponent_ng_container_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelementStart(2, \"div\", 1);\n    i0.ɵɵtemplate(3, OrderHistoryComponent_ng_container_0_ng_container_1_h4_3_Template, 3, 3, \"h4\", 0);\n    i0.ɵɵtemplate(4, OrderHistoryComponent_ng_container_0_ng_container_1_h3_4_Template, 3, 3, \"h3\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 2);\n    i0.ɵɵtemplate(6, OrderHistoryComponent_ng_container_0_ng_container_1_ng_container_6_Template, 28, 26, \"ng-container\", 3);\n    i0.ɵɵtemplate(7, OrderHistoryComponent_ng_container_0_ng_container_1_ng_template_7_Template, 2, 3, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const _r6 = i0.ɵɵreference(8);\n    const type_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", type_r1.replenishmentOrder ? \"\" : \"container\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", type_r1.replenishmentOrder ? \"cx-replenishment-details-order-history-header\" : \"cx-order-history-header\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", type_r1.replenishmentOrder);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !type_r1.replenishmentOrder);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", type_r1.orderHistory.pagination.totalResults > 0)(\"ngIfElse\", _r6);\n  }\n}\nfunction OrderHistoryComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, OrderHistoryComponent_ng_container_0_ng_container_1_Template, 9, 6, \"ng-container\", 0);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const type_r1 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", type_r1.orderHistory);\n  }\n}\nconst _c39 = function (a0, a1) {\n  return {\n    orderHistory: a0,\n    replenishmentOrder: a1\n  };\n};\nconst _c40 = [\"element\"];\nfunction ReplenishmentOrderCancellationComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵelementStart(1, \"button\", 4, 5);\n    i0.ɵɵlistener(\"click\", function ReplenishmentOrderCancellationComponent_div_6_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.openDialog();\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 1, \"orderDetails.cancelReplenishment.title\"), \" \");\n  }\n}\nconst _c41 = function () {\n  return {\n    cxRoute: \"replenishmentOrders\"\n  };\n};\nfunction ReplenishmentOrderHistoryComponent_ng_container_0_ng_container_7_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵelementStart(1, \"cx-pagination\", 19);\n    i0.ɵɵlistener(\"viewPageEvent\", function ReplenishmentOrderHistoryComponent_ng_container_0_ng_container_7_div_9_Template_cx_pagination_viewPageEvent_1_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(3);\n      return ctx_r8.pageChange($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const replenishmentOrders_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"pagination\", replenishmentOrders_r1.pagination);\n  }\n}\nfunction ReplenishmentOrderHistoryComponent_ng_container_0_ng_container_7_tr_38_button_50_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 30, 31);\n    i0.ɵɵlistener(\"click\", function ReplenishmentOrderHistoryComponent_ng_container_0_ng_container_7_tr_38_button_50_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const order_r11 = i0.ɵɵnextContext().$implicit;\n      const ctx_r14 = i0.ɵɵnextContext(3);\n      return ctx_r14.openDialog($event, order_r11 == null ? null : order_r11.replenishmentOrderCode);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 1, \"orderHistory.cancel\"), \" \");\n  }\n}\nconst _c42 = function (a1) {\n  return {\n    cxRoute: \"replenishmentDetails\",\n    params: a1\n  };\n};\nfunction ReplenishmentOrderHistoryComponent_ng_container_0_ng_container_7_tr_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 20);\n    i0.ɵɵlistener(\"click\", function ReplenishmentOrderHistoryComponent_ng_container_0_ng_container_7_tr_38_Template_tr_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r18);\n      const order_r11 = restoredCtx.$implicit;\n      const ctx_r17 = i0.ɵɵnextContext(3);\n      return ctx_r17.goToOrderDetail(order_r11);\n    });\n    i0.ɵɵelementStart(1, \"td\", 21);\n    i0.ɵɵelementStart(2, \"div\", 22);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 23);\n    i0.ɵɵpipe(6, \"cxUrl\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵelementStart(9, \"div\", 22);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"a\", 24);\n    i0.ɵɵpipe(13, \"cxUrl\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵelementStart(17, \"div\", 22);\n    i0.ɵɵtext(18);\n    i0.ɵɵpipe(19, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"a\", 23);\n    i0.ɵɵpipe(21, \"cxUrl\");\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"cxDate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"td\", 25);\n    i0.ɵɵelementStart(25, \"div\", 22);\n    i0.ɵɵtext(26);\n    i0.ɵɵpipe(27, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"a\", 23);\n    i0.ɵɵpipe(29, \"cxUrl\");\n    i0.ɵɵtext(30);\n    i0.ɵɵpipe(31, \"slice\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"td\");\n    i0.ɵɵelementStart(33, \"div\", 22);\n    i0.ɵɵtext(34);\n    i0.ɵɵpipe(35, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"a\", 26);\n    i0.ɵɵpipe(37, \"cxUrl\");\n    i0.ɵɵtext(38);\n    i0.ɵɵpipe(39, \"cxDate\");\n    i0.ɵɵpipe(40, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"td\", 27);\n    i0.ɵɵelementStart(42, \"div\", 22);\n    i0.ɵɵtext(43);\n    i0.ɵɵpipe(44, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"a\", 23);\n    i0.ɵɵpipe(46, \"cxUrl\");\n    i0.ɵɵtext(47);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"td\", 28);\n    i0.ɵɵelement(49, \"div\", 22);\n    i0.ɵɵtemplate(50, ReplenishmentOrderHistoryComponent_ng_container_0_ng_container_7_tr_38_button_50_Template, 4, 3, \"button\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const order_r11 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 19, \"orderHistory.replenishmentOrderId\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(6, 21, i0.ɵɵpureFunction1(57, _c42, order_r11)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", order_r11 == null ? null : order_r11.replenishmentOrderCode, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(11, 23, \"orderHistory.purchaseOrderNumber\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(13, 25, i0.ɵɵpureFunction1(59, _c42, order_r11)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", (order_r11 == null ? null : order_r11.purchaseOrderNumber == null ? null : order_r11.purchaseOrderNumber.length) > 0 ? order_r11 == null ? null : order_r11.purchaseOrderNumber : i0.ɵɵpipeBind1(15, 27, \"orderHistory.emptyPurchaseOrderId\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(19, 29, \"orderHistory.startOn\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(21, 31, i0.ɵɵpureFunction1(61, _c42, order_r11)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(23, 33, order_r11 == null ? null : order_r11.firstDate, \"M/d/yyyy\"), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(27, 36, \"orderHistory.frequency\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(29, 38, i0.ɵɵpureFunction1(63, _c42, order_r11)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind3(31, 40, order_r11 == null ? null : order_r11.trigger.displayTimeTable, 0, -12), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(35, 44, \"orderHistory.nextOrderDate\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(37, 46, i0.ɵɵpureFunction1(65, _c42, order_r11)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", (order_r11 == null ? null : order_r11.active) ? i0.ɵɵpipeBind2(39, 48, order_r11 == null ? null : order_r11.trigger.activationTime, \"M/d/yyyy\") : i0.ɵɵpipeBind1(40, 51, \"orderHistory.cancelled\"), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(44, 53, \"orderHistory.total\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(46, 55, i0.ɵɵpureFunction1(67, _c42, order_r11)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", order_r11 == null ? null : order_r11.totalPriceWithTax.formattedValue, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", order_r11 == null ? null : order_r11.active);\n  }\n}\nfunction ReplenishmentOrderHistoryComponent_ng_container_0_ng_container_7_cx_pagination_41_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"cx-pagination\", 19);\n    i0.ɵɵlistener(\"viewPageEvent\", function ReplenishmentOrderHistoryComponent_ng_container_0_ng_container_7_cx_pagination_41_Template_cx_pagination_viewPageEvent_0_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext(3);\n      return ctx_r19.pageChange($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const replenishmentOrders_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵproperty(\"pagination\", replenishmentOrders_r1.pagination);\n  }\n}\nfunction ReplenishmentOrderHistoryComponent_ng_container_0_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 6);\n    i0.ɵɵelementStart(2, \"label\", 7);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"cx-sorting\", 8);\n    i0.ɵɵlistener(\"sortListEvent\", function ReplenishmentOrderHistoryComponent_ng_container_0_ng_container_7_Template_cx_sorting_sortListEvent_6_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext(2);\n      return ctx_r22.changeSortCode($event);\n    });\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵpipe(8, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, ReplenishmentOrderHistoryComponent_ng_container_0_ng_container_7_div_9_Template, 2, 1, \"div\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"table\", 10);\n    i0.ɵɵelementStart(11, \"thead\", 11);\n    i0.ɵɵelementStart(12, \"th\", 12);\n    i0.ɵɵelementStart(13, \"span\", 13);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\", 12);\n    i0.ɵɵelementStart(17, \"span\", 13);\n    i0.ɵɵtext(18);\n    i0.ɵɵpipe(19, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"th\", 12);\n    i0.ɵɵelementStart(21, \"span\", 13);\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"th\", 12);\n    i0.ɵɵelementStart(25, \"span\", 13);\n    i0.ɵɵtext(26);\n    i0.ɵɵpipe(27, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"th\", 12);\n    i0.ɵɵelementStart(29, \"span\", 13);\n    i0.ɵɵtext(30);\n    i0.ɵɵpipe(31, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"th\", 14);\n    i0.ɵɵelementStart(33, \"span\", 13);\n    i0.ɵɵtext(34);\n    i0.ɵɵpipe(35, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(36, \"th\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"tbody\");\n    i0.ɵɵtemplate(38, ReplenishmentOrderHistoryComponent_ng_container_0_ng_container_7_tr_38_Template, 51, 69, \"tr\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(39, \"div\", 16);\n    i0.ɵɵelementStart(40, \"div\", 17);\n    i0.ɵɵtemplate(41, ReplenishmentOrderHistoryComponent_ng_container_0_ng_container_7_cx_pagination_41_Template, 1, 1, \"cx-pagination\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const replenishmentOrders_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 14, \"orderHistory.sortBy\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(8, 18, \"orderHistory.sortBy\"));\n    i0.ɵɵproperty(\"sortOptions\", replenishmentOrders_r1.sorts)(\"sortLabels\", i0.ɵɵpipeBind1(7, 16, ctx_r2.getSortLabels()))(\"selectedOption\", replenishmentOrders_r1.pagination.sort);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", replenishmentOrders_r1.pagination.totalPages > 1);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(15, 20, \"orderHistory.replenishmentOrderId\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(19, 22, \"orderHistory.purchaseOrderNumber\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(23, 24, \"orderHistory.startOn\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(27, 26, \"orderHistory.frequency\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(31, 28, \"orderHistory.nextOrderDate\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(35, 30, \"orderHistory.total\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", replenishmentOrders_r1.replenishmentOrders);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", replenishmentOrders_r1.pagination.totalPages > 1);\n  }\n}\nfunction ReplenishmentOrderHistoryComponent_ng_container_0_ng_template_8_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵelementStart(1, \"div\", 34);\n    i0.ɵɵelementStart(2, \"div\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 35);\n    i0.ɵɵpipe(6, \"cxUrl\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 3, \"orderHistory.noReplenishmentOrders\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(6, 5, i0.ɵɵpureFunction0(9, _c38)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 7, \"orderHistory.startShopping\"));\n  }\n}\nfunction ReplenishmentOrderHistoryComponent_ng_container_0_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, ReplenishmentOrderHistoryComponent_ng_container_0_ng_template_8_div_0_Template, 9, 10, \"div\", 32);\n    i0.ɵɵpipe(1, \"async\");\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx_r4.isLoaded$));\n  }\n}\nfunction ReplenishmentOrderHistoryComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelementStart(2, \"div\", 2);\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 3);\n    i0.ɵɵtemplate(7, ReplenishmentOrderHistoryComponent_ng_container_0_ng_container_7_Template, 42, 32, \"ng-container\", 4);\n    i0.ɵɵtemplate(8, ReplenishmentOrderHistoryComponent_ng_container_0_ng_template_8_Template, 2, 3, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const replenishmentOrders_r1 = ctx.ngIf;\n    const _r3 = i0.ɵɵreference(9);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 3, \"orderHistory.replenishmentOrderHistory\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", replenishmentOrders_r1.pagination.totalResults > 0)(\"ngIfElse\", _r3);\n  }\n}\nfunction ReturnRequestItemsComponent_ng_container_0_div_15_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const returnEntry_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", returnEntry_r3.orderEntry == null ? null : returnEntry_r3.orderEntry.product.name, \" \");\n  }\n}\nfunction ReturnRequestItemsComponent_ng_container_0_div_15_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const returnEntry_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind1(2, 2, \"cartItems.id\"), \" \", returnEntry_r3.orderEntry == null ? null : returnEntry_r3.orderEntry.product.code, \" \");\n  }\n}\nfunction ReturnRequestItemsComponent_ng_container_0_div_15_div_10_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const variant_r11 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", variant_r11.name, \": \");\n  }\n}\nfunction ReturnRequestItemsComponent_ng_container_0_div_15_div_10_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const variant_r11 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", variant_r11.value, \" \");\n  }\n}\nfunction ReturnRequestItemsComponent_ng_container_0_div_15_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtemplate(1, ReturnRequestItemsComponent_ng_container_0_div_15_div_10_div_1_Template, 2, 1, \"div\", 27);\n    i0.ɵɵtemplate(2, ReturnRequestItemsComponent_ng_container_0_div_15_div_10_div_2_Template, 2, 1, \"div\", 28);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const variant_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", variant_r11.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", variant_r11.value);\n  }\n}\nfunction ReturnRequestItemsComponent_ng_container_0_div_15_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 30);\n    i0.ɵɵelementStart(1, \"div\", 21);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 22);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const returnEntry_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 2, \"returnRequest.itemPrice\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", returnEntry_r3.orderEntry == null ? null : returnEntry_r3.orderEntry.basePrice == null ? null : returnEntry_r3.orderEntry.basePrice.formattedValue, \" \");\n  }\n}\nfunction ReturnRequestItemsComponent_ng_container_0_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelementStart(1, \"div\", 9);\n    i0.ɵɵelementStart(2, \"div\", 10);\n    i0.ɵɵelementStart(3, \"div\", 11);\n    i0.ɵɵelement(4, \"cx-media\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 13);\n    i0.ɵɵelementStart(6, \"div\", 14);\n    i0.ɵɵelementStart(7, \"div\", 15);\n    i0.ɵɵtemplate(8, ReturnRequestItemsComponent_ng_container_0_div_15_div_8_Template, 2, 1, \"div\", 16);\n    i0.ɵɵtemplate(9, ReturnRequestItemsComponent_ng_container_0_div_15_div_9_Template, 3, 4, \"div\", 17);\n    i0.ɵɵtemplate(10, ReturnRequestItemsComponent_ng_container_0_div_15_div_10_Template, 3, 2, \"div\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, ReturnRequestItemsComponent_ng_container_0_div_15_div_11_Template, 6, 4, \"div\", 19);\n    i0.ɵɵelementStart(12, \"div\", 20);\n    i0.ɵɵelementStart(13, \"div\", 21);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 22);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 23);\n    i0.ɵɵelementStart(19, \"div\", 21);\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 22);\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const returnEntry_r3 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"container\", returnEntry_r3.orderEntry == null ? null : returnEntry_r3.orderEntry.product.images == null ? null : returnEntry_r3.orderEntry.product.images.PRIMARY);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", returnEntry_r3.orderEntry == null ? null : returnEntry_r3.orderEntry.product.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", returnEntry_r3.orderEntry == null ? null : returnEntry_r3.orderEntry.product.code);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", returnEntry_r3.orderEntry == null ? null : returnEntry_r3.orderEntry.product.baseOptions[0] == null ? null : returnEntry_r3.orderEntry.product.baseOptions[0].selected == null ? null : returnEntry_r3.orderEntry.product.baseOptions[0].selected.variantOptionQualifiers);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", returnEntry_r3.orderEntry == null ? null : returnEntry_r3.orderEntry.basePrice);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(15, 9, \"returnRequest.returnQty\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", returnEntry_r3.expectedQuantity, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(21, 11, \"returnRequest.total\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", returnEntry_r3.refundAmount == null ? null : returnEntry_r3.refundAmount.formattedValue, \" \");\n  }\n}\nfunction ReturnRequestItemsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelementStart(2, \"div\", 2);\n    i0.ɵɵelementStart(3, \"div\", 3);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 4);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 5);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 6);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(15, ReturnRequestItemsComponent_ng_container_0_div_15_Template, 24, 13, \"div\", 7);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const returnRequest_r1 = ctx.ngIf;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 5, \"returnRequest.item\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(8, 7, \"returnRequest.itemPrice\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(11, 9, \"returnRequest.returnQty\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(14, 11, \"returnRequest.total\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", returnRequest_r1.returnEntries);\n  }\n}\nfunction ReturnRequestOverviewComponent_ng_container_0_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function ReturnRequestOverviewComponent_ng_container_0_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const returnRequest_r1 = i0.ɵɵnextContext().ngIf;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.cancelReturn(returnRequest_r1.rma);\n    });\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"disabled\", i0.ɵɵpipeBind1(1, 2, ctx_r2.isCancelling$));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 4, \"returnRequest.cancel\"), \" \");\n  }\n}\nfunction ReturnRequestOverviewComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelementStart(2, \"div\", 2);\n    i0.ɵɵelementStart(3, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function ReturnRequestOverviewComponent_ng_container_0_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.back();\n    });\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 2);\n    i0.ɵɵtemplate(7, ReturnRequestOverviewComponent_ng_container_0_button_7_Template, 4, 6, \"button\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 5);\n    i0.ɵɵelementStart(9, \"div\", 6);\n    i0.ɵɵelementStart(10, \"div\", 7);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 8);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 6);\n    i0.ɵɵelementStart(16, \"div\", 7);\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 8);\n    i0.ɵɵtext(20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"div\", 6);\n    i0.ɵɵelementStart(22, \"div\", 7);\n    i0.ɵɵtext(23);\n    i0.ɵɵpipe(24, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"div\", 8);\n    i0.ɵɵtext(26);\n    i0.ɵɵpipe(27, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const returnRequest_r1 = ctx.ngIf;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 8, \"common.back\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", returnRequest_r1.cancellable);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(12, 10, \"returnRequest.returnRequestId\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(returnRequest_r1.rma);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(18, 12, \"returnRequest.orderCode\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(returnRequest_r1.order == null ? null : returnRequest_r1.order.code);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(24, 14, \"returnRequest.status\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(27, 16, \"returnRequestList.statusDisplay_\" + (returnRequest_r1 == null ? null : returnRequest_r1.status)), \" \");\n  }\n}\nfunction ReturnRequestTotalsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelementStart(2, \"div\", 2);\n    i0.ɵɵelementStart(3, \"h4\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 3);\n    i0.ɵɵelementStart(7, \"div\", 4);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 5);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 3);\n    i0.ɵɵelementStart(13, \"div\", 4);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 5);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 6);\n    i0.ɵɵelementStart(19, \"div\", 4);\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 5);\n    i0.ɵɵtext(23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 7);\n    i0.ɵɵtext(25);\n    i0.ɵɵpipe(26, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const returnRequest_r1 = ctx.ngIf;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 8, \"returnRequest.summary\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(9, 10, \"returnRequest.subtotal\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", returnRequest_r1.subTotal == null ? null : returnRequest_r1.subTotal.formattedValue, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(15, 12, \"returnRequest.deliveryCode\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", returnRequest_r1.deliveryCost == null ? null : returnRequest_r1.deliveryCost.formattedValue, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(21, 14, \"returnRequest.estimatedRefund\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", returnRequest_r1.totalPrice == null ? null : returnRequest_r1.totalPrice.formattedValue, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(26, 16, \"returnRequest.note\"), \" \");\n  }\n}\nconst _c43 = function (a1) {\n  return {\n    cxRoute: \"returnRequestDetails\",\n    params: a1\n  };\n};\nfunction OrderReturnRequestListComponent_ng_container_0_ng_container_3_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\", 13);\n    i0.ɵɵelementStart(2, \"div\", 14);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"a\", 15);\n    i0.ɵɵpipe(6, \"cxUrl\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\", 13);\n    i0.ɵɵelementStart(9, \"div\", 14);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"a\", 15);\n    i0.ɵɵpipe(13, \"cxUrl\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\", 16);\n    i0.ɵɵelementStart(16, \"div\", 14);\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"cxDate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"td\", 17);\n    i0.ɵɵelementStart(22, \"div\", 14);\n    i0.ɵɵtext(23);\n    i0.ɵɵpipe(24, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25);\n    i0.ɵɵpipe(26, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const return_r4 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 10, \"returnRequestList.returnRequestId\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(6, 12, i0.ɵɵpureFunction1(27, _c43, return_r4)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", return_r4 == null ? null : return_r4.rma, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(11, 14, \"returnRequestList.orderId\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(13, 16, i0.ɵɵpureFunction1(29, _c37, return_r4 == null ? null : return_r4.order)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", return_r4 == null ? null : return_r4.order == null ? null : return_r4.order.code, \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(18, 18, \"returnRequestList.date\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(20, 20, return_r4 == null ? null : return_r4.creationTime, \"longDate\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(24, 23, \"returnRequestList.status\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(26, 25, \"returnRequestList.statusDisplay_\" + (return_r4 == null ? null : return_r4.status)), \" \");\n  }\n}\nfunction OrderReturnRequestListComponent_ng_container_0_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵelementStart(2, \"label\", 4);\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"cx-sorting\", 5);\n    i0.ɵɵlistener(\"sortListEvent\", function OrderReturnRequestListComponent_ng_container_0_ng_container_3_Template_cx_sorting_sortListEvent_6_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return ctx_r5.changeSortCode($event);\n    });\n    i0.ɵɵpipe(7, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 6);\n    i0.ɵɵelementStart(9, \"cx-pagination\", 7);\n    i0.ɵɵlistener(\"viewPageEvent\", function OrderReturnRequestListComponent_ng_container_0_ng_container_3_Template_cx_pagination_viewPageEvent_9_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return ctx_r7.pageChange($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"table\", 8);\n    i0.ɵɵelementStart(11, \"thead\", 9);\n    i0.ɵɵelementStart(12, \"th\", 10);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\", 10);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\", 10);\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"th\", 10);\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"tbody\");\n    i0.ɵɵtemplate(25, OrderReturnRequestListComponent_ng_container_0_ng_container_3_tr_25_Template, 27, 31, \"tr\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 12);\n    i0.ɵɵelementStart(27, \"label\", 4);\n    i0.ɵɵelementStart(28, \"span\");\n    i0.ɵɵtext(29);\n    i0.ɵɵpipe(30, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"cx-sorting\", 5);\n    i0.ɵɵlistener(\"sortListEvent\", function OrderReturnRequestListComponent_ng_container_0_ng_container_3_Template_cx_sorting_sortListEvent_31_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return ctx_r8.changeSortCode($event);\n    });\n    i0.ɵɵpipe(32, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"div\", 6);\n    i0.ɵɵelementStart(34, \"cx-pagination\", 7);\n    i0.ɵɵlistener(\"viewPageEvent\", function OrderReturnRequestListComponent_ng_container_0_ng_container_3_Template_cx_pagination_viewPageEvent_34_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return ctx_r9.pageChange($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const returnRequests_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 15, \"returnRequestList.sortBy\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"sortOptions\", returnRequests_r1.sorts)(\"sortLabels\", i0.ɵɵpipeBind1(7, 17, ctx_r2.getSortLabels()))(\"selectedOption\", returnRequests_r1.pagination.sort);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"pagination\", returnRequests_r1.pagination);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(14, 19, \"returnRequestList.returnRequestId\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(17, 21, \"returnRequestList.orderId\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(20, 23, \"returnRequestList.date\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(23, 25, \"returnRequestList.status\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", returnRequests_r1.returnRequests);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(30, 27, \"returnRequestList.sortBy\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"sortOptions\", returnRequests_r1.sorts)(\"sortLabels\", i0.ɵɵpipeBind1(32, 29, ctx_r2.getSortLabels()))(\"selectedOption\", returnRequests_r1.pagination.sort);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"pagination\", returnRequests_r1.pagination);\n  }\n}\nfunction OrderReturnRequestListComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelementStart(2, \"div\", 2);\n    i0.ɵɵtemplate(3, OrderReturnRequestListComponent_ng_container_0_ng_container_3_Template, 35, 31, \"ng-container\", 0);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const returnRequests_r1 = ctx.ngIf;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", returnRequests_r1.pagination.totalResults > 0);\n  }\n}\nfunction PaymentMethodsComponent_ng_container_0_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"cx-spinner\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction PaymentMethodsComponent_ng_container_0_ng_template_12_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelementStart(1, \"div\", 10);\n    i0.ɵɵelementStart(2, \"cx-card\", 11);\n    i0.ɵɵlistener(\"deleteCard\", function PaymentMethodsComponent_ng_container_0_ng_template_12_div_1_Template_cx_card_deleteCard_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const paymentMethod_r6 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(3);\n      return ctx_r7.deletePaymentMethod(paymentMethod_r6);\n    })(\"setDefaultCard\", function PaymentMethodsComponent_ng_container_0_ng_template_12_div_1_Template_cx_card_setDefaultCard_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const paymentMethod_r6 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(3);\n      return ctx_r9.setDefaultPaymentMethod(paymentMethod_r6);\n    })(\"editCard\", function PaymentMethodsComponent_ng_container_0_ng_template_12_div_1_Template_cx_card_editCard_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const paymentMethod_r6 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(3);\n      return ctx_r10.setEdit(paymentMethod_r6);\n    })(\"cancelCard\", function PaymentMethodsComponent_ng_container_0_ng_template_12_div_1_Template_cx_card_cancelCard_2_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r11 = i0.ɵɵnextContext(3);\n      return ctx_r11.cancelCard();\n    });\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const paymentMethod_r6 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"border\", true)(\"fitToContainer\", true)(\"content\", i0.ɵɵpipeBind1(3, 4, ctx_r5.getCardContent(paymentMethod_r6)))(\"editMode\", ctx_r5.editCard === paymentMethod_r6.id);\n  }\n}\nfunction PaymentMethodsComponent_ng_container_0_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtemplate(1, PaymentMethodsComponent_ng_container_0_ng_template_12_div_1_Template, 4, 6, \"div\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const paymentMethods_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", paymentMethods_r1);\n  }\n}\nfunction PaymentMethodsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelementStart(2, \"div\", 2);\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 3);\n    i0.ɵɵelementStart(7, \"div\", 4);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, PaymentMethodsComponent_ng_container_0_div_10_Template, 2, 0, \"div\", 5);\n    i0.ɵɵpipe(11, \"async\");\n    i0.ɵɵtemplate(12, PaymentMethodsComponent_ng_container_0_ng_template_12_Template, 2, 1, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const _r3 = i0.ɵɵreference(13);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 4, \"paymentMethods.paymentMethods\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(9, 6, \"paymentMethods.newPaymentMethodsAreAddedDuringCheckout\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(11, 8, ctx_r0.loading$))(\"ngIfElse\", _r3);\n  }\n}\nfunction BreadcrumbComponent_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelement(1, \"a\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const crumb_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", crumb_r1.link)(\"innerHTML\", crumb_r1.label, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction NavigationUIComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵlistener(\"click\", function NavigationUIComponent_div_0_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.back();\n    });\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵelement(2, \"cx-icon\", 4);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"type\", ctx_r0.iconType.CARET_LEFT);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 2, \"common.back\"), \" \");\n  }\n}\nfunction NavigationUIComponent_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nconst _c44 = function (a0) {\n  return {\n    node: a0,\n    depth: 0\n  };\n};\nfunction NavigationUIComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, NavigationUIComponent_ng_container_1_ng_container_1_Template, 1, 0, \"ng-container\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const child_r6 = ctx.$implicit;\n    i0.ɵɵnextContext();\n    const _r2 = i0.ɵɵreference(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r2)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(2, _c44, child_r6));\n  }\n}\nfunction NavigationUIComponent_ng_template_2_cx_generic_link_1_cx_icon_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-icon\", 4);\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"type\", ctx_r14.iconType.CARET_DOWN);\n  }\n}\nfunction NavigationUIComponent_ng_template_2_cx_generic_link_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"cx-generic-link\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, NavigationUIComponent_ng_template_2_cx_generic_link_1_cx_icon_2_Template, 1, 1, \"cx-icon\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const node_r8 = i0.ɵɵnextContext().node;\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵstyleMap(node_r8.styleAttributes);\n    i0.ɵɵclassMap(node_r8.styleClasses);\n    i0.ɵɵproperty(\"url\", node_r8.url)(\"target\", node_r8.target);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", node_r8.title, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.flyout && (node_r8.children == null ? null : node_r8.children.length) > 0);\n  }\n}\nfunction NavigationUIComponent_ng_template_2_ng_template_2_cx_icon_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-icon\", 4);\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"type\", ctx_r16.iconType.CARET_DOWN);\n  }\n}\nfunction NavigationUIComponent_ng_template_2_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, NavigationUIComponent_ng_template_2_ng_template_2_cx_icon_2_Template, 1, 1, \"cx-icon\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext();\n    const depth_r9 = ctx_r17.depth;\n    const node_r8 = ctx_r17.node;\n    const ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵattribute(\"tabindex\", ctx_r12.flyout && (depth_r9 === 0 || node_r8.url) ? 0 : -1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", node_r8.title, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r12.flyout && (node_r8.children == null ? null : node_r8.children.length) > 0);\n  }\n}\nconst _c45 = function (a0) {\n  return {\n    navNode: a0\n  };\n};\nfunction NavigationUIComponent_ng_template_2_div_4_cx_generic_link_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"cx-generic-link\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const node_r8 = i0.ɵɵnextContext(2).node;\n    i0.ɵɵproperty(\"url\", node_r8.url)(\"target\", node_r8.target);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 3, \"navigation.shopAll\", i0.ɵɵpureFunction1(6, _c45, node_r8.title)), \" \");\n  }\n}\nfunction NavigationUIComponent_ng_template_2_div_4_ng_container_3_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nconst _c46 = function (a0, a1) {\n  return {\n    node: a0,\n    depth: a1\n  };\n};\nfunction NavigationUIComponent_ng_template_2_div_4_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, NavigationUIComponent_ng_template_2_div_4_ng_container_3_ng_container_1_Template, 1, 0, \"ng-container\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const child_r21 = ctx.$implicit;\n    const depth_r9 = i0.ɵɵnextContext(2).depth;\n    i0.ɵɵnextContext();\n    const _r2 = i0.ɵɵreference(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r2)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction2(2, _c46, child_r21, depth_r9 + 1));\n  }\n}\nfunction NavigationUIComponent_ng_template_2_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtemplate(1, NavigationUIComponent_ng_template_2_div_4_cx_generic_link_1_Template, 3, 8, \"cx-generic-link\", 13);\n    i0.ɵɵelementStart(2, \"div\", 14);\n    i0.ɵɵtemplate(3, NavigationUIComponent_ng_template_2_div_4_ng_container_3_Template, 2, 5, \"ng-container\", 1);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const node_r8 = i0.ɵɵnextContext().node;\n    const ctx_r13 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", node_r8.url);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"depth\", ctx_r13.getTotalDepth(node_r8))(\"wrap-after\", (node_r8.children == null ? null : node_r8.children.length) > ctx_r13.wrapAfter ? ctx_r13.wrapAfter : null)(\"columns\", ctx_r13.getColumnCount(node_r8.children == null ? null : node_r8.children.length));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", node_r8.children);\n  }\n}\nfunction NavigationUIComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"nav\", 6);\n    i0.ɵɵlistener(\"click\", function NavigationUIComponent_ng_template_2_Template_nav_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return ctx_r25.toggleOpen($event);\n    })(\"mouseenter\", function NavigationUIComponent_ng_template_2_Template_nav_mouseenter_0_listener($event) {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return ctx_r27.onMouseEnter($event);\n    })(\"keydown.space\", function NavigationUIComponent_ng_template_2_Template_nav_keydown_space_0_listener($event) {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return ctx_r28.toggleOpen($event);\n    })(\"keydown.esc\", function NavigationUIComponent_ng_template_2_Template_nav_keydown_esc_0_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return ctx_r29.back();\n    });\n    i0.ɵɵtemplate(1, NavigationUIComponent_ng_template_2_cx_generic_link_1_Template, 3, 8, \"cx-generic-link\", 7);\n    i0.ɵɵtemplate(2, NavigationUIComponent_ng_template_2_ng_template_2_Template, 3, 3, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtemplate(4, NavigationUIComponent_ng_template_2_div_4_Template, 4, 5, \"div\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const node_r8 = ctx.node;\n    const _r11 = i0.ɵɵreference(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", node_r8.url && (!node_r8.children || (node_r8.children == null ? null : node_r8.children.length) === 0))(\"ngIfElse\", _r11);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", (node_r8.children == null ? null : node_r8.children.length) > 0);\n  }\n}\nfunction CategoryNavigationComponent_cx_navigation_ui_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-navigation-ui\", 1);\n    i0.ɵɵpipe(1, \"async\");\n  }\n  if (rf & 2) {\n    const data_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"node\", i0.ɵɵpipeBind1(1, 4, ctx_r0.node$))(\"ngClass\", data_r1.styleClass)(\"wrapAfter\", data_r1.wrapAfter)(\"resetMenuOnClose\", data_r1.resetMenuOnClose);\n  }\n}\nfunction SearchBoxComponent_div_13_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 15);\n  }\n  if (rf & 2) {\n    const result_r2 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵproperty(\"innerHTML\", result_r2.message, i0.ɵɵsanitizeHtml);\n  }\n}\nconst _c47 = function (a0) {\n  return {\n    query: a0\n  };\n};\nconst _c48 = function (a1) {\n  return {\n    cxRoute: \"search\",\n    params: a1\n  };\n};\nfunction SearchBoxComponent_div_13_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"a\", 16);\n    i0.ɵɵlistener(\"keydown.arrowup\", function SearchBoxComponent_div_13_li_4_Template_a_keydown_arrowup_1_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return ctx_r9.focusPreviousChild($event);\n    })(\"keydown.arrowdown\", function SearchBoxComponent_div_13_li_4_Template_a_keydown_arrowdown_1_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return ctx_r11.focusNextChild($event);\n    })(\"keydown.enter\", function SearchBoxComponent_div_13_li_4_Template_a_keydown_enter_1_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return ctx_r12.close($event, true);\n    })(\"keydown.escape\", function SearchBoxComponent_div_13_li_4_Template_a_keydown_escape_1_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return ctx_r13.close($event, true);\n    })(\"blur\", function SearchBoxComponent_div_13_li_4_Template_a_blur_1_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return ctx_r14.close($event);\n    })(\"mousedown\", function SearchBoxComponent_div_13_li_4_Template_a_mousedown_1_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return ctx_r15.preventDefault($event);\n    })(\"click\", function SearchBoxComponent_div_13_li_4_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const suggestion_r8 = restoredCtx.$implicit;\n      const result_r2 = i0.ɵɵnextContext().ngIf;\n      const ctx_r16 = i0.ɵɵnextContext();\n      const _r0 = i0.ɵɵreference(2);\n      ctx_r16.dispatchSuggestionEvent({\n        freeText: _r0.value,\n        selectedSuggestion: suggestion_r8,\n        searchSuggestions: result_r2.suggestions\n      });\n      return ctx_r16.updateChosenWord(suggestion_r8);\n    });\n    i0.ɵɵpipe(2, \"cxHighlight\");\n    i0.ɵɵpipe(3, \"cxUrl\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const suggestion_r8 = ctx.$implicit;\n    i0.ɵɵnextContext(2);\n    const _r0 = i0.ɵɵreference(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"innerHTML\", i0.ɵɵpipeBind2(2, 2, suggestion_r8, _r0.value), i0.ɵɵsanitizeHtml)(\"routerLink\", i0.ɵɵpipeBind1(3, 5, i0.ɵɵpureFunction1(9, _c48, i0.ɵɵpureFunction1(7, _c47, suggestion_r8))));\n  }\n}\nfunction SearchBoxComponent_div_13_ul_5_li_2_cx_media_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-media\", 22);\n  }\n  if (rf & 2) {\n    const product_r19 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"container\", product_r19.images == null ? null : product_r19.images.PRIMARY);\n  }\n}\nfunction SearchBoxComponent_div_13_ul_5_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵelementStart(1, \"a\", 18);\n    i0.ɵɵlistener(\"keydown.arrowup\", function SearchBoxComponent_div_13_ul_5_li_2_Template_a_keydown_arrowup_1_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext(3);\n      return ctx_r22.focusPreviousChild($event);\n    })(\"keydown.arrowdown\", function SearchBoxComponent_div_13_ul_5_li_2_Template_a_keydown_arrowdown_1_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r24 = i0.ɵɵnextContext(3);\n      return ctx_r24.focusNextChild($event);\n    })(\"keydown.enter\", function SearchBoxComponent_div_13_ul_5_li_2_Template_a_keydown_enter_1_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r25 = i0.ɵɵnextContext(3);\n      return ctx_r25.close($event, true);\n    })(\"keydown.escape\", function SearchBoxComponent_div_13_ul_5_li_2_Template_a_keydown_escape_1_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r26 = i0.ɵɵnextContext(3);\n      return ctx_r26.close($event, true);\n    })(\"blur\", function SearchBoxComponent_div_13_ul_5_li_2_Template_a_blur_1_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r27 = i0.ɵɵnextContext(3);\n      return ctx_r27.close($event);\n    })(\"mousedown\", function SearchBoxComponent_div_13_ul_5_li_2_Template_a_mousedown_1_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r28 = i0.ɵɵnextContext(3);\n      return ctx_r28.preventDefault($event);\n    })(\"click\", function SearchBoxComponent_div_13_ul_5_li_2_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const product_r19 = restoredCtx.$implicit;\n      const ctx_r29 = i0.ɵɵnextContext(3);\n      const _r0 = i0.ɵɵreference(2);\n      return ctx_r29.dispatchProductEvent({\n        freeText: _r0.value,\n        productCode: product_r19.code\n      });\n    });\n    i0.ɵɵpipe(2, \"cxUrl\");\n    i0.ɵɵtemplate(3, SearchBoxComponent_div_13_ul_5_li_2_cx_media_3_Template, 1, 1, \"cx-media\", 19);\n    i0.ɵɵelement(4, \"div\", 20);\n    i0.ɵɵelementStart(5, \"span\", 21);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r19 = ctx.$implicit;\n    const ctx_r18 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"has-media\", ctx_r18.config.displayProductImages);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(2, 6, i0.ɵɵpureFunction1(8, _c5, product_r19)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r18.config.displayProductImages);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"innerHTML\", product_r19.nameHtml, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r19.price == null ? null : product_r19.price.formattedValue);\n  }\n}\nfunction SearchBoxComponent_div_13_ul_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 17);\n    i0.ɵɵpipe(1, \"cxTranslate\");\n    i0.ɵɵtemplate(2, SearchBoxComponent_div_13_ul_5_li_2_Template, 7, 10, \"li\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const result_r2 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 2, \"searchBox.ariaLabelProducts\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", result_r2.products);\n  }\n}\nfunction SearchBoxComponent_div_13_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const result_r2 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate3(\" \", i0.ɵɵpipeBind2(2, 3, \"searchBox.suggestionsResult\", i0.ɵɵpureFunction1(11, _c9, result_r2.suggestions == null ? null : result_r2.suggestions.length)), \" \", i0.ɵɵpipeBind2(3, 6, \"searchBox.productsResult\", i0.ɵɵpureFunction1(13, _c9, result_r2.products == null ? null : result_r2.products.length)), \" \", i0.ɵɵpipeBind1(4, 9, \"searchBox.initialDescription\"), \" \");\n  }\n}\nfunction SearchBoxComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵlistener(\"click\", function SearchBoxComponent_div_13_Template_div_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return ctx_r32.close($event, true);\n    });\n    i0.ɵɵtemplate(1, SearchBoxComponent_div_13_div_1_Template, 1, 1, \"div\", 9);\n    i0.ɵɵelementStart(2, \"ul\", 10);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵtemplate(4, SearchBoxComponent_div_13_li_4_Template, 4, 11, \"li\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, SearchBoxComponent_div_13_ul_5_Template, 3, 4, \"ul\", 12);\n    i0.ɵɵelementStart(6, \"span\", 13);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, SearchBoxComponent_div_13_div_9_Template, 5, 15, \"div\", 14);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const result_r2 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", result_r2.message);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(3, 6, \"searchBox.ariaLabelSuggestions\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", result_r2.suggestions);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", result_r2.products);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(8, 8, \"searchBox.initialDescription\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (result_r2.suggestions == null ? null : result_r2.suggestions.length) || (result_r2.products == null ? null : result_r2.products.length));\n  }\n}\nfunction ProductCarouselComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 2);\n    i0.ɵɵpipe(1, \"cxUrl\");\n    i0.ɵɵelement(2, \"cx-media\", 3);\n    i0.ɵɵelementStart(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 4);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.item;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(1, 5, i0.ɵɵpureFunction1(7, _c5, item_r2)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"container\", item_r2.images == null ? null : item_r2.images.PRIMARY)(\"alt\", item_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r2.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r2.price == null ? null : item_r2.price.formattedValue, \" \");\n  }\n}\nfunction ProductReferencesComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 2);\n    i0.ɵɵpipe(1, \"cxUrl\");\n    i0.ɵɵelement(2, \"cx-media\", 3);\n    i0.ɵɵelementStart(3, \"h4\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 4);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.item;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(1, 4, i0.ɵɵpureFunction1(6, _c5, item_r2)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"container\", item_r2.images == null ? null : item_r2.images.PRIMARY);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.price == null ? null : item_r2.price.formattedValue);\n  }\n}\nfunction ProductImagesComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"cx-media\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const main_r4 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"container\", main_r4);\n  }\n}\nfunction ProductImagesComponent_ng_container_2_cx_carousel_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-carousel\", 4);\n  }\n  if (rf & 2) {\n    const thumbs_r5 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵnextContext();\n    const _r2 = i0.ɵɵreference(5);\n    i0.ɵɵproperty(\"items\", thumbs_r5)(\"hideIndicators\", false)(\"template\", _r2);\n  }\n}\nfunction ProductImagesComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductImagesComponent_ng_container_2_cx_carousel_1_Template, 1, 3, \"cx-carousel\", 3);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const thumbs_r5 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", thumbs_r5.length);\n  }\n}\nfunction ProductImagesComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"cx-media\", 5);\n    i0.ɵɵlistener(\"focus\", function ProductImagesComponent_ng_template_4_Template_cx_media_focus_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const item_r8 = restoredCtx.item;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.openImage(item_r8.container);\n    });\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r8 = ctx.item;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"is-active\", i0.ɵɵpipeBind1(1, 3, ctx_r3.isActive(item_r8.container)));\n    i0.ɵɵproperty(\"container\", item_r8.container);\n  }\n}\nconst _c49 = function (a0, a1) {\n  return {\n    rating: a0,\n    count: a1\n  };\n};\nfunction ProductIntroComponent_ng_container_0_div_1_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ProductIntroComponent_ng_container_0_div_1_button_4_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(3);\n      return ctx_r5.showReviews();\n    });\n    i0.ɵɵpipe(1, \"cxTranslate\");\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind2(1, 2, \"productSummary.showReviewsDetailed\", i0.ɵɵpureFunction2(10, _c49, i0.ɵɵpipeBind2(2, 5, product_r1.averageRating, \"1.0-1\"), product_r1 == null ? null : product_r1.numberOfReviews)));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 8, \"productSummary.showReviews\"), \" \");\n  }\n}\nfunction ProductIntroComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelement(1, \"cx-star-rating\", 4);\n    i0.ɵɵelementStart(2, \"div\", 5);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, ProductIntroComponent_ng_container_0_div_1_button_4_Template, 5, 13, \"button\", 6);\n    i0.ɵɵpipe(5, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"rating\", product_r1 == null ? null : product_r1.averageRating);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"(\", product_r1 == null ? null : product_r1.numberOfReviews, \")\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(5, 3, ctx_r2.reviewsTabAvailable));\n  }\n}\nfunction ProductIntroComponent_ng_container_0_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"productDetails.noReviews\"), \" \");\n  }\n}\nfunction ProductIntroComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductIntroComponent_ng_container_0_div_1_Template, 6, 5, \"div\", 1);\n    i0.ɵɵtemplate(2, ProductIntroComponent_ng_container_0_div_2_Template, 3, 3, \"div\", 1);\n    i0.ɵɵelementStart(3, \"div\", 2);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", product_r1.averageRating);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !product_r1.averageRating);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind1(5, 4, \"productSummary.id\"), \" \", product_r1 == null ? null : product_r1.code, \" \");\n  }\n}\nfunction ProductViewComponent_cx_icon_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-icon\", 2);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"type\", ctx_r0.iconTypes.GRID);\n  }\n}\nfunction ProductViewComponent_cx_icon_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-icon\", 2);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"type\", ctx_r1.iconTypes.LIST);\n  }\n}\nfunction ProductGridItemComponent_ng_template_5_cx_star_rating_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-star-rating\", 9);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"rating\", ctx_r2.product == null ? null : ctx_r2.product.averageRating);\n  }\n}\nfunction ProductGridItemComponent_ng_template_5_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"productDetails.noReviews\"), \" \");\n  }\n}\nfunction ProductGridItemComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtemplate(1, ProductGridItemComponent_ng_template_5_cx_star_rating_1_Template, 1, 1, \"cx-star-rating\", 5);\n    i0.ɵɵtemplate(2, ProductGridItemComponent_ng_template_5_div_2_Template, 3, 3, \"div\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 7);\n    i0.ɵɵelementStart(4, \"div\", 8);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.product.averageRating);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.product.averageRating);\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(5, 4, \"productDetails.productPrice\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.product.price == null ? null : ctx_r0.product.price.formattedValue, \" \");\n  }\n}\nfunction ProductGridItemComponent_ng_template_6_cx_add_to_cart_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-add-to-cart\", 11);\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"showQuantity\", false)(\"product\", ctx_r4.product);\n  }\n}\nfunction ProductGridItemComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, ProductGridItemComponent_ng_template_6_cx_add_to_cart_0_Template, 1, 2, \"cx-add-to-cart\", 10);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", (ctx_r1.product.stock == null ? null : ctx_r1.product.stock.stockLevelStatus) !== \"outOfStock\");\n  }\n}\nfunction ProductListItemComponent_ng_template_9_cx_star_rating_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-star-rating\", 12);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"rating\", ctx_r2.product == null ? null : ctx_r2.product.averageRating);\n  }\n}\nfunction ProductListItemComponent_ng_template_9_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"productDetails.noReviews\"), \" \");\n  }\n}\nfunction ProductListItemComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, ProductListItemComponent_ng_template_9_cx_star_rating_0_Template, 1, 1, \"cx-star-rating\", 9);\n    i0.ɵɵtemplate(1, ProductListItemComponent_ng_template_9_div_1_Template, 3, 3, \"div\", 10);\n    i0.ɵɵelementStart(2, \"div\", 11);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.product.averageRating);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.product.averageRating);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(3, 4, \"productDetails.productPrice\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.product.price == null ? null : ctx_r0.product.price.formattedValue, \" \");\n  }\n}\nfunction ProductListItemComponent_ng_template_15_cx_add_to_cart_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-add-to-cart\", 15);\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"showQuantity\", false)(\"product\", ctx_r4.product);\n  }\n}\nfunction ProductListItemComponent_ng_template_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, ProductListItemComponent_ng_template_15_cx_add_to_cart_0_Template, 1, 2, \"cx-add-to-cart\", 14);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", (ctx_r1.product.stock == null ? null : ctx_r1.product.stock.stockLevelStatus) !== \"outOfStock\");\n  }\n}\nfunction ProductScrollComponent_ng_container_0_cx_product_grid_item_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-product-grid-item\", 8);\n  }\n  if (rf & 2) {\n    const product_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"product\", product_r6);\n  }\n}\nfunction ProductScrollComponent_ng_container_0_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵlistener(\"click\", function ProductScrollComponent_ng_container_0_div_5_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return ctx_r7.scrollToTop();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"productList.backToTopBtn\"), \" \");\n  }\n}\nfunction ProductScrollComponent_ng_container_0_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵlistener(\"click\", function ProductScrollComponent_ng_container_0_div_6_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return ctx_r9.loadNextPage((ctx_r9.model == null ? null : ctx_r9.model.pagination == null ? null : ctx_r9.model.pagination.currentPage) + 1);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"productList.showMoreBtn\"), \" \");\n  }\n}\nfunction ProductScrollComponent_ng_container_0_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵelement(1, \"cx-spinner\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductScrollComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵlistener(\"scrolled\", function ProductScrollComponent_ng_container_0_Template_div_scrolled_1_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.scrollPage((ctx_r11.model == null ? null : ctx_r11.model.pagination == null ? null : ctx_r11.model.pagination.currentPage) + 1);\n    });\n    i0.ɵɵelementStart(2, \"div\", 2);\n    i0.ɵɵtemplate(3, ProductScrollComponent_ng_container_0_cx_product_grid_item_3_Template, 1, 1, \"cx-product-grid-item\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 4);\n    i0.ɵɵtemplate(5, ProductScrollComponent_ng_container_0_div_5_Template, 3, 3, \"div\", 5);\n    i0.ɵɵtemplate(6, ProductScrollComponent_ng_container_0_div_6_Template, 3, 3, \"div\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, ProductScrollComponent_ng_container_0_div_7_Template, 2, 0, \"div\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"infiniteScrollDistance\", 5)(\"infiniteScrollThrottle\", 50)(\"infiniteScrollDisabled\", ctx_r0.isMaxProducts || ctx_r0.isLastPage || ctx_r0.isEmpty);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.model == null ? null : ctx_r0.model.products);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"className\", !ctx_r0.isLastPage && (ctx_r0.model == null ? null : ctx_r0.model.pagination == null ? null : ctx_r0.model.pagination.currentPage) > 0 ? \"cx-double-btn-container grid-btn-padding\" : \"cx-single-btn-container grid-btn-padding\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r0.isMaxProducts || ctx_r0.isLastPage) && (ctx_r0.model == null ? null : ctx_r0.model.pagination == null ? null : ctx_r0.model.pagination.currentPage) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isMaxProducts && !ctx_r0.isLastPage);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.appendProducts);\n  }\n}\nfunction ProductScrollComponent_ng_container_1_cx_product_list_item_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-product-list-item\", 13);\n  }\n  if (rf & 2) {\n    const product_r17 = ctx.$implicit;\n    i0.ɵɵproperty(\"product\", product_r17);\n  }\n}\nfunction ProductScrollComponent_ng_container_1_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵlistener(\"click\", function ProductScrollComponent_ng_container_1_div_4_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return ctx_r18.scrollToTop();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"productList.backToTopBtn\"), \" \");\n  }\n}\nfunction ProductScrollComponent_ng_container_1_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵlistener(\"click\", function ProductScrollComponent_ng_container_1_div_5_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext(2);\n      return ctx_r20.loadNextPage((ctx_r20.model == null ? null : ctx_r20.model.pagination == null ? null : ctx_r20.model.pagination.currentPage) + 1);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"productList.showMoreBtn\"), \" \");\n  }\n}\nfunction ProductScrollComponent_ng_container_1_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 11);\n    i0.ɵɵelement(1, \"cx-spinner\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductScrollComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵlistener(\"scrolled\", function ProductScrollComponent_ng_container_1_Template_div_scrolled_1_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return ctx_r22.scrollPage((ctx_r22.model == null ? null : ctx_r22.model.pagination == null ? null : ctx_r22.model.pagination.currentPage) + 1);\n    });\n    i0.ɵɵtemplate(2, ProductScrollComponent_ng_container_1_cx_product_list_item_2_Template, 1, 1, \"cx-product-list-item\", 12);\n    i0.ɵɵelementStart(3, \"div\", 4);\n    i0.ɵɵtemplate(4, ProductScrollComponent_ng_container_1_div_4_Template, 3, 3, \"div\", 5);\n    i0.ɵɵtemplate(5, ProductScrollComponent_ng_container_1_div_5_Template, 3, 3, \"div\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, ProductScrollComponent_ng_container_1_div_6_Template, 2, 0, \"div\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"infiniteScrollDistance\", 3)(\"infiniteScrollThrottle\", 50)(\"infiniteScrollDisabled\", ctx_r1.isMaxProducts || ctx_r1.isLastPage || ctx_r1.isEmpty);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.model == null ? null : ctx_r1.model.products);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"className\", !ctx_r1.isLastPage && (ctx_r1.model == null ? null : ctx_r1.model.pagination == null ? null : ctx_r1.model.pagination.currentPage) > 0 ? \"cx-double-btn-container\" : \"cx-single-btn-container\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r1.isMaxProducts || ctx_r1.isLastPage) && (ctx_r1.model == null ? null : ctx_r1.model.pagination == null ? null : ctx_r1.model.pagination.currentPage) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isMaxProducts && !ctx_r1.isLastPage);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.appendProducts);\n  }\n}\nfunction ProductListComponent_div_0_div_4_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵelementStart(1, \"div\", 18);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelement(3, \"cx-pagination\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const model_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(2, 3, \"productList.productSearchPagination\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"pagination\", model_r1.pagination)(\"defaultPage\", 0);\n  }\n}\nfunction ProductListComponent_div_0_div_4_ng_container_13_ng_container_1_cx_product_grid_item_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-product-grid-item\", 22);\n  }\n  if (rf & 2) {\n    const product_r13 = ctx.$implicit;\n    i0.ɵɵproperty(\"product\", product_r13);\n  }\n}\nfunction ProductListComponent_div_0_div_4_ng_container_13_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵtemplate(2, ProductListComponent_div_0_div_4_ng_container_13_ng_container_1_cx_product_grid_item_2_Template, 1, 1, \"cx-product-grid-item\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const model_r1 = i0.ɵɵnextContext(3).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", model_r1 == null ? null : model_r1.products);\n  }\n}\nfunction ProductListComponent_div_0_div_4_ng_container_13_ng_container_2_cx_product_list_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-product-list-item\", 24);\n  }\n  if (rf & 2) {\n    const product_r16 = ctx.$implicit;\n    i0.ɵɵproperty(\"product\", product_r16);\n  }\n}\nfunction ProductListComponent_div_0_div_4_ng_container_13_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductListComponent_div_0_div_4_ng_container_13_ng_container_2_cx_product_list_item_1_Template, 1, 1, \"cx-product-list-item\", 23);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const model_r1 = i0.ɵɵnextContext(3).ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", model_r1 == null ? null : model_r1.products);\n  }\n}\nfunction ProductListComponent_div_0_div_4_ng_container_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductListComponent_div_0_div_4_ng_container_13_ng_container_1_Template, 3, 1, \"ng-container\", 20);\n    i0.ɵɵtemplate(2, ProductListComponent_div_0_div_4_ng_container_13_ng_container_2_Template, 2, 1, \"ng-container\", 20);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const viewMode_r3 = i0.ɵɵnextContext().ngIf;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", viewMode_r3 === ctx_r5.ViewModes.Grid);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", viewMode_r3 === ctx_r5.ViewModes.List);\n  }\n}\nfunction ProductListComponent_div_0_div_4_ng_template_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-product-scroll\", 25);\n  }\n  if (rf & 2) {\n    const viewMode_r3 = i0.ɵɵnextContext().ngIf;\n    const model_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"scrollConfig\", ctx_r7.scrollConfig)(\"model\", model_r1)(\"inputViewMode\", viewMode_r3);\n  }\n}\nfunction ProductListComponent_div_0_div_4_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵpipe(1, \"cxTranslate\");\n    i0.ɵɵelementStart(2, \"div\", 18);\n    i0.ɵɵelement(3, \"cx-pagination\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const model_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 3, \"productList.productSearchPagination\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"pagination\", model_r1.pagination)(\"defaultPage\", 0);\n  }\n}\nfunction ProductListComponent_div_0_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelementStart(1, \"div\", 7);\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵelementStart(3, \"label\", 8);\n    i0.ɵɵelementStart(4, \"span\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"cx-sorting\", 9);\n    i0.ɵɵlistener(\"sortListEvent\", function ProductListComponent_div_0_div_4_Template_cx_sorting_sortListEvent_7_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext(2);\n      return ctx_r22.sortList($event);\n    });\n    i0.ɵɵpipe(8, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, ProductListComponent_div_0_div_4_div_9_Template, 4, 5, \"div\", 10);\n    i0.ɵɵelementStart(10, \"div\", 11);\n    i0.ɵɵelementStart(11, \"cx-product-view\", 12);\n    i0.ɵɵlistener(\"modeChange\", function ProductListComponent_div_0_div_4_Template_cx_product_view_modeChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r24 = i0.ɵɵnextContext(2);\n      return ctx_r24.setViewMode($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 13);\n    i0.ɵɵtemplate(13, ProductListComponent_div_0_div_4_ng_container_13_Template, 3, 2, \"ng-container\", 14);\n    i0.ɵɵtemplate(14, ProductListComponent_div_0_div_4_ng_template_14_Template, 1, 3, \"ng-template\", null, 15, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 16);\n    i0.ɵɵelementStart(17, \"div\", 4);\n    i0.ɵɵelementStart(18, \"label\", 8);\n    i0.ɵɵelementStart(19, \"span\");\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"cx-sorting\", 9);\n    i0.ɵɵlistener(\"sortListEvent\", function ProductListComponent_div_0_div_4_Template_cx_sorting_sortListEvent_22_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r25 = i0.ɵɵnextContext(2);\n      return ctx_r25.sortList($event);\n    });\n    i0.ɵɵpipe(23, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(24, ProductListComponent_div_0_div_4_div_24_Template, 4, 5, \"div\", 10);\n    i0.ɵɵelementStart(25, \"div\", 11);\n    i0.ɵɵelementStart(26, \"cx-product-view\", 12);\n    i0.ɵɵlistener(\"modeChange\", function ProductListComponent_div_0_div_4_Template_cx_product_view_modeChange_26_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r26 = i0.ɵɵnextContext(2);\n      return ctx_r26.setViewMode($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const viewMode_r3 = ctx.ngIf;\n    const _r6 = i0.ɵɵreference(15);\n    const model_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 14, \"productList.sortBy\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(8, 16, \"productList.sortBy\"));\n    i0.ɵɵproperty(\"sortOptions\", model_r1.sorts)(\"selectedOption\", model_r1.pagination.sort);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.isInfiniteScroll);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"mode\", viewMode_r3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.isInfiniteScroll)(\"ngIfElse\", _r6);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(21, 18, \"productList.sortBy\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(23, 20, \"productList.sortBy\"));\n    i0.ɵɵproperty(\"sortOptions\", model_r1.sorts)(\"selectedOption\", model_r1.pagination.sort);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.isInfiniteScroll);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"mode\", viewMode_r3);\n  }\n}\nfunction ProductListComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵelementStart(1, \"section\", 2);\n    i0.ɵɵelementStart(2, \"div\", 3);\n    i0.ɵɵelementStart(3, \"div\", 4);\n    i0.ɵɵtemplate(4, ProductListComponent_div_0_div_4_Template, 27, 22, \"div\", 5);\n    i0.ɵɵpipe(5, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(5, 1, ctx_r0.viewMode$));\n  }\n}\nfunction ActiveFacetsComponent_ng_container_0_h4_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"productList.appliedFilter\"), \" \");\n  }\n}\nfunction ActiveFacetsComponent_ng_container_0_a_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 2);\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"cx-icon\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const facet_r4 = ctx.$implicit;\n    const facetList_r1 = i0.ɵɵnextContext().ngIf;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"queryParams\", ctx_r3.getLinkParams(facet_r4))(\"cxFocus\", ctx_r3.getFocusKey(facetList_r1, facet_r4));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(facet_r4.facetValueName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"type\", ctx_r3.closeIcon);\n  }\n}\nfunction ActiveFacetsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ActiveFacetsComponent_ng_container_0_h4_1_Template, 3, 3, \"h4\", 0);\n    i0.ɵɵtemplate(2, ActiveFacetsComponent_ng_container_0_a_2_Template, 4, 4, \"a\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const facetList_r1 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (facetList_r1 == null ? null : facetList_r1.activeFacets == null ? null : facetList_r1.activeFacets.length) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", facetList_r1 == null ? null : facetList_r1.activeFacets);\n  }\n}\nconst _c50 = [\"facetValue\"];\nfunction FacetComponent_ng_container_0_a_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 7, 8);\n    i0.ɵɵlistener(\"keydown.space\", function FacetComponent_ng_container_0_a_5_Template_a_keydown_space_0_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return ctx_r8.openLink($event);\n    });\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵelementStart(3, \"span\", 9);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 10);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const value_r6 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"selected\", value_r6.selected);\n    i0.ɵɵproperty(\"queryParams\", ctx_r2.getLinkParams(value_r6))(\"cxFocus\", value_r6.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(value_r6.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(value_r6.count);\n  }\n}\nfunction FacetComponent_ng_container_0_a_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 7, 8);\n    i0.ɵɵlistener(\"keydown.space\", function FacetComponent_ng_container_0_a_8_Template_a_keydown_space_0_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return ctx_r12.openLink($event);\n    });\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementStart(4, \"span\", 10);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const value_r10 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"selected\", value_r10.selected);\n    i0.ɵɵproperty(\"queryParams\", ctx_r3.getLinkParams(value_r10))(\"cxFocus\", value_r10.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(value_r10.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(value_r10.count);\n  }\n}\nfunction FacetComponent_ng_container_0_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function FacetComponent_ng_container_0_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return ctx_r14.decreaseVisibleValues();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"productList.showLess\"), \" \");\n  }\n}\nfunction FacetComponent_ng_container_0_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function FacetComponent_ng_container_0_button_11_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return ctx_r16.increaseVisibleValues();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"productList.showMore\"), \" \");\n  }\n}\nfunction FacetComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function FacetComponent_ng_container_0_Template_button_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.toggleGroup($event);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelement(3, \"cx-icon\", 2);\n    i0.ɵɵelement(4, \"cx-icon\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, FacetComponent_ng_container_0_a_5_Template, 7, 6, \"a\", 4);\n    i0.ɵɵpipe(6, \"slice\");\n    i0.ɵɵelementStart(7, \"div\", 5);\n    i0.ɵɵtemplate(8, FacetComponent_ng_container_0_a_8_Template, 6, 6, \"a\", 4);\n    i0.ɵɵpipe(9, \"slice\");\n    i0.ɵɵtemplate(10, FacetComponent_ng_container_0_button_10_Template, 3, 3, \"button\", 6);\n    i0.ɵɵtemplate(11, FacetComponent_ng_container_0_button_11_Template, 3, 3, \"button\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const state_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.facet.name, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"type\", ctx_r0.collapseIcon);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"type\", ctx_r0.expandIcon);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(6, 7, ctx_r0.facet.values, 0, state_r1.topVisible));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(9, 11, ctx_r0.facet.values, state_r1.topVisible, state_r1.maxVisible));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", state_r1.maxVisible > state_r1.topVisible);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", state_r1.maxVisible > 0 && state_r1.maxVisible < ctx_r0.facet.values.length);\n  }\n}\nconst _c51 = function () {\n  return {\n    lock: true,\n    trap: true,\n    autofocus: \"a\"\n  };\n};\nfunction FacetListComponent_div_0_cx_facet_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"cx-facet\", 5, 6);\n    i0.ɵɵlistener(\"unlock\", function FacetListComponent_div_0_cx_facet_7_Template_cx_facet_unlock_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const facet_r3 = restoredCtx.$implicit;\n      const _r4 = i0.ɵɵreference(1);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return ctx_r5.expandFacetGroup(facet_r3, _r4);\n    });\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const facet_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"expanded\", i0.ɵɵpipeBind1(2, 6, ctx_r2.isExpanded(facet_r3)))(\"collapsed\", i0.ɵɵpipeBind1(3, 8, ctx_r2.isCollapsed(facet_r3)));\n    i0.ɵɵproperty(\"facet\", facet_r3)(\"cxFocus\", i0.ɵɵpureFunction0(10, _c51));\n  }\n}\nfunction FacetListComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵlistener(\"esc\", function FacetListComponent_div_0_Template_div_esc_0_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.close($event);\n    })(\"click\", function FacetListComponent_div_0_Template_div_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.block($event);\n    });\n    i0.ɵɵelementStart(1, \"h4\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementStart(4, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function FacetListComponent_div_0_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.close();\n    });\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelement(6, \"cx-icon\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, FacetListComponent_div_0_cx_facet_7_Template, 4, 11, \"cx-facet\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const facets_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"cxFocus\", ctx_r0.isDialog ? ctx_r0.dialogFocusConfig : i0.ɵɵpureFunction0(9, _c30));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 5, \"productList.filterBy.label\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(5, 7, \"common.close\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"type\", ctx_r0.iconTypes.CLOSE);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", facets_r1);\n  }\n}\nconst _c52 = [\"trigger\"];\nfunction ProductFacetNavigationComponent_cx_facet_list_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"cx-facet-list\", 4);\n    i0.ɵɵlistener(\"closeList\", function ProductFacetNavigationComponent_cx_facet_list_6_Template_cx_facet_list_closeList_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.close();\n    });\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"active\", i0.ɵɵpipeBind1(1, 5, ctx_r1.isActive$))(\"dialog\", ctx_r1.hasTrigger);\n    i0.ɵɵproperty(\"isDialog\", ctx_r1.hasTrigger);\n  }\n}\nfunction ProductSummaryComponent_ng_container_0_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵpipe(1, \"cxTranslate\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 2, \"productSummary.newItemPrice\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", product_r1 == null ? null : product_r1.price == null ? null : product_r1.price.formattedValue, \" \");\n  }\n}\nfunction ProductSummaryComponent_ng_container_0_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"p\", 3);\n  }\n  if (rf & 2) {\n    const product_r1 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵproperty(\"innerHTML\", product_r1 == null ? null : product_r1.summary, i0.ɵɵsanitizeHtml);\n  }\n}\nconst _c53 = function (a0) {\n  return {\n    product: a0\n  };\n};\nfunction ProductSummaryComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductSummaryComponent_ng_container_0_ng_template_1_Template, 3, 4, \"ng-template\", 1);\n    i0.ɵɵtemplate(2, ProductSummaryComponent_ng_container_0_ng_template_2_Template, 1, 1, \"ng-template\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cxOutlet\", ctx_r0.outlets.PRICE)(\"cxOutletContext\", i0.ɵɵpureFunction1(4, _c53, product_r1));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cxOutlet\", ctx_r0.outlets.SUMMARY)(\"cxOutletContext\", i0.ɵɵpureFunction1(6, _c53, product_r1));\n  }\n}\nfunction ProductAttributesComponent_ng_container_0_table_5_tr_4_li_5_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const feature_r5 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", feature_r5.featureUnit.symbol, \" \");\n  }\n}\nfunction ProductAttributesComponent_ng_container_0_table_5_tr_4_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵtemplate(2, ProductAttributesComponent_ng_container_0_table_5_tr_4_li_5_span_2_Template, 2, 1, \"span\", 0);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const featureValue_r7 = ctx.$implicit;\n    const feature_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", featureValue_r7 == null ? null : featureValue_r7.value, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (feature_r5.featureUnit == null ? null : feature_r5.featureUnit.symbol == null ? null : feature_r5.featureUnit.symbol.length) > 0 && feature_r5.featureUnit.unitType != \"300\");\n  }\n}\nfunction ProductAttributesComponent_ng_container_0_table_5_tr_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelementStart(4, \"ul\");\n    i0.ɵɵtemplate(5, ProductAttributesComponent_ng_container_0_table_5_tr_4_li_5_Template, 3, 2, \"li\", 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const feature_r5 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(feature_r5.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", feature_r5 == null ? null : feature_r5.featureValues);\n  }\n}\nfunction ProductAttributesComponent_ng_container_0_table_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\");\n    i0.ɵɵelementStart(1, \"th\");\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, ProductAttributesComponent_ng_container_0_table_5_tr_4_Template, 6, 2, \"tr\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const class_r3 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(class_r3.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", class_r3.features);\n  }\n}\nfunction ProductAttributesComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 1);\n    i0.ɵɵelementStart(2, \"h2\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, ProductAttributesComponent_ng_container_0_table_5_Template, 5, 2, \"table\", 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.ngIf;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 2, \"productDetails.specification\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", product_r1 == null ? null : product_r1.classifications);\n  }\n}\nfunction ProductDetailsTabComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"div\", 1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"innerHTML\", product_r1 == null ? null : product_r1.description, i0.ɵɵsanitizeHtml);\n  }\n}\nconst _c54 = [\"titleInput\"];\nconst _c55 = [\"writeReviewButton\"];\nfunction ProductReviewsComponent_div_0_ng_container_4_cx_star_rating_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-star-rating\", 9);\n  }\n  if (rf & 2) {\n    const product_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵproperty(\"rating\", product_r1.averageRating);\n  }\n}\nfunction ProductReviewsComponent_div_0_ng_container_4_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"productDetails.noReviews\"), \" \");\n  }\n}\nfunction ProductReviewsComponent_div_0_ng_container_4_ng_container_11_ng_container_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵelementStart(1, \"div\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"cx-star-rating\", 15);\n    i0.ɵɵelementStart(4, \"div\", 16);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 17);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"cxDate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 18);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const review_r14 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(review_r14.headline);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"rating\", review_r14.rating);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", review_r14.alias ? review_r14.alias : review_r14.principal == null ? null : review_r14.principal.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 5, review_r14.date));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(review_r14.comment);\n  }\n}\nfunction ProductReviewsComponent_div_0_ng_container_4_ng_container_11_ng_container_1_div_3_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function ProductReviewsComponent_div_0_ng_container_4_ng_container_11_ng_container_1_div_3_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const reviews_r11 = i0.ɵɵnextContext(2).ngIf;\n      const ctx_r17 = i0.ɵɵnextContext(4);\n      return ctx_r17.maxListItems = reviews_r11.length;\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"productReview.more\"), \" \");\n  }\n}\nfunction ProductReviewsComponent_div_0_ng_container_4_ng_container_11_ng_container_1_div_3_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function ProductReviewsComponent_div_0_ng_container_4_ng_container_11_ng_container_1_div_3_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext(6);\n      return ctx_r20.maxListItems = ctx_r20.initialMaxListItems;\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"productReview.less\"), \" \");\n  }\n}\nfunction ProductReviewsComponent_div_0_ng_container_4_ng_container_11_ng_container_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, ProductReviewsComponent_div_0_ng_container_4_ng_container_11_ng_container_1_div_3_button_1_Template, 3, 3, \"button\", 19);\n    i0.ɵɵtemplate(2, ProductReviewsComponent_div_0_ng_container_4_ng_container_11_ng_container_1_div_3_button_2_Template, 3, 3, \"button\", 19);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r13.maxListItems === ctx_r13.initialMaxListItems);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r13.maxListItems !== ctx_r13.initialMaxListItems);\n  }\n}\nfunction ProductReviewsComponent_div_0_ng_container_4_ng_container_11_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductReviewsComponent_div_0_ng_container_4_ng_container_11_ng_container_1_div_1_Template, 11, 7, \"div\", 12);\n    i0.ɵɵpipe(2, \"slice\");\n    i0.ɵɵtemplate(3, ProductReviewsComponent_div_0_ng_container_4_ng_container_11_ng_container_1_div_3_Template, 3, 2, \"div\", 11);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const reviews_r11 = ctx.ngIf;\n    const ctx_r10 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(2, 2, reviews_r11, 0, ctx_r10.maxListItems));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", reviews_r11.length > ctx_r10.initialMaxListItems);\n  }\n}\nfunction ProductReviewsComponent_div_0_ng_container_4_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductReviewsComponent_div_0_ng_container_4_ng_container_11_ng_container_1_Template, 4, 6, \"ng-container\", 11);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r8.reviews$));\n  }\n}\nfunction ProductReviewsComponent_div_0_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 5, 6);\n    i0.ɵɵlistener(\"click\", function ProductReviewsComponent_div_0_ng_container_4_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext(2);\n      return ctx_r22.initiateWriteReview();\n    });\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, ProductReviewsComponent_div_0_ng_container_4_cx_star_rating_9_Template, 1, 1, \"cx-star-rating\", 7);\n    i0.ɵɵtemplate(10, ProductReviewsComponent_div_0_ng_container_4_div_10_Template, 3, 3, \"div\", 8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, ProductReviewsComponent_div_0_ng_container_4_ng_container_11_Template, 3, 3, \"ng-container\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const product_r1 = i0.ɵɵnextContext().ngIf;\n    const _r3 = i0.ɵɵreference(6);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 6, \"productReview.overallRating\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(8, 8, \"productReview.writeReview\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", product_r1.averageRating);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !product_r1.averageRating);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.isWritingReview)(\"ngIfElse\", _r3);\n  }\n}\nfunction ProductReviewsComponent_div_0_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 20);\n    i0.ɵɵlistener(\"ngSubmit\", function ProductReviewsComponent_div_0_ng_template_5_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const product_r1 = i0.ɵɵnextContext().ngIf;\n      const ctx_r26 = i0.ɵɵnextContext();\n      return ctx_r26.submitReview(product_r1);\n    });\n    i0.ɵɵelementStart(1, \"div\", 21);\n    i0.ɵɵelementStart(2, \"label\");\n    i0.ɵɵelementStart(3, \"span\", 22);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"input\", 23, 24);\n    i0.ɵɵelement(8, \"cx-form-errors\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 21);\n    i0.ɵɵelementStart(10, \"label\");\n    i0.ɵɵelementStart(11, \"span\", 22);\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"textarea\", 26);\n    i0.ɵɵelement(15, \"cx-form-errors\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 21);\n    i0.ɵɵelementStart(17, \"label\");\n    i0.ɵɵelementStart(18, \"span\", 22);\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(21, \"input\", 27);\n    i0.ɵɵelementStart(22, \"cx-star-rating\", 28);\n    i0.ɵɵlistener(\"change\", function ProductReviewsComponent_div_0_ng_template_5_Template_cx_star_rating_change_22_listener($event) {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r29 = i0.ɵɵnextContext(2);\n      return ctx_r29.setRating($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(23, \"cx-form-errors\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 21);\n    i0.ɵɵelementStart(25, \"label\");\n    i0.ɵɵelementStart(26, \"span\", 22);\n    i0.ɵɵtext(27);\n    i0.ɵɵpipe(28, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(29, \"input\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 30);\n    i0.ɵɵelementStart(31, \"div\", 31);\n    i0.ɵɵelementStart(32, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function ProductReviewsComponent_div_0_ng_template_5_Template_button_click_32_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r30 = i0.ɵɵnextContext(2);\n      return ctx_r30.cancelWriteReview();\n    });\n    i0.ɵɵtext(33);\n    i0.ɵɵpipe(34, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"div\", 31);\n    i0.ɵɵelementStart(36, \"button\", 33);\n    i0.ɵɵtext(37);\n    i0.ɵɵpipe(38, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"formGroup\", ctx_r4.reviewForm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 11, \"productReview.reviewTitle\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"control\", ctx_r4.reviewForm.get(\"title\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(13, 13, \"productReview.writeYourComments\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"control\", ctx_r4.reviewForm.get(\"comment\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(20, 15, \"productReview.rating\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"control\", ctx_r4.reviewForm.get(\"rating\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(28, 17, \"productReview.reviewerName\"));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(34, 19, \"common.cancel\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(38, 21, \"common.submit\"), \" \");\n  }\n}\nfunction ProductReviewsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵelementStart(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, ProductReviewsComponent_div_0_ng_container_4_Template, 12, 10, \"ng-container\", 2);\n    i0.ɵɵtemplate(5, ProductReviewsComponent_div_0_ng_template_5_Template, 39, 23, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const product_r1 = ctx.ngIf;\n    const _r3 = i0.ɵɵreference(6);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind1(3, 4, \"productDetails.reviews\"), \" (\", product_r1.numberOfReviews, \") \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isWritingReview)(\"ngIfElse\", _r3);\n  }\n}\nfunction StockNotificationDialogComponent_ng_container_8_p_6_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const preference_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(\": \" + preference_r4.value);\n  }\n}\nfunction StockNotificationDialogComponent_ng_container_8_p_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 14);\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, StockNotificationDialogComponent_ng_container_8_p_6_span_3_Template, 2, 1, \"span\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const preference_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(preference_r4.channel);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", preference_r4.value);\n  }\n}\nconst _c56 = function () {\n  return [\"/my-account/my-interests\"];\n};\nfunction StockNotificationDialogComponent_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 6);\n    i0.ɵɵelementStart(2, \"div\", 7);\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, StockNotificationDialogComponent_ng_container_8_p_6_Template, 4, 2, \"p\", 8);\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\");\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"cxTranslate\");\n    i0.ɵɵelementStart(13, \"a\", 9);\n    i0.ɵɵlistener(\"click\", function StockNotificationDialogComponent_ng_container_8_Template_a_click_13_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.close();\n    });\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p\");\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"cxTranslate\");\n    i0.ɵɵelementStart(21, \"a\", 10);\n    i0.ɵɵlistener(\"click\", function StockNotificationDialogComponent_ng_container_8_Template_a_click_21_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.close();\n    });\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24);\n    i0.ɵɵpipe(25, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"div\", 11);\n    i0.ɵɵelementStart(27, \"div\", 12);\n    i0.ɵɵelementStart(28, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function StockNotificationDialogComponent_ng_container_8_Template_button_click_28_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.close();\n    });\n    i0.ɵɵtext(29);\n    i0.ɵɵpipe(30, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 12, \"stockNotification.subscriptionDialog.notifiedPrefix\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.enabledPrefs);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(9, 14, \"stockNotification.subscriptionDialog.notifiedSuffix\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(12, 16, \"stockNotification.subscriptionDialog.manageChannelsPrefix\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(30, _c31));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(15, 18, \"stockNotification.subscriptionDialog.manageChannelsLink\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(17, 20, \"stockNotification.subscriptionDialog.manageChannelsSuffix\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(20, 22, \"stockNotification.subscriptionDialog.manageSubscriptionsPrefix\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(31, _c56));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(23, 24, \"stockNotification.subscriptionDialog.manageSubscriptionsLink\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(25, 26, \"stockNotification.subscriptionDialog.manageSubscriptionsSuffix\"), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(30, 28, \"stockNotification.subscriptionDialog.okBtn\"), \" \");\n  }\n}\nfunction StockNotificationDialogComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelementStart(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 16);\n    i0.ɵɵelementStart(5, \"div\", 17);\n    i0.ɵɵelement(6, \"cx-spinner\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 1, \"stockNotification.subscriptionDialog.subscribing\"), \" \");\n  }\n}\nfunction StockNotificationComponent_ng_container_0_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 5);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function StockNotificationComponent_ng_container_0_ng_container_1_ng_container_1_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(3);\n      return ctx_r9.subscribe();\n    });\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 2, \"stockNotification.getNotified\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(7, 4, \"stockNotification.notifyMe\"), \" \");\n  }\n}\nfunction StockNotificationComponent_ng_container_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, StockNotificationComponent_ng_container_0_ng_container_1_ng_container_1_Template, 8, 6, \"ng-container\", 4);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    const _r1 = i0.ɵɵreference(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 2, ctx_r7.prefsEnabled$))(\"ngIfElse\", _r1);\n  }\n}\nfunction StockNotificationComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, StockNotificationComponent_ng_container_0_ng_container_1_Template, 3, 4, \"ng-container\", 4);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    const _r3 = i0.ɵɵreference(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(2, 2, ctx_r0.hasProductInterests$))(\"ngIfElse\", _r3);\n  }\n}\nfunction StockNotificationComponent_ng_template_2_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"a\", 10);\n    i0.ɵɵpipe(2, \"cxUrl\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"cxTranslate\");\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(2, 3, i0.ɵɵpureFunction0(9, _c20)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 5, \"miniLogin.signInRegister\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(6, 7, \"stockNotification.getNotifySuffix\"), \"\");\n  }\n}\nfunction StockNotificationComponent_ng_template_2_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0);\n    i0.ɵɵpipe(1, \"cxTranslate\");\n    i0.ɵɵelement(2, \"br\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementStart(5, \"a\", 10);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"cxTranslate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(1, 5, \"stockNotification.getNotify\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 7, \"stockNotification.activateChannelsPrefix\"), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(13, _c31));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 9, \"stockNotification.channelsLink\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(9, 11, \"stockNotification.activateChannelsSuffix\"), \" \");\n  }\n}\nfunction StockNotificationComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelementStart(1, \"p\");\n    i0.ɵɵtemplate(2, StockNotificationComponent_ng_template_2_ng_container_2_Template, 8, 10, \"ng-container\", 4);\n    i0.ɵɵtemplate(3, StockNotificationComponent_ng_template_2_ng_template_3_Template, 10, 14, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 9);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r12 = i0.ɵɵreference(4);\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.anonymous)(\"ngIfElse\", _r12);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(7, 3, \"stockNotification.notifyMe\"), \" \");\n  }\n}\nfunction StockNotificationComponent_ng_template_4_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 5);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function StockNotificationComponent_ng_template_4_ng_container_0_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return ctx_r15.unsubscribe();\n    });\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 2, \"stockNotification.notified\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(7, 4, \"stockNotification.stopNotify\"), \" \");\n  }\n}\nfunction StockNotificationComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, StockNotificationComponent_ng_template_4_ng_container_0_Template, 8, 6, \"ng-container\", 4);\n    i0.ɵɵpipe(1, \"async\");\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    const _r5 = i0.ɵɵreference(7);\n    i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(1, 2, ctx_r4.isRemoveInterestLoading$))(\"ngIfElse\", _r5);\n  }\n}\nfunction StockNotificationComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵelementStart(1, \"div\", 13);\n    i0.ɵɵelementStart(2, \"div\", 14);\n    i0.ɵɵelement(3, \"cx-spinner\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\nfunction WishListItemComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵelementStart(1, \"a\", 17);\n    i0.ɵɵpipe(2, \"cxUrl\");\n    i0.ɵɵelementStart(3, \"h2\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(2, 2, i0.ɵɵpureFunction1(4, _c5, ctx_r0.cartEntry.product)));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.cartEntry.product.name);\n  }\n}\nfunction WishListItemComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind1(2, 2, \"cartItems.id\"), \" \", ctx_r1.cartEntry.product.code, \" \");\n  }\n}\nfunction WishListItemComponent_ng_container_10_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const variant_r8 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", variant_r8.name, \": \", variant_r8.value, \" \");\n  }\n}\nfunction WishListItemComponent_ng_container_10_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtemplate(1, WishListItemComponent_ng_container_10_div_1_div_1_Template, 2, 2, \"div\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const variant_r8 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", variant_r8.name && variant_r8.value);\n  }\n}\nfunction WishListItemComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, WishListItemComponent_ng_container_10_div_1_Template, 2, 1, \"div\", 19);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.cartEntry.product.baseOptions[0] == null ? null : ctx_r2.cartEntry.product.baseOptions[0].selected == null ? null : ctx_r2.cartEntry.product.baseOptions[0].selected.variantOptionQualifiers);\n  }\n}\nfunction WishListItemComponent_div_11_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r11.cartEntry.basePrice == null ? null : ctx_r11.cartEntry.basePrice.formattedValue, \" \");\n  }\n}\nfunction WishListItemComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵelementStart(1, \"div\", 24);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, WishListItemComponent_div_11_div_4_Template, 2, 1, \"div\", 25);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 2, \"cartItems.itemPrice\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.cartEntry.basePrice);\n  }\n}\nfunction WishListItemComponent_cx_add_to_cart_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-add-to-cart\", 27);\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"showQuantity\", false)(\"product\", ctx_r4.cartEntry.product);\n  }\n}\nfunction WishListItemComponent_ng_template_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"addToCart.outOfStock\"), \" \");\n  }\n}\nfunction WishListComponent_ng_container_0_ng_container_1_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelementStart(1, \"cx-wish-list-item\", 10);\n    i0.ɵɵlistener(\"remove\", function WishListComponent_ng_container_0_ng_container_1_div_12_Template_cx_wish_list_item_remove_1_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(3);\n      return ctx_r7.removeEntry($event);\n    });\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const entry_r6 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cartEntry\", entry_r6)(\"isLoading\", i0.ɵɵpipeBind1(2, 2, ctx_r5.loading$));\n  }\n}\nfunction WishListComponent_ng_container_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 3);\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵelementStart(3, \"div\", 5);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 6);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 7);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, WishListComponent_ng_container_0_ng_container_1_div_12_Template, 3, 4, \"div\", 8);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const wishList_r3 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 4, \"cartItems.description\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(8, 6, \"cartItems.itemPrice\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(11, 8, \"cartItems.total\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", wishList_r3 == null ? null : wishList_r3.entries);\n  }\n}\nfunction WishListComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, WishListComponent_ng_container_0_ng_container_1_Template, 13, 10, \"ng-container\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const wishList_r3 = ctx.ngIf;\n    i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (wishList_r3 == null ? null : wishList_r3.entries == null ? null : wishList_r3.entries.length) > 0)(\"ngIfElse\", _r1);\n  }\n}\nfunction WishListComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, \"wishlist.empty\"));\n  }\n}\nfunction SkipLinkComponent_div_0_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function SkipLinkComponent_div_0_button_1_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const link_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return ctx_r4.scrollToTarget(link_r3);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const link_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind1(2, 2, \"skipLink.skipTo\"), \" \", i0.ɵɵpipeBind1(3, 4, link_r3.i18nKey), \" \");\n  }\n}\nconst _c57 = function () {\n  return {\n    tab: true\n  };\n};\nfunction SkipLinkComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵtemplate(1, SkipLinkComponent_div_0_button_1_Template, 4, 6, \"button\", 2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const links_r1 = ctx.ngIf;\n    i0.ɵɵproperty(\"cxFocus\", i0.ɵɵpureFunction0(2, _c57));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", links_r1);\n  }\n}\nconst _c58 = function () {\n  return {\n    disableMouseFocus: true\n  };\n};\nfunction StorefrontComponent_ng_template_0_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"header\", 4);\n    i0.ɵɵlistener(\"keydown.escape\", function StorefrontComponent_ng_template_0_ng_template_0_Template_header_keydown_escape_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return ctx_r3.collapseMenu();\n    })(\"click\", function StorefrontComponent_ng_template_0_ng_template_0_Template_header_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return ctx_r5.collapseMenuIfClickOutside($event);\n    });\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵelement(2, \"cx-page-layout\", 5);\n    i0.ɵɵelement(3, \"cx-page-layout\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"cx-page-slot\", 7);\n    i0.ɵɵelement(5, \"cx-global-message\", 8);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"is-expanded\", i0.ɵɵpipeBind1(1, 3, ctx_r1.isExpanded$));\n    i0.ɵɵproperty(\"cxFocus\", i0.ɵɵpureFunction0(5, _c58));\n  }\n}\nfunction StorefrontComponent_ng_template_0_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"footer\", 9);\n    i0.ɵɵelement(1, \"cx-page-layout\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"cxFocus\", i0.ɵɵpureFunction0(1, _c58));\n  }\n}\nfunction StorefrontComponent_ng_template_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, StorefrontComponent_ng_template_0_ng_template_0_Template, 6, 6, \"ng-template\", 1);\n    i0.ɵɵelementStart(1, \"main\", 2);\n    i0.ɵɵelement(2, \"router-outlet\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, StorefrontComponent_ng_template_0_ng_template_3_Template, 2, 2, \"ng-template\", 3);\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cxFocus\", i0.ɵɵpureFunction0(1, _c58));\n  }\n}\nconst FOCUS_ATTR = 'data-cx-focus';\n/** The element attribute used to store the focus group state */\nconst FOCUS_GROUP_ATTR = 'data-cx-focus-group';\nvar TrapFocus = /*#__PURE__*/(() => {\n  (function (TrapFocus) {\n    /**\n     * Will trap the focus at the start of the focus group.\n     */\n    TrapFocus[\"start\"] = \"start\";\n    /**\n     * Will trap the focus only at the end of the focus group.\n     */\n    TrapFocus[\"end\"] = \"end\";\n    /**\n     * Will not trap the focus in both directions. This is actually not are\n     * a great example of focus trap, but it will give the benefit of keyboard\n     * tabbing by arrows.\n     */\n    TrapFocus[\"both\"] = \"both\";\n  })(TrapFocus || (TrapFocus = {}));\n  return TrapFocus;\n})();\nlet BaseFocusService = /*#__PURE__*/(() => {\n  class BaseFocusService {}\n  BaseFocusService.ɵfac = function BaseFocusService_Factory(t) {\n    return new (t || BaseFocusService)();\n  };\n  BaseFocusService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: BaseFocusService,\n    factory: BaseFocusService.ɵfac,\n    providedIn: 'root'\n  });\n  return BaseFocusService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Abstract directive that provides a common interface for all focus directives:\n * - Block Focus\n * - Persist Focus\n * - Escape Focus\n * - Auto Focus\n * - Tab Focus\n * - Trap Focus\n * - Lock Focus\n */\nlet BaseFocusDirective = /*#__PURE__*/(() => {\n  class BaseFocusDirective {\n    constructor(elementRef, service) {\n      this.elementRef = elementRef;\n      this.service = service;\n      /**\n       * A default config can be provided for each directive if a specific focus directive\n       * is used directly. i.e. `<div cxAutoFocus></div>`\n       */\n      this.defaultConfig = {};\n    }\n    ngOnInit() {\n      this.setDefaultConfiguration();\n      this.requiredTabindex = -1;\n    }\n    // empty, but sub classes might have an implementation\n    ngOnChanges(_changes) {}\n    /**\n     * Override the (input) config if it undefined or an empty string, with the\n     * `defaultConfig`. The `defaultConfig` might be specified for each directive\n     * differently. If a specific directive is used (i.e. `cxAutoFocus`), the\n     * specific (inherited) defaultConfig will be used.\n     */\n    setDefaultConfiguration() {\n      if ((!this.config || this.config === '') && this.defaultConfig) {\n        this.config = this.defaultConfig;\n      }\n    }\n    /**\n     * Helper method to return the host element for the directive\n     * given by the `elementRef`.\n     */\n    get host() {\n      return this.elementRef.nativeElement;\n    }\n    /**\n     * Force a tabindex on the host element if it is _required_ to make the element\n     * focusable. If the element is focusable by nature or by a given tabindex, the\n     * `tabindex` is not applied.\n     *\n     * Buttons, active links, etc. do no need an explicit tabindex to receive focus.\n     */\n    set requiredTabindex(tabindex) {\n      if (this.requiresExplicitTabIndex) {\n        this.tabindex = tabindex;\n      }\n    }\n    /**\n     * Returns true if the host element does not have a tabindex defined\n     * and it also doesn't get focus by browsers nature (i.e. button or\n     * active link).\n     */\n    get requiresExplicitTabIndex() {\n      return this.tabindex === undefined && ['button', 'input', 'select', 'textarea'].indexOf(this.host.tagName.toLowerCase()) === -1 && !(this.host.tagName === 'A' && (this.host.hasAttribute('href') || this.host.hasAttribute('routerlink') || this.host.getAttribute('ng-reflect-router-link')));\n    }\n  }\n  BaseFocusDirective.ɵfac = function BaseFocusDirective_Factory(t) {\n    return new (t || BaseFocusDirective)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(BaseFocusService));\n  };\n  BaseFocusDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: BaseFocusDirective,\n    hostVars: 1,\n    hostBindings: function BaseFocusDirective_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵattribute(\"tabindex\", ctx.tabindex);\n      }\n    },\n    inputs: {\n      tabindex: \"tabindex\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature]\n  });\n  return BaseFocusDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Directive implementation that adds a CSS class to the host element\n * when the moused is used to focus an element. As soon as the keyboard\n * is used, the class is removed.\n *\n * This feature must be explicitly enabled with the `disableMouseFocus` config.\n *\n * The appearance of the visual focus depends on the CSS implementation to\n * begin with. Spartacus styles add a blue border around each focusable element.\n * This can be considered annoying by keyboard users, as they won't need such a\n * strong indication of the selected element.\n */\nlet VisibleFocusDirective = /*#__PURE__*/(() => {\n  class VisibleFocusDirective extends BaseFocusDirective {\n    constructor() {\n      super(...arguments);\n      this.defaultConfig = {\n        disableMouseFocus: true\n      };\n      /** Controls a css class to hide focus visible CSS rules */\n      this.mouseFocus = false;\n    }\n    handleMousedown() {\n      if (this.shouldFocusVisible) {\n        this.mouseFocus = true;\n      }\n    }\n    handleKeydown(event) {\n      if (this.shouldFocusVisible) {\n        this.mouseFocus = !this.isNavigating(event);\n      }\n    }\n    /**\n     * Indicates whether the configurations setup to disable visual focus.\n     */\n    get shouldFocusVisible() {\n      var _a;\n      return (_a = this.config) === null || _a === void 0 ? void 0 : _a.disableMouseFocus;\n    }\n    /**\n     * Indicates whether the event is used to navigate the storefront. Some keyboard events\n     * are used by mouse users to fill a form or interact with the OS or browser.\n     */\n    isNavigating(event) {\n      // when the cmd or ctrl keys are used, the user doesn't navigate the storefront\n      if (event.metaKey) {\n        return false;\n      }\n      // when the tab key is used, users are for navigating away from the current (form) element\n      if (event.code === 'Tab') {\n        return true;\n      }\n      // If the user fill in a form, we don't considering it part of storefront navigation.\n      if (['INPUT', 'TEXTAREA'].includes(event.target.tagName)) {\n        return false;\n      }\n      return true;\n    }\n  }\n  VisibleFocusDirective.ɵfac = /* @__PURE__ */function () {\n    let ɵVisibleFocusDirective_BaseFactory;\n    return function VisibleFocusDirective_Factory(t) {\n      return (ɵVisibleFocusDirective_BaseFactory || (ɵVisibleFocusDirective_BaseFactory = i0.ɵɵgetInheritedFactory(VisibleFocusDirective)))(t || VisibleFocusDirective);\n    };\n  }();\n  VisibleFocusDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: VisibleFocusDirective,\n    hostVars: 2,\n    hostBindings: function VisibleFocusDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"mousedown\", function VisibleFocusDirective_mousedown_HostBindingHandler() {\n          return ctx.handleMousedown();\n        })(\"keydown\", function VisibleFocusDirective_keydown_HostBindingHandler($event) {\n          return ctx.handleKeydown($event);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"mouse-focus\", ctx.mouseFocus);\n      }\n    },\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return VisibleFocusDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n// { selector: '[cxBlockFocus]' }\nlet BlockFocusDirective = /*#__PURE__*/(() => {\n  class BlockFocusDirective extends VisibleFocusDirective {\n    constructor(elementRef, service) {\n      super(elementRef, service);\n      this.elementRef = elementRef;\n      this.service = service;\n      this.defaultConfig = {\n        block: true\n      };\n      // @Input('cxBlockFocus')\n      this.config = {};\n    }\n    ngOnInit() {\n      super.ngOnInit();\n      if (this.config.block) {\n        this.tabindex = -1;\n      }\n    }\n  }\n  BlockFocusDirective.ɵfac = function BlockFocusDirective_Factory(t) {\n    return new (t || BlockFocusDirective)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(BaseFocusService));\n  };\n  BlockFocusDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: BlockFocusDirective,\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return BlockFocusDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst GLOBAL_GROUP = '_g_';\n/**\n * Shared service to persist the focus for an element or a group\n * of elements. The persisted element focus can be used to persist\n * the focus for a DOM tree, so that the focus remains after a repaint\n * or reoccurs when a DOM tree is \"unlocked\".\n */\nlet PersistFocusService = /*#__PURE__*/(() => {\n  class PersistFocusService extends BaseFocusService {\n    constructor() {\n      super(...arguments);\n      // this is going to fail as we have sub services. They will al have their own map.\n      // We must bring this to a singleton map.\n      this.focus = new Map();\n    }\n    get(group) {\n      return this.focus.get(group || GLOBAL_GROUP);\n    }\n    /**\n     * Persist the keyboard focus state for the given key. The focus is stored globally\n     * or for the given group.\n     */\n    set(key, group) {\n      if (key) {\n        this.focus.set(group || GLOBAL_GROUP, key);\n      }\n    }\n    /**\n     * Clears the persisted keyboard focus state globally or for the given group.\n     */\n    clear(group) {\n      this.focus.delete(group || GLOBAL_GROUP);\n    }\n    /**\n     * Returns the group for the host element based on the configured group or\n     * by the `data-cx-focus-group` attribute stored on the host.\n     */\n    getPersistenceGroup(host, config) {\n      return (config === null || config === void 0 ? void 0 : config.group) ? config.group : host.getAttribute(FOCUS_GROUP_ATTR);\n    }\n  }\n  PersistFocusService.ɵfac = /* @__PURE__ */function () {\n    let ɵPersistFocusService_BaseFactory;\n    return function PersistFocusService_Factory(t) {\n      return (ɵPersistFocusService_BaseFactory || (ɵPersistFocusService_BaseFactory = i0.ɵɵgetInheritedFactory(PersistFocusService)))(t || PersistFocusService);\n    };\n  }();\n  PersistFocusService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: PersistFocusService,\n    factory: PersistFocusService.ɵfac,\n    providedIn: 'root'\n  });\n  return PersistFocusService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Directive that provides persistence of the focused state. This is useful\n * when a group of focusable elements got refocused or even recreated. That\n * happens often when the DOM is constructed with an `*ngIf` or `*ngFor`.\n *\n * The focus state is based on a configured _key_, which can be passed in the\n * config input, either by using a string primitive or `PersistFocusConfig.key`:\n *\n * ```html\n * <button cxPersistFocus=\"myKey\"></button>\n * <button cxFocus=\"myKey\"></button>\n * <button [cxFocus]=\"{{key:'myKey'}\"></button>\n * ```\n *\n * The focus state can be part of a focus _group_, so that the state is shared\n * and remember for the given group. In order to detect the persistence for a\n * given element, we store the persistence key as a data attribute (`data-cx-focus`):\n *\n * ```html\n * <button data-cx-focus=\"myKey\"></button>\n * ```\n *\n * Other keyboard focus directives can read the key to understand whether the element\n * should retrieve focus.\n *\n */\nlet PersistFocusDirective = /*#__PURE__*/(() => {\n  class PersistFocusDirective extends BlockFocusDirective {\n    constructor(elementRef, service) {\n      super(elementRef, service);\n      this.elementRef = elementRef;\n      this.service = service;\n      this.defaultConfig = {};\n      /**\n       * The persistence key can be passed directly or through the `FocusConfig.key`.\n       * While this could be considered a global key, the likeliness of conflicts\n       * is very small since the key is cleared when the focus is changed.\n       */\n      // @Input('cxPersistFocus')\n      this.config = {};\n    }\n    handleFocus(event) {\n      this.service.set(this.key, this.group);\n      event === null || event === void 0 ? void 0 : event.preventDefault();\n      event === null || event === void 0 ? void 0 : event.stopPropagation();\n    }\n    ngOnInit() {\n      super.ngOnInit();\n      this.attr = this.key ? this.key : undefined;\n    }\n    setDefaultConfiguration() {\n      if (typeof this.config === 'string' && this.config !== '') {\n        this.config = {\n          key: this.config\n        };\n      }\n      super.setDefaultConfiguration();\n    }\n    /**\n     * Focus the element explicitly if it was focused before.\n     */\n    ngAfterViewInit() {\n      if (this.isPersisted) {\n        this.host.focus({\n          preventScroll: true\n        });\n      }\n    }\n    get isPersisted() {\n      return !!this.key && this.service.get(this.group) === this.key;\n    }\n    /**\n     * Returns the key for the host element, which is used to persist the\n     * focus state. This is useful in cases where the DOM is rebuild.\n     */\n    get key() {\n      var _a;\n      return (_a = this.config) === null || _a === void 0 ? void 0 : _a.key;\n    }\n    /**\n     * returns the persistence group (if any) for the focusable elements.\n     */\n    get group() {\n      return this.service.getPersistenceGroup(this.host, this.config);\n    }\n  }\n  PersistFocusDirective.ɵfac = function PersistFocusDirective_Factory(t) {\n    return new (t || PersistFocusDirective)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(PersistFocusService));\n  };\n  PersistFocusDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: PersistFocusDirective,\n    hostVars: 1,\n    hostBindings: function PersistFocusDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"focus\", function PersistFocusDirective_focus_HostBindingHandler($event) {\n          return ctx.handleFocus($event);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵattribute(\"data-cx-focus\", ctx.attr);\n      }\n    },\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return PersistFocusDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet SelectFocusUtility = /*#__PURE__*/(() => {\n  class SelectFocusUtility {\n    constructor() {\n      /**\n       * Query selectors used to query focusable child elements of the host element.\n       * The selectors are supplemented with `:not([disabled])` and `:not([hidden])`.\n       */\n      this.focusableSelectors = ['a[href]', 'button', '[tabindex]', 'input', 'select', 'textarea'];\n      // like to leave out the following as we don't use it, and make this list exensible.\n      //   `[contentEditable=true]`, // very unlikely to suport as we're not a business tool\n      //   `iframe`, // we really don't like iframes...\n      //   `area[href]`, // very debatable!\n      this.focusableSelectorSuffix = ':not([disabled]):not([hidden])';\n    }\n    query(host, selector) {\n      if (!selector || selector === '') {\n        return [];\n      }\n      return Array.from(host.querySelectorAll(selector));\n    }\n    findFirstFocusable(host, config = {\n      autofocus: true\n    }) {\n      const selector = typeof (config === null || config === void 0 ? void 0 : config.autofocus) === 'string' ? config.autofocus : '[autofocus]';\n      // fallback to first focusable\n      return this.query(host, selector).find(el => !this.isHidden(el)) || this.findFocusable(host).find(el => Boolean(el));\n    }\n    /**\n     * returns all focusable child elements of the host element. The element selectors\n     * are build from the `focusableSelectors`.\n     *\n     * @param host the `HTMLElement` used to query focusable elements\n     * @param locked indicates whether inactive (`tabindex=\"-1\"`) focusable elements should be returned\n     * @param invisible indicates whether hidden focusable elements should be returned\n     */\n    findFocusable(host, locked = false, invisible = false) {\n      let suffix = this.focusableSelectorSuffix;\n      if (!locked) {\n        suffix += `:not([tabindex='-1'])`;\n      }\n      const selector = this.focusableSelectors.map(s => s += suffix).join(',');\n      return this.query(host, selector).filter(el => !invisible ? !this.isHidden(el) : Boolean(el));\n    }\n    /**\n     * Indicates whether the element is hidden by CSS. There are various CSS rules and\n     * HTML structures which can lead to an hidden or invisible element. An `offsetParent`\n     * of null indicates that the element or any of it's decendants is hidden (`display:none`).\n     *\n     * Oother techniques use the visibility (`visibility: hidden`), opacity (`opacity`) or\n     * phyisical location on the element itself or any of it's anchestor elements. Those\n     * technique require to work with the _computed styles_, which will cause a performance\n     * downgrade. We don't do this in the standard implementaton.\n     */\n    isHidden(el) {\n      return el.offsetParent === null;\n    }\n  }\n  SelectFocusUtility.ɵfac = function SelectFocusUtility_Factory(t) {\n    return new (t || SelectFocusUtility)();\n  };\n  SelectFocusUtility.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: SelectFocusUtility,\n    factory: SelectFocusUtility.ɵfac,\n    providedIn: 'root'\n  });\n  return SelectFocusUtility;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet EscapeFocusService = /*#__PURE__*/(() => {\n  class EscapeFocusService extends PersistFocusService {\n    constructor(selectFocusUtil) {\n      super();\n      this.selectFocusUtil = selectFocusUtil;\n    }\n    shouldFocus(config) {\n      return !!(config === null || config === void 0 ? void 0 : config.focusOnEscape);\n    }\n    handleEscape(host, config, event) {\n      var _a;\n      if (this.shouldFocus(config)) {\n        if (host !== event.target) {\n          host.focus({\n            preventScroll: true\n          });\n          event.preventDefault();\n          event.stopPropagation();\n        } else {\n          if (config === null || config === void 0 ? void 0 : config.focusOnDoubleEscape) {\n            (_a = this.selectFocusUtil.findFirstFocusable(host, {\n              autofocus: true\n            })) === null || _a === void 0 ? void 0 : _a.focus();\n          }\n        }\n      }\n    }\n  }\n  EscapeFocusService.ɵfac = function EscapeFocusService_Factory(t) {\n    return new (t || EscapeFocusService)(i0.ɵɵinject(SelectFocusUtility));\n  };\n  EscapeFocusService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: EscapeFocusService,\n    factory: EscapeFocusService.ɵfac,\n    providedIn: 'root'\n  });\n  return EscapeFocusService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Directive to focus the host element whenever the `escape` key is captured.\n * UiEvents bubble up by nature, which is why the `cxEscGroup` can be used\n * on a tree of elements. Each time the escape key is used, the focus will\n * move up in the DOM tree.\n *\n */\nlet EscapeFocusDirective = /*#__PURE__*/(() => {\n  class EscapeFocusDirective extends PersistFocusDirective {\n    constructor(elementRef, service) {\n      super(elementRef, service);\n      this.elementRef = elementRef;\n      this.service = service;\n      this.defaultConfig = {\n        focusOnEscape: true\n      };\n      this.esc = new EventEmitter();\n    }\n    /**\n     * Handles the escape key event.\n     * @param event the native keyboard event which contains the escape keydown event\n     */\n    handleEscape(event) {\n      if (this.service.shouldFocus(this.config)) {\n        this.service.handleEscape(this.host, this.config, event);\n      }\n      this.esc.emit(this.service.shouldFocus(this.config));\n    }\n    ngOnInit() {\n      if (this.service.shouldFocus(this.config)) {\n        this.requiredTabindex = -1;\n      }\n      super.ngOnInit();\n    }\n  }\n  EscapeFocusDirective.ɵfac = function EscapeFocusDirective_Factory(t) {\n    return new (t || EscapeFocusDirective)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(EscapeFocusService));\n  };\n  EscapeFocusDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: EscapeFocusDirective,\n    hostBindings: function EscapeFocusDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"keydown.escape\", function EscapeFocusDirective_keydown_escape_HostBindingHandler($event) {\n          return ctx.handleEscape($event);\n        });\n      }\n    },\n    outputs: {\n      esc: \"esc\"\n    },\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return EscapeFocusDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AutoFocusService = /*#__PURE__*/(() => {\n  class AutoFocusService extends EscapeFocusService {\n    /**\n     * Returns the first focusable child element of the host element.\n     */\n    findFirstFocusable(host, config = {\n      autofocus: true\n    }) {\n      if ((config === null || config === void 0 ? void 0 : config.autofocus) === ':host') {\n        return host;\n      } else if (this.hasPersistedFocus(host, config)) {\n        return this.getPersisted(host, this.getPersistenceGroup(host, config));\n      } else {\n        return this.selectFocusUtil.findFirstFocusable(host, config) || host;\n      }\n    }\n    /**\n     * Indicates whether any of the focusable child elements is focused.\n     */\n    hasPersistedFocus(host, config) {\n      return !!this.getPersisted(host, this.getPersistenceGroup(host, config));\n    }\n    /**\n     * Returns the element that has a persisted focus state.\n     *\n     * @param host the `HTMLElement` used to query for focusable children\n     * @param group the optional group for the persistent state, to separate different focus\n     *   groups and remain the persistence\n     */\n    getPersisted(host, group) {\n      if (!this.get(group)) {\n        return;\n      }\n      const focussed = Array.from(host.querySelectorAll(`[${FOCUS_ATTR}='${this.get(group)}']`));\n      return focussed.length > 0 ? focussed[0] : null;\n    }\n  }\n  AutoFocusService.ɵfac = /* @__PURE__ */function () {\n    let ɵAutoFocusService_BaseFactory;\n    return function AutoFocusService_Factory(t) {\n      return (ɵAutoFocusService_BaseFactory || (ɵAutoFocusService_BaseFactory = i0.ɵɵgetInheritedFactory(AutoFocusService)))(t || AutoFocusService);\n    };\n  }();\n  AutoFocusService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: AutoFocusService,\n    factory: AutoFocusService.ɵfac,\n    providedIn: 'root'\n  });\n  return AutoFocusService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Directive that focus the first nested _focusable_ element based on state and configuration:\n *\n * 1. focusable element that was left in a focused state (aka _persisted_ focus)\n * 2. focusable element selected by configured CSS selector (i.e. 'button[type=submit]')\n * 3. focusable element marked with the native HTML5 `autofocus` attribute\n * 4. first focusable element\n * 5. the host element, in case the configured CSS selector is `:host`.\n *\n * Example configurations:\n *\n * `<div cxAutoFocus>[...]</div>`\n *\n * `<div [cxAutoFocus]=\"{autofocus: false}\">[...]</div>`\n *\n * `<div [cxAutoFocus]=\"{autofocus: 'button.active'}\">[...]</div>`\n *\n * `<div [cxAutoFocus]=\"{autofocus: ':host'}\">[...]</div>`\n *\n * When your element is added dynamically (ie. by using an *ngIf or after a DOM change), the\n * focus can be refreshed by using the refreshFocus configuration.\n */\nlet AutoFocusDirective = /*#__PURE__*/(() => {\n  class AutoFocusDirective extends EscapeFocusDirective {\n    constructor(elementRef, service) {\n      super(elementRef, service);\n      this.elementRef = elementRef;\n      this.service = service;\n      /** The AutoFocusDirective will be using autofocus by default  */\n      this.defaultConfig = {\n        autofocus: true\n      };\n    }\n    /**\n     * Focus the element explicitly if it was focussed before.\n     */\n    ngAfterViewInit() {\n      if (this.shouldAutofocus) {\n        this.handleFocus();\n      }\n      if (!this.shouldAutofocus || this.hasPersistedFocus) {\n        super.ngAfterViewInit();\n      }\n    }\n    ngOnChanges(changes) {\n      var _a;\n      // responsible for refresh focus based on the configured refresh property name\n      if (!!((_a = changes.config.currentValue) === null || _a === void 0 ? void 0 : _a.refreshFocus)) {\n        // ensure the autofocus when it's to provided initially\n        if (!this.config.autofocus) {\n          this.config.autofocus = true;\n        }\n        this.handleFocus();\n      }\n      super.ngOnChanges(changes);\n    }\n    /**\n     * Mimic the focus without setting the actual focus on the host. The first\n     * focusable child element will be focussed.\n     */\n    handleFocus(event) {\n      var _a;\n      if (this.shouldAutofocus) {\n        if (!(event === null || event === void 0 ? void 0 : event.target) || event.target === this.host) {\n          (_a = this.firstFocusable) === null || _a === void 0 ? void 0 : _a.focus();\n        } else {\n          event.target.focus();\n        }\n      }\n      super.handleFocus(event);\n    }\n    /**\n     * Helper function to get the first focusable child element\n     */\n    get hasPersistedFocus() {\n      return this.service.hasPersistedFocus(this.host, this.config);\n    }\n    /**\n     * Helper function to indicate whether we should use autofocus for the\n     * child elements.\n     */\n    get shouldAutofocus() {\n      var _a;\n      return !!((_a = this.config) === null || _a === void 0 ? void 0 : _a.autofocus);\n    }\n    /**\n     * Helper function to get the first focusable child element.\n     *\n     * We keep this private to not pollute the API.\n     */\n    get firstFocusable() {\n      return this.service.findFirstFocusable(this.host, this.config);\n    }\n  }\n  AutoFocusDirective.ɵfac = function AutoFocusDirective_Factory(t) {\n    return new (t || AutoFocusDirective)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(AutoFocusService));\n  };\n  AutoFocusDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AutoFocusDirective,\n    features: [i0.ɵɵInheritDefinitionFeature, i0.ɵɵNgOnChangesFeature]\n  });\n  return AutoFocusDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TabFocusService = /*#__PURE__*/(() => {\n  class TabFocusService extends AutoFocusService {\n    /**\n     * Moves to the next (or previous) tab.\n     */\n    moveTab(host, config, increment, event) {\n      if (config === null || config === void 0 ? void 0 : config.tab) {\n        const next = config.tab === 'scroll' ? this.findNextScrollable(host, config, increment) : this.findNext(host, config, increment);\n        next === null || next === void 0 ? void 0 : next.focus();\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    }\n    /**\n     * builds out virtual slides out of the full scrollable area, to allow\n     * for maximum flexibility for the underlying layout without using hardcoded\n     * slide sizes.\n     */\n    findNextScrollable(host, config, increment) {\n      var _a;\n      const active = this.getActiveChild(host, config);\n      if (!active) {\n        return;\n      }\n      // slide count\n      const virtualSlideCount = Math.round(host.scrollWidth / host.clientWidth);\n      // find current virtual slide\n      const currentVirtualSlide = Math.round(active.offsetLeft / (host.scrollWidth / virtualSlideCount));\n      let nextVirtualSlide = currentVirtualSlide + increment;\n      if (increment === 1 /* NEXT */ && nextVirtualSlide >= virtualSlideCount) {\n        nextVirtualSlide = 0;\n      }\n      if (increment === -1 /* PREV */ && nextVirtualSlide < 0) {\n        nextVirtualSlide = virtualSlideCount - 1;\n      }\n      const firstItemOnNextSlide = (_a = this.getChildren(host, config)) === null || _a === void 0 ? void 0 : _a.find(tab => tab.offsetLeft >= host.scrollWidth / virtualSlideCount * nextVirtualSlide);\n      return firstItemOnNextSlide;\n    }\n    findNext(host, config, increment) {\n      const childs = this.getChildren(host, config);\n      let activeIndex = childs === null || childs === void 0 ? void 0 : childs.findIndex(c => c === this.getActiveChild(host, config));\n      if (!activeIndex || activeIndex === -1) {\n        activeIndex = 0;\n      }\n      activeIndex += increment;\n      if (increment === 1 /* NEXT */ && activeIndex >= (childs === null || childs === void 0 ? void 0 : childs.length)) {\n        activeIndex = childs.length - 1;\n      }\n      if (increment === -1 /* PREV */ && activeIndex < 0) {\n        activeIndex = 0;\n      }\n      return childs ? childs[activeIndex] : undefined;\n    }\n    /**\n     * Returns the active focusable child element. If there's no active\n     * focusable child element, the first focusable child is returned.\n     */\n    getActiveChild(host, config) {\n      const persisted = this.getPersisted(host, config === null || config === void 0 ? void 0 : config.group);\n      if (persisted) {\n        return persisted;\n      }\n      const children = this.getChildren(host, config);\n      let index = children.findIndex(tab => this.isActive(tab));\n      if (!index || index === -1) {\n        index = 0;\n      }\n      return children[index];\n    }\n    getChildren(host, config) {\n      if (typeof config.tab === 'string' && config.tab !== 'scroll') {\n        return this.selectFocusUtil.query(host, config.tab);\n      } else {\n        return this.findFocusable(host, true);\n      }\n    }\n    /**\n     * Returns all focusable child elements of the host element.\n     *\n     * @param host The host element is used to query child focusable elements.\n     * @param locked Indicates if locked elements (tabindex=-1) should be returned, defaults to false.\n     * @param invisible Indicates if invisible child elements should be returned, defaults to false.\n     */\n    findFocusable(host, locked = false, invisible = false) {\n      return this.selectFocusUtil.findFocusable(host, locked, invisible);\n    }\n    isActive(el) {\n      const child = document.activeElement;\n      const selector = child.tagName;\n      return el === child || !!Array.from(el.querySelectorAll(selector)).find(e => e === child);\n    }\n  }\n  TabFocusService.ɵfac = /* @__PURE__ */function () {\n    let ɵTabFocusService_BaseFactory;\n    return function TabFocusService_Factory(t) {\n      return (ɵTabFocusService_BaseFactory || (ɵTabFocusService_BaseFactory = i0.ɵɵgetInheritedFactory(TabFocusService)))(t || TabFocusService);\n    };\n  }();\n  TabFocusService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TabFocusService,\n    factory: TabFocusService.ɵfac,\n    providedIn: 'root'\n  });\n  return TabFocusService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Directive to move the focus of (\"locked\") child elements. This is useful\n * for a nested list of tabs, carousel slides or any group of elements that\n * requires horizontal navigation.\n */\nlet TabFocusDirective = /*#__PURE__*/(() => {\n  class TabFocusDirective extends AutoFocusDirective {\n    constructor(elementRef, service) {\n      super(elementRef, service);\n      this.elementRef = elementRef;\n      this.service = service;\n      /** `tab` defaults to true if the directive `cxTabFocus` is used. */\n      this.defaultConfig = {\n        tab: true\n      };\n      // @Input('cxTabFocus')\n      this.config = {};\n    }\n    handleNextTab(event) {\n      var _a;\n      if ((_a = this.config) === null || _a === void 0 ? void 0 : _a.tab) {\n        this.service.moveTab(this.host, this.config, 1 /* NEXT */, event);\n      }\n    }\n    handlePreviousTab(event) {\n      var _a;\n      if ((_a = this.config) === null || _a === void 0 ? void 0 : _a.tab) {\n        this.service.moveTab(this.host, this.config, -1 /* PREV */, event);\n      }\n    }\n  }\n  TabFocusDirective.ɵfac = function TabFocusDirective_Factory(t) {\n    return new (t || TabFocusDirective)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(TabFocusService));\n  };\n  TabFocusDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TabFocusDirective,\n    hostBindings: function TabFocusDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"keydown.arrowRight\", function TabFocusDirective_keydown_arrowRight_HostBindingHandler($event) {\n          return ctx.handleNextTab($event);\n        })(\"keydown.arrowLeft\", function TabFocusDirective_keydown_arrowLeft_HostBindingHandler($event) {\n          return ctx.handlePreviousTab($event);\n        });\n      }\n    },\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return TabFocusDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TrapFocusService = /*#__PURE__*/(() => {\n  class TrapFocusService extends TabFocusService {\n    /**\n     * Indicates whether any of the child elements of the host are focusable.\n     *\n     * @param host `HTMLElement` that is used to query the focusable elements.\n     */\n    hasFocusableChildren(host) {\n      return this.findFocusable(host).length > 0;\n    }\n    /**\n     * Focus the next or previous element of all available focusable elements.\n     * The focus is _trapped_ in case there's no next or previous available element.\n     * The focus will automatically move the start or end of the list.\n     */\n    moveFocus(host, config, increment, event) {\n      const focusable = this.findFocusable(host);\n      let index = focusable.findIndex(v => v === event.target) + increment;\n      const shouldMoveFocus = index >= 0 && index < focusable.length || index < 0 && this.getTrapStart(config.trap) || index >= focusable.length && this.getTrapEnd(config.trap);\n      if (shouldMoveFocus) {\n        if (index >= focusable.length) {\n          index = 0;\n        }\n        if (index < 0) {\n          index = focusable.length - 1;\n        }\n        event.preventDefault();\n        event.stopPropagation();\n        const el = focusable[index];\n        el.focus();\n      }\n    }\n    getTrapStart(trap) {\n      return trap === true || trap === TrapFocus.start;\n    }\n    getTrapEnd(trap) {\n      return trap === true || trap === TrapFocus.end;\n    }\n  }\n  TrapFocusService.ɵfac = /* @__PURE__ */function () {\n    let ɵTrapFocusService_BaseFactory;\n    return function TrapFocusService_Factory(t) {\n      return (ɵTrapFocusService_BaseFactory || (ɵTrapFocusService_BaseFactory = i0.ɵɵgetInheritedFactory(TrapFocusService)))(t || TrapFocusService);\n    };\n  }();\n  TrapFocusService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TrapFocusService,\n    factory: TrapFocusService.ɵfac,\n    providedIn: 'root'\n  });\n  return TrapFocusService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Directive that keeps the focus inside the focusable child elements,\n * also known as a _focus trap_.\n */\nlet TrapFocusDirective = /*#__PURE__*/(() => {\n  class TrapFocusDirective extends TabFocusDirective {\n    constructor(elementRef, service) {\n      super(elementRef, service);\n      this.elementRef = elementRef;\n      this.service = service;\n      this.defaultConfig = {\n        trap: true\n      };\n      // @Input('cxTrapFocus')\n      this.config = {};\n      this.handleTrapDown = event => {\n        if (!!this.config.trap) {\n          this.moveFocus(event, 1 /* NEXT */);\n        }\n      };\n\n      this.handleTrapUp = event => {\n        if (!!this.config.trap) {\n          this.moveFocus(event, -1 /* PREV */);\n        }\n      };\n    }\n    /**\n     * Moves the focus of the element reference up or down, depending on the increment.\n     * The focus of the element is trapped to avoid it from going out of the group.\n     *\n     * @param event UIEvent that is used to get the target element. The event is blocked\n     *   from standard execution and further bubbling.\n     * @param increment indicates whether the next or previous is focussed.\n     */\n    moveFocus(event, increment) {\n      if (this.service.hasFocusableChildren(this.host)) {\n        this.service.moveFocus(this.host, this.config, increment, event);\n      }\n    }\n  }\n  TrapFocusDirective.ɵfac = function TrapFocusDirective_Factory(t) {\n    return new (t || TrapFocusDirective)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(TrapFocusService));\n  };\n  TrapFocusDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: TrapFocusDirective,\n    hostBindings: function TrapFocusDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"keydown.arrowdown\", function TrapFocusDirective_keydown_arrowdown_HostBindingHandler($event) {\n          return ctx.handleTrapDown($event);\n        })(\"keydown.tab\", function TrapFocusDirective_keydown_tab_HostBindingHandler($event) {\n          return ctx.handleTrapDown($event);\n        })(\"keydown.arrowup\", function TrapFocusDirective_keydown_arrowup_HostBindingHandler($event) {\n          return ctx.handleTrapUp($event);\n        })(\"keydown.shift.tab\", function TrapFocusDirective_keydown_shift_tab_HostBindingHandler($event) {\n          return ctx.handleTrapUp($event);\n        });\n      }\n    },\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return TrapFocusDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet LockFocusService = /*#__PURE__*/(() => {\n  class LockFocusService extends TrapFocusService {}\n  LockFocusService.ɵfac = /* @__PURE__ */function () {\n    let ɵLockFocusService_BaseFactory;\n    return function LockFocusService_Factory(t) {\n      return (ɵLockFocusService_BaseFactory || (ɵLockFocusService_BaseFactory = i0.ɵɵgetInheritedFactory(LockFocusService)))(t || LockFocusService);\n    };\n  }();\n  LockFocusService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: LockFocusService,\n    factory: LockFocusService.ɵfac,\n    providedIn: 'root'\n  });\n  return LockFocusService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Focusable elements exclude hidden elements by default, but this contradicts with\n * unlocking (hidden) elements.\n */\nconst UNLOCK_HIDDEN_ELEMENTS = true;\n/**\n * Directive that adds persistence for focussed element in case\n * the elements are being rebuild. This happens often when change\n * detection kicks in because of new data set from the backend.\n */\nlet LockFocusDirective = /*#__PURE__*/(() => {\n  class LockFocusDirective extends TrapFocusDirective {\n    constructor(elementRef, service, renderer) {\n      super(elementRef, service);\n      this.elementRef = elementRef;\n      this.service = service;\n      this.renderer = renderer;\n      this.defaultConfig = {\n        lock: true\n      };\n      // @Input('cxLockFocus')\n      this.config = {};\n      /**\n       * Emits an event when the host is unlocked.\n       */\n      this.unlock = new EventEmitter();\n    }\n    /**\n     * When the user selects enter or space, the focusable childs are\n     * unlocked, which means that the tabindex is set to 0.\n     */\n    handleEnter(event) {\n      if (this.shouldLock && this.host === event.target) {\n        this.unlockFocus(event);\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    }\n    /**\n     * In case any of the children elements is touched by the mouse,\n     * we unlock the group to not break the mouse-experience.\n     */\n    handleClick(event) {\n      if (this.shouldLock && this.isLocked) {\n        this.unlockFocus(event);\n        event.stopPropagation();\n      }\n    }\n    lockFocus() {\n      this.addTabindexToChildren(-1);\n    }\n    unlockFocus(event) {\n      this.unlock.emit(true);\n      this.addTabindexToChildren(0);\n      // we focus the host if the event was triggered from a child\n      if ((event === null || event === void 0 ? void 0 : event.target) === this.host) {\n        // we wait a few milliseconds, mainly because firefox will otherwise apply\n        // the mouse event on the new focused child element\n        setTimeout(() => {\n          super.handleFocus(event);\n        }, 100);\n      }\n    }\n    ngOnInit() {\n      var _a, _b;\n      super.ngOnInit();\n      this.shouldLock = (_a = this.config) === null || _a === void 0 ? void 0 : _a.lock;\n      if (this.shouldLock) {\n        this.tabindex = 0;\n        // Locked elements will be set to `autofocus` by default if it's not\n        // been configured. This will ensure that autofocus kicks in upon unlock.\n        if (!this.config.hasOwnProperty('autofocus')) {\n          this.config.autofocus = true;\n        }\n        // Locked elements will be set to `focusOnEscape` by default if it's not\n        // been configured. This will ensure that  the host gets locked again when\n        // `escape` is pressed.\n        if (!this.config.hasOwnProperty('focusOnEscape')) {\n          this.config.focusOnEscape = !(((_b = this.config) === null || _b === void 0 ? void 0 : _b.focusOnEscape) === false);\n        }\n      }\n    }\n    ngAfterViewInit() {\n      if (this.shouldLock) {\n        /**\n         * If the component hosts a group of focusable children elements,\n         * we persist the group key to the children, so that they can taken this\n         * into account when they persist their focus state.\n         */\n        if (!!this.group) {\n          this.service.findFocusable(this.host).forEach(el =>\n          // we must do this in after view init as\n          this.renderer.setAttribute(el, FOCUS_GROUP_ATTR, this.group));\n        }\n        if (this.shouldAutofocus) {\n          this.handleFocus();\n        }\n      }\n      super.ngAfterViewInit();\n    }\n    handleFocus(event) {\n      if (this.shouldLock) {\n        if (this.shouldUnlockAfterAutofocus(event)) {\n          // Delay unlocking in case the host is using `ChangeDetectionStrategy.Default`\n          setTimeout(() => this.unlockFocus(event));\n        } else {\n          setTimeout(() => this.lockFocus());\n          event === null || event === void 0 ? void 0 : event.stopPropagation();\n          return;\n        }\n      }\n      super.handleFocus(event);\n    }\n    handleEscape(event) {\n      if (this.shouldLock) {\n        this.service.clear(this.config.group);\n      }\n      super.handleEscape(event);\n    }\n    /**\n     * When the handleFocus is called without an actual event, it's coming from Autofocus.\n     * In this case we unlock the focusable children in case there's a focusable child that\n     * was unlocked before.\n     *\n     * We keep this private to not polute the API.\n     */\n    shouldUnlockAfterAutofocus(event) {\n      return !event && this.service.hasPersistedFocus(this.host, this.config);\n    }\n    /**\n     * Add the tabindex attribute to the focusable children elements\n     */\n    addTabindexToChildren(i = 0) {\n      if (this.shouldLock) {\n        this.isLocked = i === -1;\n        if (!(this.hasFocusableChildren && i === 0) || i === 0) {\n          this.focusable.forEach(el => this.renderer.setAttribute(el, 'tabindex', i.toString()));\n        }\n      }\n    }\n    /**\n     * Utility method, returns all focusable children for the host element.\n     *\n     * We keep this private to not polute the API.\n     */\n    get hasFocusableChildren() {\n      return this.service.hasFocusableChildren(this.host);\n    }\n    /**\n     * Returns the focusable children of the host element. If the host element\n     * is configured to be locked, the query is restricted to child elements\n     * with a tabindex !== `-1`.\n     *\n     * We keep this private to not polute the API.\n     */\n    get focusable() {\n      return this.service.findFocusable(this.host, this.shouldLock, UNLOCK_HIDDEN_ELEMENTS);\n    }\n  }\n  LockFocusDirective.ɵfac = function LockFocusDirective_Factory(t) {\n    return new (t || LockFocusDirective)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(LockFocusService), i0.ɵɵdirectiveInject(i0.Renderer2));\n  };\n  LockFocusDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: LockFocusDirective,\n    hostVars: 4,\n    hostBindings: function LockFocusDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"keydown.enter\", function LockFocusDirective_keydown_enter_HostBindingHandler($event) {\n          return ctx.handleEnter($event);\n        })(\"keydown.space\", function LockFocusDirective_keydown_space_HostBindingHandler($event) {\n          return ctx.handleEnter($event);\n        })(\"click\", function LockFocusDirective_click_HostBindingHandler($event) {\n          return ctx.handleClick($event);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"focus-lock\", ctx.shouldLock)(\"is-locked\", ctx.isLocked);\n      }\n    },\n    outputs: {\n      unlock: \"unlock\"\n    },\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return LockFocusDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet KeyboardFocusService = /*#__PURE__*/(() => {\n  class KeyboardFocusService extends LockFocusService {}\n  KeyboardFocusService.ɵfac = /* @__PURE__ */function () {\n    let ɵKeyboardFocusService_BaseFactory;\n    return function KeyboardFocusService_Factory(t) {\n      return (ɵKeyboardFocusService_BaseFactory || (ɵKeyboardFocusService_BaseFactory = i0.ɵɵgetInheritedFactory(KeyboardFocusService)))(t || KeyboardFocusService);\n    };\n  }();\n  KeyboardFocusService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: KeyboardFocusService,\n    factory: KeyboardFocusService.ɵfac,\n    providedIn: 'root'\n  });\n  return KeyboardFocusService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FocusDirective = /*#__PURE__*/(() => {\n  class FocusDirective extends LockFocusDirective {\n    constructor(elementRef, service, renderer) {\n      super(elementRef, service, renderer);\n      this.elementRef = elementRef;\n      this.service = service;\n      this.renderer = renderer;\n      this.defaultConfig = {};\n      this.config = {};\n    }\n  }\n  FocusDirective.ɵfac = function FocusDirective_Factory(t) {\n    return new (t || FocusDirective)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(KeyboardFocusService), i0.ɵɵdirectiveInject(i0.Renderer2));\n  };\n  FocusDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: FocusDirective,\n    selectors: [[\"\", \"cxFocus\", \"\"]],\n    inputs: {\n      config: [\"cxFocus\", \"config\"]\n    },\n    features: [i0.ɵɵInheritDefinitionFeature]\n  });\n  return FocusDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2, refer to spartacus issues (#13762)\n */\nconst defaultKeyboardFocusConfig = {\n  keyboardFocus: {\n    enableResetFocusOnNavigate: false,\n    enableResetViewOnNavigate: false\n  }\n};\n\n/**\n * @deprecated since 4.2, refer to spartacus issues (#13762)\n */\nlet KeyboardFocusConfig = /*#__PURE__*/(() => {\n  class KeyboardFocusConfig {}\n  KeyboardFocusConfig.ɵfac = function KeyboardFocusConfig_Factory(t) {\n    return new (t || KeyboardFocusConfig)();\n  };\n  KeyboardFocusConfig.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: KeyboardFocusConfig,\n    factory: function KeyboardFocusConfig_Factory(t) {\n      let r = null;\n      if (t) {\n        r = new (t || KeyboardFocusConfig)();\n      } else {\n        r = i0.ɵɵinject(Config);\n      }\n      return r;\n    },\n    providedIn: 'root'\n  });\n  return KeyboardFocusConfig;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * The `BREAKPOINT` typing defaults to five default screen names:\n * xs, sm, md, lg, xl.\n *\n * The type can be extended to allow for custom screens, such as XLL or `tablet`.\n *\n * While the screen names are fully configurable, other features might have\n * pre-configured layout settings per screen. Page layouts or table configurations,\n * for example, are driven by screen size. In case you change the screen size or\n * introduce new screen names, you might loose out on these configurations.\n */\nvar BREAKPOINT = /*#__PURE__*/(() => {\n  (function (BREAKPOINT) {\n    BREAKPOINT[\"xs\"] = \"xs\";\n    BREAKPOINT[\"sm\"] = \"sm\";\n    BREAKPOINT[\"md\"] = \"md\";\n    BREAKPOINT[\"lg\"] = \"lg\";\n    BREAKPOINT[\"xl\"] = \"xl\";\n  })(BREAKPOINT || (BREAKPOINT = {}));\n  return BREAKPOINT;\n})();\n/**\n * The LayoutConfig supports the configuration of page slots by page templates\n * or page sections, such as headers and footers. The configuration also supports\n * adaptive design per breakpoint (not per device type), so that the DOM is (re)rendered\n * por a given breakpoint.\n */let LayoutConfig = /*#__PURE__*/(() => {\n  class LayoutConfig {}\n  LayoutConfig.ɵfac = function LayoutConfig_Factory(t) {\n    return new (t || LayoutConfig)();\n  };\n  LayoutConfig.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: LayoutConfig,\n    factory: function LayoutConfig_Factory(t) {\n      let r = null;\n      if (t) {\n        r = new (t || LayoutConfig)();\n      } else {\n        r = i0.ɵɵinject(Config);\n      }\n      return r;\n    },\n    providedIn: 'root'\n  });\n  return LayoutConfig;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * The `BreakpointService` resolves the various screen sizes that are used in\n * the storefront. The screen sizes are globally configurable based on your\n * layout requirements. You can adjust the screen sizes by setting the minimum\n * and/or maximum size for a breakpoint, as well as extending the configuration\n * with new screens.\n *\n * By default, the `BreakpointService` is based on the breakpoints from the\n * Bootstrap ui library:\n * - `xs`: < 576px\n * - `sm`: 576px - 767px\n * - `md`: 768px - 991px\n * - `lg`: 992px - 1199px\n * - `xl`: >= 1200px\n */\nlet BreakpointService = /*#__PURE__*/(() => {\n  class BreakpointService {\n    constructor(winRef, layoutConfig, platform) {\n      this.winRef = winRef;\n      this.layoutConfig = layoutConfig;\n      this.platform = platform;\n      this.breakpoint$ = isPlatformBrowser(this.platform) ? this.winRef.resize$.pipe(map(event => this.getBreakpoint(event.target.innerWidth)), distinctUntilChanged()) : of(this.fallbackBreakpoint);\n    }\n    /**\n     * Returns the breakpoints for the storefront layout.\n     *\n     * The breakpoints are driven by the `LayoutConfig.breakpoints` and sorted based on\n     * the given screen size.\n     */\n    get breakpoints() {\n      if (!this._breakpoints) {\n        this._breakpoints = this.resolveBreakpointsFromConfig();\n      }\n      return this._breakpoints;\n    }\n    /**\n     * Returns the _maximum_ size for the breakpoint, given by the `LayoutConfig.breakpoints`\n     * configuration.\n     */\n    getSize(breakpoint) {\n      var _a, _b;\n      return (_a = this.getMaxSize(breakpoint)) !== null && _a !== void 0 ? _a :\n      // if there's no direct max value or explicit max value\n      // we must derive the max value from the previous min\n      this.getMinSize((_b = this.breakpoints) === null || _b === void 0 ? void 0 : _b[this.breakpoints.indexOf(breakpoint) + 1]);\n    }\n    /**\n     * Indicates whether the current screen size is smaller than the maximum size of the\n     * given breakpoint.\n     *\n     * If the given breakpoint is `BREAKPOINT.md`, the method returns `true` when the\n     * window innerWidth is smaller than the configured size of `BREAKPOINT.md`.\n     */\n    isDown(breakpoint) {\n      return this.breakpoint$.pipe(map(br => this.breakpoints.slice(0, this.breakpoints.indexOf(breakpoint) + 1).includes(br)));\n    }\n    /**\n     * Indicates whether the current screen size is larger than the minimum size of the\n     * given breakpoint.\n     *\n     * If the given breakpoint is `BREAKPOINT.md`, the method returns `true` when the\n     * window innerWidth is larger than the configured size of `BREAKPOINT.sm`.\n     */\n    isUp(breakpoint) {\n      return this.breakpoint$.pipe(map(br => this.breakpoints.slice(this.breakpoints.indexOf(breakpoint)).includes(br)));\n    }\n    /**\n     * Indicates whether the given breakpoint fits in the current screen size.\n     */\n    isEqual(breakpoint) {\n      return this.breakpoint$.pipe(map(br => br === breakpoint));\n    }\n    /**\n     * Returns the fallback breakpoint in case no breakpoint can be resolved. This is\n     * typically the case when we're on SSR without an actual window.\n     *\n     * Returns the smallest screen size (mobile first).\n     */\n    get fallbackBreakpoint() {\n      var _a;\n      return (_a = this.breakpoints) === null || _a === void 0 ? void 0 : _a[0];\n    }\n    /**\n     * Resolves the breakpoints and sorts them according to the configured size.\n     *\n     * The sort order is by small to large screens.\n     */\n    resolveBreakpointsFromConfig() {\n      const sortByScreenSize = (next, prev) => {\n        const maxNext = Math.max(this.getMinSize(next) + 1 || 0, this.getMaxSize(next) || 0);\n        const maxPrev = Math.max(this.getMinSize(prev) + 1 || 0, this.getMaxSize(prev) || 0);\n        return maxNext < maxPrev ? -1 : 0;\n      };\n      return Object.keys(this.config).sort(sortByScreenSize);\n    }\n    /**\n     * Returns the _maximum_ size for the breakpoint, given by the\n     * `LayoutConfig.breakpoints` configuration. We will try to resolve the\n     * max size form the current breakpoint, but if this is not available, we\n     * resolve it form the next breakpoint\n     */\n    getMaxSize(breakpoint) {\n      const breakpointConfig = this.config[breakpoint];\n      if (!breakpointConfig) {\n        return null;\n      }\n      // we treat numbers as the max number by default\n      if (typeof breakpointConfig === 'number') {\n        return breakpointConfig;\n      } else if (breakpointConfig.max) {\n        return breakpointConfig.max;\n      } else {\n        return null;\n      }\n    }\n    getMinSize(breakpoint) {\n      var _a;\n      return (_a = this.config[breakpoint]) === null || _a === void 0 ? void 0 : _a.min;\n    }\n    /**\n     * Returns a `BREAKPOINT` for the given window size.\n     *\n     * This method tries to match the closest breakpoint for the given\n     * window size. We'll fallback to the `largest` size in case the window\n     * is greater than the largest configurable breakpoint.\n     *\n     * The windowWidth should be smaller than the maximum size of any of the\n     * screen sizes defined in the `LayoutConfig.breakpoints`.\n     */\n    getBreakpoint(windowWidth) {\n      var _a, _b;\n      return (_a = this.breakpoints.find(br => windowWidth < this.getSize(br))) !== null && _a !== void 0 ? _a : (_b = this.breakpoints) === null || _b === void 0 ? void 0 : _b[this.breakpoints.length - 1];\n    }\n    /**\n     * Helper method to return the breakpoint configuration.\n     */\n    get config() {\n      var _a;\n      return ((_a = this.layoutConfig) === null || _a === void 0 ? void 0 : _a.breakpoints) || {};\n    }\n  }\n  BreakpointService.ɵfac = function BreakpointService_Factory(t) {\n    return new (t || BreakpointService)(i0.ɵɵinject(i1.WindowRef), i0.ɵɵinject(LayoutConfig), i0.ɵɵinject(PLATFORM_ID));\n  };\n  BreakpointService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: BreakpointService,\n    factory: BreakpointService.ɵfac,\n    providedIn: 'root'\n  });\n  return BreakpointService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2, refer to spartacus issues (#13762)\n * Shared service for keyboard focus features called when the browser navigates.\n */\nlet OnNavigateFocusService = /*#__PURE__*/(() => {\n  class OnNavigateFocusService {\n    constructor(config, router, breakpointService, winRef) {\n      this.config = config;\n      this.router = router;\n      this.breakpointService = breakpointService;\n      this.winRef = winRef;\n    }\n    ngOnDestroy() {\n      var _a, _b;\n      (_a = this.resetFocusOnNavigate) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n      (_b = this.resetViewOnNavigate) === null || _b === void 0 ? void 0 : _b.unsubscribe();\n    }\n    /**\n     * Reads configuration and enables features based on flags set.\n     */\n    initializeWithConfig() {\n      var _a, _b, _c, _d;\n      if (!this.winRef.isBrowser()) {\n        return;\n      }\n      if ((_b = (_a = this.config) === null || _a === void 0 ? void 0 : _a.keyboardFocus) === null || _b === void 0 ? void 0 : _b.enableResetFocusOnNavigate) {\n        this.setResetFocusOnNavigate(this.config.keyboardFocus.enableResetFocusOnNavigate);\n      }\n      if ((_d = (_c = this.config) === null || _c === void 0 ? void 0 : _c.keyboardFocus) === null || _d === void 0 ? void 0 : _d.enableResetViewOnNavigate) {\n        this.setResetViewOnNavigate(this.config.keyboardFocus.enableResetViewOnNavigate);\n      }\n    }\n    /**\n     * Resets focus back to body element in the DOM tree when a navigation is started.\n     * @param enable Enable or disable this feature. Set this to an array of BREAKPOINTS to enable for specified screen widths.\n     */\n    setResetFocusOnNavigate(enable) {\n      var _a;\n      (_a = this.resetFocusOnNavigate) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n      if (enable) {\n        this.resetFocusOnNavigate = this.router.events.pipe(filter(event => event instanceof NavigationStart)).subscribe(() => {\n          if (Array.isArray(enable)) {\n            this.breakpointService.breakpoint$.pipe(take(1)).subscribe(breakpoint => {\n              if (enable.includes(breakpoint)) {\n                this.winRef.document.body.focus();\n              }\n            });\n          } else if (typeof enable === 'boolean') {\n            this.winRef.document.body.focus();\n          }\n        });\n      }\n    }\n    /**\n     * Resets view back to body element in the DOM tree when a navigation is started.\n     * @param enable Enable or disable this feature. Set this to an array of BREAKPOINTS to enable for specified screen widths.\n     */\n    setResetViewOnNavigate(enable) {\n      var _a;\n      (_a = this.resetViewOnNavigate) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n      if (enable) {\n        this.resetViewOnNavigate = this.router.events.pipe(filter(event => event instanceof NavigationStart)).subscribe(() => {\n          if (Array.isArray(enable)) {\n            this.breakpointService.breakpoint$.pipe(take(1)).subscribe(breakpoint => {\n              if (enable.includes(breakpoint)) {\n                this.winRef.document.body.scrollIntoView();\n              }\n            });\n          } else if (typeof enable === 'boolean') {\n            this.winRef.document.body.scrollIntoView();\n          }\n        });\n      }\n    }\n  }\n  OnNavigateFocusService.ɵfac = function OnNavigateFocusService_Factory(t) {\n    return new (t || OnNavigateFocusService)(i0.ɵɵinject(KeyboardFocusConfig), i0.ɵɵinject(i1$1.Router), i0.ɵɵinject(BreakpointService), i0.ɵɵinject(i1.WindowRef));\n  };\n  OnNavigateFocusService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: OnNavigateFocusService,\n    factory: OnNavigateFocusService.ɵfac,\n    providedIn: 'root'\n  });\n  return OnNavigateFocusService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst directives = [\n// PersistFocusDirective,\n// VisibleFocusDirective,\n// BlockFocusDirective,\n// AutoFocusDirective,\n// EscapeFocusDirective,\n// LockFocusDirective,\n// TrapFocusDirective,\n// TabFocusDirective,\nFocusDirective];\n/**\n * @deprecated since 4.2, refer to spartacus issues (#13762)\n * Remove the router module as well as it was part of the old initiative for scroll positiioning\n */\nlet KeyboardFocusModule = /*#__PURE__*/(() => {\n  class KeyboardFocusModule {}\n  KeyboardFocusModule.ɵfac = function KeyboardFocusModule_Factory(t) {\n    return new (t || KeyboardFocusModule)();\n  };\n  KeyboardFocusModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: KeyboardFocusModule\n  });\n  KeyboardFocusModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig(defaultKeyboardFocusConfig), {\n      provide: APP_INITIALIZER,\n      useFactory: keyboardFocusFactory,\n      deps: [OnNavigateFocusService],\n      multi: true\n    }],\n    imports: [[CommonModule, ConfigModule.withConfig(defaultKeyboardFocusConfig), RouterModule]]\n  });\n  return KeyboardFocusModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n *  @deprecated since 4.2, refer to spartacus issues (#13762)\n *  Start keyboard focus services on app initialization.\n */\nfunction keyboardFocusFactory(onNavigateFocusService) {\n  const isReady = () => onNavigateFocusService.initializeWithConfig();\n  return isReady;\n}\nlet MockKeyboardFocusDirective = /*#__PURE__*/(() => {\n  class MockKeyboardFocusDirective {\n    constructor() {\n      this.config = {};\n    }\n  }\n  MockKeyboardFocusDirective.ɵfac = function MockKeyboardFocusDirective_Factory(t) {\n    return new (t || MockKeyboardFocusDirective)();\n  };\n  MockKeyboardFocusDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: MockKeyboardFocusDirective,\n    selectors: [[\"\", \"cxFocus\", \"\"]],\n    inputs: {\n      config: [\"cxFocus\", \"config\"]\n    }\n  });\n  return MockKeyboardFocusDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet KeyboardFocusTestingModule = /*#__PURE__*/(() => {\n  class KeyboardFocusTestingModule {}\n  KeyboardFocusTestingModule.ɵfac = function KeyboardFocusTestingModule_Factory(t) {\n    return new (t || KeyboardFocusTestingModule)();\n  };\n  KeyboardFocusTestingModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: KeyboardFocusTestingModule\n  });\n  KeyboardFocusTestingModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return KeyboardFocusTestingModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n// given that we're likely going to refactor the directives, we're\n// export * from './autofocus/index';\n// export * from './base/index';\n// export * from './block/index';\n// export * from './escape/index';\n// export * from './lock/index';\n// export * from './on-navigate/index';\n// export * from './persist/index';\n// export * from './tab/index';\n// export * from './trap/index';\n// export * from './visible/index';\n// export * from './keyboard-focus.model';\n\n/**\n * Types of dialog openings supported\n */\nvar DIALOG_TYPE = /*#__PURE__*/(() => {\n  (function (DIALOG_TYPE) {\n    DIALOG_TYPE[\"POPOVER\"] = \"POPOVER\";\n    DIALOG_TYPE[\"POPOVER_CENTER\"] = \"POPOVER_CENTER\";\n    DIALOG_TYPE[\"POPOVER_CENTER_BACKDROP\"] = \"POPOVER_CENTER_BACKDROP\";\n    DIALOG_TYPE[\"DIALOG\"] = \"DIALOG\";\n    DIALOG_TYPE[\"SIDEBAR_START\"] = \"SIDEBAR_START\";\n    DIALOG_TYPE[\"SIDEBAR_END\"] = \"SIDEBAR_END\";\n  })(DIALOG_TYPE || (DIALOG_TYPE = {}));\n  return DIALOG_TYPE;\n})();\nlet LaunchRenderStrategy = /*#__PURE__*/(() => {\n  let LaunchRenderStrategy = class LaunchRenderStrategy {\n    constructor(document, rendererFactory) {\n      this.document = document;\n      this.rendererFactory = rendererFactory;\n      // List of called references; only used for rendered elements\n      this.renderedCallers = [];\n      /**\n       * Classes to apply to the component when the dialog is a DIALOG\n       */\n      this.dialogClasses = ['d-block', 'fade', 'modal', 'show'];\n      /**\n       * Classes to apply to the component when the dialog is a POPOVER\n       */\n      this.popoverClasses = ['cx-dialog-popover'];\n      /**\n       * Classes to apply to the component when the dialog is a POPOVER_CENTER\n       */\n      this.popoverCenterClasses = ['cx-dialog-popover-center'];\n      /**\n       * Classes to apply to the component when the dialog is a POPOVER_CENTER with a backdrop\n       */\n      this.popoverCenterBackdropClasses = ['cx-dialog-popover-center-backdrop'];\n      /**\n       * Classes to apply to the component when the dialog is a SIDEBAR_END\n       */\n      this.sidebarEndClasses = ['cx-sidebar-end'];\n      /**\n       * Classes to apply to the component when the dialog is a SIDEBAR_START\n       */\n      this.sidebarStartClasses = ['cx-sidebar-start'];\n      this.renderer = rendererFactory.createRenderer(null, null);\n    }\n    /**\n     * Determines if element should render\n     *\n     * @param caller\n     * @param config\n     */\n    shouldRender(caller, config) {\n      return Boolean(config.component) && (this.renderedCallers.some(el => el.caller === caller) ? !!config.multi : true);\n    }\n    applyClasses(component, dialogType) {\n      let classes = [];\n      // TODO: make classes configurable\n      switch (dialogType) {\n        case DIALOG_TYPE.DIALOG:\n          classes = this.dialogClasses;\n          this.renderer.addClass(this.document.body, 'modal-open');\n          break;\n        case DIALOG_TYPE.POPOVER:\n          classes = this.popoverClasses;\n          break;\n        case DIALOG_TYPE.POPOVER_CENTER:\n          classes = this.popoverCenterClasses;\n          break;\n        case DIALOG_TYPE.POPOVER_CENTER_BACKDROP:\n          classes = this.popoverCenterBackdropClasses;\n          break;\n        case DIALOG_TYPE.SIDEBAR_END:\n          classes = this.sidebarEndClasses;\n          break;\n        case DIALOG_TYPE.SIDEBAR_START:\n          classes = this.sidebarStartClasses;\n          break;\n      }\n      for (const newClass of classes) {\n        this.renderer.addClass(component.location.nativeElement, newClass);\n      }\n    }\n    /**\n     * Method to call when rendered element is destroyed\n     * The element will be removed from the list of rendered elements\n     *\n     * @param caller\n     * @param _config optional parameters used in children strategies\n     */\n    remove(caller, config) {\n      var _a;\n      this.renderedCallers = this.renderedCallers.filter(el => el.caller !== caller);\n      if (((_a = config) === null || _a === void 0 ? void 0 : _a.dialogType) === DIALOG_TYPE.DIALOG) {\n        this.renderer.removeClass(this.document.body, 'modal-open');\n      }\n    }\n    getPriority() {\n      return -10 /* LOW */; // low, as it's a default matcher\n    }\n  };\n\n  LaunchRenderStrategy = __decorate([__param(0, Inject(DOCUMENT))], LaunchRenderStrategy);\n  return LaunchRenderStrategy;\n})();\nlet LaunchDialogService = /*#__PURE__*/(() => {\n  class LaunchDialogService {\n    constructor(renderStrategies, layoutConfig) {\n      this.renderStrategies = renderStrategies;\n      this.layoutConfig = layoutConfig;\n      this._dialogClose = new BehaviorSubject(undefined);\n      this._dataSubject = new BehaviorSubject(undefined);\n      this.renderStrategies = this.renderStrategies || [];\n    }\n    get data$() {\n      return this._dataSubject.asObservable();\n    }\n    /**\n     * Open the dialog\n     *\n     * @param caller LAUNCH_CALLER\n     * @param openElement button's Element ref\n     * @param vcr View Container Ref of the container for inline rendering\n     * @param data optional data which could be passed to dialog\n     */\n    openDialog(caller, openElement, vcr, data) {\n      const component = this.launch(caller, vcr, data);\n      if (component) {\n        return combineLatest([component, this.dialogClose]).pipe(filter(([, close]) => close !== undefined), tap(([comp]) => {\n          openElement === null || openElement === void 0 ? void 0 : openElement.nativeElement.focus();\n          this.clear(caller);\n          comp.destroy();\n        }), map(([comp]) => comp));\n      }\n    }\n    /**\n     * Render the element based on the strategy from the launch configuration\n     *\n     * @param caller LAUNCH_CALLER\n     * @param vcr View Container Ref of the container for inline rendering\n     */\n    launch(caller, vcr, data) {\n      const config = this.findConfiguration(caller);\n      if (config) {\n        const renderer = this.getStrategy(config);\n        // Render if the strategy exists\n        if (renderer) {\n          this._dialogClose.next(undefined);\n          this._dataSubject.next(data);\n          return renderer.render(config, caller, vcr);\n        }\n      } else if (isDevMode()) {\n        console.warn('No configuration provided for caller ' + caller);\n      }\n    }\n    /**\n     * Opens dialog and subscribe in the service. Should be used if the trigger component might get destroyed while the component is open.\n     *\n     * @param caller Launch Caller\n     * @param openElement Element to open\n     * @param data Data to provide to the rendered element\n     */\n    openDialogAndSubscribe(caller, openElement, data) {\n      var _a;\n      (_a = this.openDialog(caller, openElement, undefined, data)) === null || _a === void 0 ? void 0 : _a.pipe(take(1)).subscribe();\n    }\n    /**\n     * Util method to remove element from rendered elements list\n     *\n     * @param caller LAUNCH_CALLER\n     */\n    clear(caller) {\n      const config = this.findConfiguration(caller);\n      if (config) {\n        const renderer = this.getStrategy(config);\n        // Render if the strategy exists\n        if (renderer) {\n          renderer.remove(caller, config);\n        }\n      }\n    }\n    get dialogClose() {\n      return this._dialogClose.asObservable();\n    }\n    closeDialog(reason) {\n      this._dialogClose.next(reason);\n    }\n    /**\n     * Returns the configuration for the caller\n     *\n     * @param caller LAUNCH_CALLER\n     */\n    findConfiguration(caller) {\n      var _a;\n      if ((_a = this.layoutConfig) === null || _a === void 0 ? void 0 : _a.launch) {\n        return this.layoutConfig.launch[caller];\n      }\n      return undefined;\n    }\n    /**\n     * Returns the render strategy based on the configuration\n     *\n     * @param config Configuration for launch\n     */\n    getStrategy(config) {\n      return resolveApplicable(this.renderStrategies, [config]);\n    }\n  }\n  LaunchDialogService.ɵfac = function LaunchDialogService_Factory(t) {\n    return new (t || LaunchDialogService)(i0.ɵɵinject(LaunchRenderStrategy), i0.ɵɵinject(LayoutConfig));\n  };\n  LaunchDialogService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: LaunchDialogService,\n    factory: LaunchDialogService.ɵfac,\n    providedIn: 'root'\n  });\n  return LaunchDialogService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AnonymousConsentManagementBannerComponent = /*#__PURE__*/(() => {\n  class AnonymousConsentManagementBannerComponent {\n    constructor(anonymousConsentsService, vcr, launchDialogService) {\n      this.anonymousConsentsService = anonymousConsentsService;\n      this.vcr = vcr;\n      this.launchDialogService = launchDialogService;\n      this.subscriptions = new Subscription();\n      this.bannerVisible$ = this.anonymousConsentsService.isBannerVisible();\n    }\n    viewDetails() {\n      this.hideBanner();\n      const dialog = this.launchDialogService.openDialog(\"ANONYMOUS_CONSENT\" /* ANONYMOUS_CONSENT */, null, this.vcr);\n      if (dialog) {\n        this.subscriptions.add(dialog.subscribe());\n      }\n    }\n    allowAll() {\n      this.subscriptions.add(this.anonymousConsentsService.giveAllConsents().pipe(tap(() => this.hideBanner())).subscribe());\n    }\n    hideBanner() {\n      this.anonymousConsentsService.toggleBannerDismissed(true);\n    }\n    ngOnDestroy() {\n      this.subscriptions.unsubscribe();\n    }\n  }\n  AnonymousConsentManagementBannerComponent.ɵfac = function AnonymousConsentManagementBannerComponent_Factory(t) {\n    return new (t || AnonymousConsentManagementBannerComponent)(i0.ɵɵdirectiveInject(i1.AnonymousConsentsService), i0.ɵɵdirectiveInject(i0.ViewContainerRef), i0.ɵɵdirectiveInject(LaunchDialogService));\n  };\n  AnonymousConsentManagementBannerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: AnonymousConsentManagementBannerComponent,\n    selectors: [[\"cx-anonymous-consent-management-banner\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [1, \"anonymous-consent-banner\", 3, \"ngClass\"], [1, \"container\"], [1, \"row\"], [1, \"col-lg-8\", \"col-xs-12\"], [1, \"cx-banner-title\"], [1, \"cx-banner-description\"], [1, \"col-lg-4\", \"col-xs-12\", \"cx-banner-buttons\"], [1, \"btn\", \"btn-action\", 3, \"click\"], [1, \"btn\", \"btn-primary\", 3, \"click\"]],\n    template: function AnonymousConsentManagementBannerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, AnonymousConsentManagementBannerComponent_ng_container_0_Template, 18, 15, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.bannerVisible$));\n      }\n    },\n    directives: [i3.NgIf, i3.NgClass],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return AnonymousConsentManagementBannerComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet InlineRenderStrategy = /*#__PURE__*/(() => {\n  class InlineRenderStrategy extends LaunchRenderStrategy {\n    constructor(document, rendererFactory, componentFactoryResolver) {\n      super(document, rendererFactory);\n      this.document = document;\n      this.rendererFactory = rendererFactory;\n      this.componentFactoryResolver = componentFactoryResolver;\n    }\n    /**\n     * Renders the component from the configuration in the view container ref\n     *\n     * @param config\n     * @param caller\n     * @param vcr\n     */\n    render(config, caller, vcr) {\n      // Only render if a ViewContainerRef is provided\n      if (vcr && this.shouldRender(caller, config)) {\n        const template = this.componentFactoryResolver.resolveComponentFactory(config.component);\n        const component = vcr.createComponent(template);\n        if (config === null || config === void 0 ? void 0 : config.dialogType) {\n          this.applyClasses(component, config === null || config === void 0 ? void 0 : config.dialogType);\n        }\n        this.renderedCallers.push({\n          caller,\n          element: vcr.element,\n          component\n        });\n        return of(component);\n      } else if (isDevMode()) {\n        if (!vcr) {\n          console.warn(`No view container ref provided for ${caller}`);\n        } else {\n          console.warn(`Element for ${caller} already rendered. To allow multi rendering add property multi: true.`);\n        }\n      }\n    }\n    hasMatch(config) {\n      return Boolean(config.inline);\n    }\n  }\n  InlineRenderStrategy.ɵfac = function InlineRenderStrategy_Factory(t) {\n    return new (t || InlineRenderStrategy)(i0.ɵɵinject(DOCUMENT), i0.ɵɵinject(i0.RendererFactory2), i0.ɵɵinject(i0.ComponentFactoryResolver));\n  };\n  InlineRenderStrategy.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: InlineRenderStrategy,\n    factory: InlineRenderStrategy.ɵfac,\n    providedIn: 'root'\n  });\n  return InlineRenderStrategy;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet InlineRootRenderStrategy = /*#__PURE__*/(() => {\n  class InlineRootRenderStrategy extends LaunchRenderStrategy {\n    constructor(document, rendererFactory, componentFactoryResolver, injector) {\n      super(document, rendererFactory);\n      this.document = document;\n      this.rendererFactory = rendererFactory;\n      this.componentFactoryResolver = componentFactoryResolver;\n      this.injector = injector;\n    }\n    get hostComponent() {\n      var _a, _b;\n      return (_b = (_a = this.injector.get(ApplicationRef)) === null || _a === void 0 ? void 0 : _a.components) === null || _b === void 0 ? void 0 : _b[0];\n    }\n    render(config, caller) {\n      var _a, _b;\n      if (this.shouldRender(caller, config)) {\n        const componentFactory = this.componentFactoryResolver.resolveComponentFactory(config.component);\n        const contentInjector = Injector.create({\n          providers: []\n        });\n        const componentRef = componentFactory.create(contentInjector);\n        (_a = this.injector.get(ApplicationRef)) === null || _a === void 0 ? void 0 : _a.attachView(componentRef.hostView);\n        this.renderer.appendChild((_b = this.hostComponent) === null || _b === void 0 ? void 0 : _b.location.nativeElement, componentRef.location.nativeElement);\n        if (config === null || config === void 0 ? void 0 : config.dialogType) {\n          this.applyClasses(componentRef, config === null || config === void 0 ? void 0 : config.dialogType);\n        }\n        this.renderedCallers.push({\n          caller,\n          component: componentRef\n        });\n        return of(componentRef);\n      }\n    }\n    hasMatch(config) {\n      return Boolean(config.inlineRoot);\n    }\n  }\n  InlineRootRenderStrategy.ɵfac = function InlineRootRenderStrategy_Factory(t) {\n    return new (t || InlineRootRenderStrategy)(i0.ɵɵinject(DOCUMENT), i0.ɵɵinject(i0.RendererFactory2), i0.ɵɵinject(i0.ComponentFactoryResolver), i0.ɵɵinject(i0.Injector));\n  };\n  InlineRootRenderStrategy.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: InlineRootRenderStrategy,\n    factory: InlineRootRenderStrategy.ɵfac,\n    providedIn: 'root'\n  });\n  return InlineRootRenderStrategy;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nvar OutletPosition = /*#__PURE__*/(() => {\n  (function (OutletPosition) {\n    OutletPosition[\"REPLACE\"] = \"replace\";\n    OutletPosition[\"BEFORE\"] = \"before\";\n    OutletPosition[\"AFTER\"] = \"after\";\n  })(OutletPosition || (OutletPosition = {}));\n  return OutletPosition;\n})();\nconst AVOID_STACKED_OUTLETS = false;\nconst USE_STACKED_OUTLETS = true;\n/**\n * Token for injecting outlet related context to the component rendered in the outlet\n */\nclass OutletContextData {}\nlet OutletService = /*#__PURE__*/(() => {\n  class OutletService {\n    constructor() {\n      this.templatesRefs = {\n        [OutletPosition.BEFORE]: new Map(),\n        [OutletPosition.REPLACE]: new Map(),\n        [OutletPosition.AFTER]: new Map()\n      };\n    }\n    /**\n     * @param templateOrFactory A `ComponentFactory` that inserts a component dynamically.\n     */\n    add(outlet, templateOrFactory, position = OutletPosition.REPLACE) {\n      const store = this.templatesRefs[position];\n      if (store) {\n        const existing = store.get(outlet) || [];\n        const newValue = existing.concat([templateOrFactory]);\n        store.set(outlet, newValue);\n      }\n    }\n    /**\n     *\n     * Returns a single object or multiple objects for the given outlet reference,\n     * depending on the `stacked` argument.\n     *\n     * @param outlet The outlet reference\n     * @param position the outlet position, `OutletPosition.before`, `OutletPosition.AFTER` or `OutletPosition.REPLACE`\n     * @param stacked Indicates whether an array of outlet components is returned\n     */\n    get(outlet, position = OutletPosition.REPLACE, stacked = AVOID_STACKED_OUTLETS) {\n      const store = this.templatesRefs[position] || this.templatesRefs[OutletPosition.REPLACE];\n      const templateRef = store.get(outlet);\n      if (templateRef && !stacked) {\n        return templateRef[0];\n      }\n      return templateRef;\n    }\n    remove(outlet, position = OutletPosition.REPLACE, value) {\n      const store = this.templatesRefs[position] || this.templatesRefs[OutletPosition.REPLACE];\n      this.removeValueOrAll(store, outlet, value);\n    }\n    removeValueOrAll(store, outlet, value) {\n      if (!value && store.has(outlet)) {\n        store.delete(outlet);\n      } else if (value && store.has(outlet)) {\n        let existing = store.get(outlet);\n        existing = existing.filter(val => val !== value);\n        store.set(outlet, existing);\n      }\n    }\n  }\n  OutletService.ɵfac = function OutletService_Factory(t) {\n    return new (t || OutletService)();\n  };\n  OutletService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: OutletService,\n    factory: OutletService.ɵfac,\n    providedIn: 'root'\n  });\n  return OutletService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet OutletRefDirective = /*#__PURE__*/(() => {\n  class OutletRefDirective {\n    constructor(tpl, outletService) {\n      this.tpl = tpl;\n      this.outletService = outletService;\n    }\n    ngOnInit() {\n      this.outletService.add(this.cxOutletRef, this.tpl, this.cxOutletPos);\n    }\n    ngOnDestroy() {\n      this.outletService.remove(this.cxOutletRef, this.cxOutletPos, this.tpl);\n    }\n  }\n  OutletRefDirective.ɵfac = function OutletRefDirective_Factory(t) {\n    return new (t || OutletRefDirective)(i0.ɵɵdirectiveInject(i0.TemplateRef), i0.ɵɵdirectiveInject(OutletService));\n  };\n  OutletRefDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: OutletRefDirective,\n    selectors: [[\"\", \"cxOutletRef\", \"\"]],\n    inputs: {\n      cxOutletRef: \"cxOutletRef\",\n      cxOutletPos: \"cxOutletPos\"\n    }\n  });\n  return OutletRefDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet OutletRefModule = /*#__PURE__*/(() => {\n  class OutletRefModule {}\n  OutletRefModule.ɵfac = function OutletRefModule_Factory(t) {\n    return new (t || OutletRefModule)();\n  };\n  OutletRefModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: OutletRefModule\n  });\n  OutletRefModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule]]\n  });\n  return OutletRefModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet OutletRendererService = /*#__PURE__*/(() => {\n  class OutletRendererService {\n    constructor() {\n      this.outletRefs = new BehaviorSubject(new Map());\n    }\n    /**\n     * Dynamically render the templates in the specified array\n     *\n     * @param outlet\n     */\n    render(outlet) {\n      if (this.outletRefs.value.size !== 0) {\n        this.outletRefs.value.get(outlet).render();\n      }\n    }\n    /**\n     * Register outlet to be available to render dynamically\n     *\n     * @param cxOutlet\n     * @param context\n     */\n    register(cxOutlet, context) {\n      this.outletRefs.next(this.outletRefs.value.set(cxOutlet, context));\n    }\n    /**\n     * Returns map of outlets\n     *\n     */\n    getOutletRef(outlet) {\n      return this.outletRefs.asObservable().pipe(map(val => val.get(outlet)), filter(isNotNullable));\n    }\n  }\n  OutletRendererService.ɵfac = function OutletRendererService_Factory(t) {\n    return new (t || OutletRendererService)();\n  };\n  OutletRendererService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: OutletRendererService,\n    factory: OutletRendererService.ɵfac,\n    providedIn: 'root'\n  });\n  return OutletRendererService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * The IntersectionService uses the native IntersectionObserver (v2), which\n * can be used to implement pre-loading and deferred loading of DOM content.\n *\n */\nlet IntersectionService = /*#__PURE__*/(() => {\n  class IntersectionService {\n    constructor(config) {\n      this.config = config;\n    }\n    /**\n     * Returns an Observable that emits only once a boolean value whenever\n     * the given element has shown in the view port.\n     *\n     * The returned observable will only emit the first value. The\n     * observable must be cleaned up either way, since the value might never emit; it\n     *  depends on whether the element appears in the view port.\n     */\n    isIntersected(element, options) {\n      return this.intersects(element, options).pipe(first(v => v === true));\n    }\n    /**\n     * Indicates whenever the element intersects the view port. An optional margin\n     * is used to intersects before the element shows up in the viewport.\n     * A value is emitted each time the element intersects.\n     *\n     * This is private for now, but could be exposed as a public API\n     * to introduce additional (css) render effects to the UI.\n     */\n    intersects(element, options = {}) {\n      const elementVisible$ = new Observable(observer => {\n        const rootMargin = this.getRootMargin(options);\n        const intersectOptions = {\n          rootMargin,\n          threshold: options.threshold\n        };\n        const intersectionObserver = new IntersectionObserver(entries => {\n          observer.next(entries);\n        }, intersectOptions);\n        intersectionObserver.observe(element);\n        return () => {\n          intersectionObserver.disconnect();\n        };\n      }).pipe(flatMap(entries => entries), map(entry => entry.isIntersecting), distinctUntilChanged());\n      return elementVisible$;\n    }\n    getRootMargin(options = {}) {\n      if (options.rootMargin) {\n        return options.rootMargin;\n      }\n      const layoutConfig = this.config;\n      if (layoutConfig.deferredLoading && layoutConfig.deferredLoading.intersectionMargin) {\n        return layoutConfig.deferredLoading.intersectionMargin;\n      }\n    }\n  }\n  IntersectionService.ɵfac = function IntersectionService_Factory(t) {\n    return new (t || IntersectionService)(i0.ɵɵinject(LayoutConfig));\n  };\n  IntersectionService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: IntersectionService,\n    factory: IntersectionService.ɵfac,\n    providedIn: 'root'\n  });\n  return IntersectionService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * The defer loading serivce is used to defer loading of DOM elements\n * until the elements are required for the user experience.\n */\nlet DeferLoaderService = /*#__PURE__*/(() => {\n  class DeferLoaderService {\n    constructor(platformId, config, intersectionService) {\n      this.platformId = platformId;\n      this.config = config;\n      this.intersectionService = intersectionService;\n      this.globalLoadStrategy = config.deferredLoading ? config.deferredLoading.strategy : DeferLoadingStrategy.INSTANT;\n    }\n    /**\n     * Defer loading till the element intersects the viewport.\n     *\n     * We evaluate whether we instantly load the element for different reasons:\n     * - we run in SSR mode\n     * - there's no global strategy given\n     * - the global loading strategy is set to INSTANT loading,\n     *   and the loading strategy in the given is not set to DEFER\n     * - the loading strategy in the given options is set to INSTANT\n     */\n    load(element, options) {\n      if (this.shouldLoadInstantly((options || {}).deferLoading)) {\n        return of(true);\n      } else {\n        return this.intersectionService.isIntersected(element, options);\n      }\n    }\n    shouldLoadInstantly(elementLoadingStrategy) {\n      return isPlatformServer(this.platformId) || elementLoadingStrategy === DeferLoadingStrategy.INSTANT || elementLoadingStrategy !== DeferLoadingStrategy.DEFER && this.globalLoadStrategy === DeferLoadingStrategy.INSTANT;\n    }\n  }\n  DeferLoaderService.ɵfac = function DeferLoaderService_Factory(t) {\n    return new (t || DeferLoaderService)(i0.ɵɵinject(PLATFORM_ID), i0.ɵɵinject(LayoutConfig), i0.ɵɵinject(IntersectionService));\n  };\n  DeferLoaderService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: DeferLoaderService,\n    factory: DeferLoaderService.ɵfac,\n    providedIn: 'root'\n  });\n  return DeferLoaderService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet OutletDirective = /*#__PURE__*/(() => {\n  class OutletDirective {\n    constructor(vcr, templateRef, outletService, deferLoaderService, outletRendererService) {\n      this.vcr = vcr;\n      this.templateRef = templateRef;\n      this.outletService = outletService;\n      this.deferLoaderService = deferLoaderService;\n      this.outletRendererService = outletRendererService;\n      this.renderedTemplate = [];\n      this.renderedComponents = new Map();\n      /**\n       * Observable with current outlet context\n       */\n      this.outletContext$ = new ReplaySubject(1);\n      this.loaded = new EventEmitter(true);\n      this.subscription = new Subscription();\n    }\n    /**\n     * Renders view for outlet or defers it, depending on the input `cxOutletDefer`\n     */\n    render() {\n      this.vcr.clear();\n      this.renderedTemplate = [];\n      this.renderedComponents.clear();\n      this.subscription.unsubscribe();\n      this.subscription = new Subscription();\n      if (this.cxOutletDefer) {\n        this.deferLoading();\n      } else {\n        this.build();\n      }\n    }\n    ngOnChanges(changes) {\n      if (changes.cxOutlet) {\n        this.render();\n        this.outletRendererService.register(this.cxOutlet, this);\n      }\n      if (changes.cxOutletContext) {\n        this.outletContext$.next(this.cxOutletContext);\n      }\n    }\n    deferLoading() {\n      this.loaded.emit(false);\n      const hostElement = this.getHostElement(this.vcr.element.nativeElement);\n      // Although the deferLoaderService might emit only once, as long as the hostElement\n      // isn't being loaded, there's no value being emitted. Therefore we need to clean up\n      // the subscription on destroy.\n      this.subscription.add(this.deferLoaderService.load(hostElement, this.cxOutletDefer).subscribe(() => {\n        this.build();\n        this.loaded.emit(true);\n      }));\n    }\n    /**\n     * Renders view for outlet\n     */\n    build() {\n      this.buildOutlet(OutletPosition.BEFORE);\n      this.buildOutlet(OutletPosition.REPLACE);\n      this.buildOutlet(OutletPosition.AFTER);\n    }\n    /**\n     * Renders view in a given position for outlet\n     */\n    buildOutlet(position) {\n      let templates = this.outletService.get(this.cxOutlet, position, USE_STACKED_OUTLETS);\n      templates = templates === null || templates === void 0 ? void 0 : templates.filter(el => !this.renderedTemplate.includes(el));\n      if (!templates && position === OutletPosition.REPLACE) {\n        templates = [this.templateRef];\n      }\n      // Just in case someone extended the `OutletService` and\n      // returns a singular object.\n      if (!Array.isArray(templates)) {\n        templates = [templates];\n      }\n      const components = [];\n      templates.forEach(obj => {\n        const component = this.create(obj, position);\n        components.push(component);\n      });\n      this.renderedComponents.set(position, components);\n    }\n    /**\n     * Renders view based on the given template or component factory\n     */\n    create(tmplOrFactory, position) {\n      this.renderedTemplate.push(tmplOrFactory);\n      if (tmplOrFactory instanceof ComponentFactory) {\n        const component = this.vcr.createComponent(tmplOrFactory, undefined, this.getComponentInjector(position));\n        return component;\n      } else if (tmplOrFactory instanceof TemplateRef) {\n        const view = this.vcr.createEmbeddedView(tmplOrFactory, {\n          $implicit: this.cxOutletContext\n        });\n        // we do not know if content is created dynamically or not\n        // so we apply change detection anyway\n        view.markForCheck();\n        return view;\n      }\n    }\n    /**\n     * Returns injector with OutletContextData that can be injected to the component\n     * rendered in the outlet\n     */\n    getComponentInjector(position) {\n      const contextData = {\n        reference: this.cxOutlet,\n        position,\n        context: this.cxOutletContext,\n        context$: this.outletContext$.asObservable()\n      };\n      return Injector.create({\n        providers: [{\n          provide: OutletContextData,\n          useValue: contextData\n        }],\n        parent: this.vcr.injector\n      });\n    }\n    /**\n     * Returns the closest `HtmlElement`, by iterating over the\n     * parent nodes of the given element.\n     *\n     * We avoid traversing the parent _elements_, as this is blocking\n     * ie11 implementations. One of the spare exclusions we make to not\n     * supporting ie11.\n     *\n     * @param element\n     */\n    getHostElement(element) {\n      if (element instanceof HTMLElement) {\n        return element;\n      }\n      return this.getHostElement(element.parentNode);\n    }\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n      this.outletContext$.complete();\n    }\n  }\n  OutletDirective.ɵfac = function OutletDirective_Factory(t) {\n    return new (t || OutletDirective)(i0.ɵɵdirectiveInject(i0.ViewContainerRef), i0.ɵɵdirectiveInject(i0.TemplateRef), i0.ɵɵdirectiveInject(OutletService), i0.ɵɵdirectiveInject(DeferLoaderService), i0.ɵɵdirectiveInject(OutletRendererService));\n  };\n  OutletDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: OutletDirective,\n    selectors: [[\"\", \"cxOutlet\", \"\"]],\n    inputs: {\n      cxOutlet: \"cxOutlet\",\n      cxOutletContext: \"cxOutletContext\",\n      cxOutletDefer: \"cxOutletDefer\"\n    },\n    outputs: {\n      loaded: \"loaded\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature]\n  });\n  return OutletDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @private We plan to drive the outlets by standard configuration\n */\nconst PROVIDE_OUTLET_OPTIONS = new InjectionToken('PROVIDE_OUTLET_OPTIONS');\n/**\n * Helper function to register a component for an outlet.\n *\n * @param options.id unique id of the outlet\n * @param options.component Component to be registered for the outlet\n * @param options.position Component's position in the outlet (default: `OutletPosition.AFTER`)\n */\nfunction provideOutlet(options) {\n  return {\n    provide: PROVIDE_OUTLET_OPTIONS,\n    useValue: options,\n    multi: true\n  };\n}\n\n/**\n * @private\n */\nfunction registerOutletsFactory(providedOutletOptions, componentFactoryResolver, outletService) {\n  const result = () => {\n    (providedOutletOptions !== null && providedOutletOptions !== void 0 ? providedOutletOptions : []).forEach(options => {\n      var _a;\n      const factory = componentFactoryResolver.resolveComponentFactory(options.component);\n      outletService.add(options.id, factory, (_a = options.position) !== null && _a !== void 0 ? _a : OutletPosition.AFTER);\n    });\n  };\n  return result;\n}\nlet OutletModule = /*#__PURE__*/(() => {\n  class OutletModule {\n    static forRoot() {\n      return {\n        ngModule: OutletModule,\n        providers: [{\n          provide: APP_INITIALIZER,\n          useFactory: registerOutletsFactory,\n          deps: [[new Optional(), PROVIDE_OUTLET_OPTIONS], ComponentFactoryResolver, OutletService],\n          multi: true\n        }]\n      };\n    }\n  }\n  OutletModule.ɵfac = function OutletModule_Factory(t) {\n    return new (t || OutletModule)();\n  };\n  OutletModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: OutletModule\n  });\n  OutletModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule]]\n  });\n  return OutletModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet OutletRenderStrategy = /*#__PURE__*/(() => {\n  class OutletRenderStrategy extends LaunchRenderStrategy {\n    constructor(document, rendererFactory, outletService, componentFactoryResolver, outletRendererService) {\n      super(document, rendererFactory);\n      this.document = document;\n      this.rendererFactory = rendererFactory;\n      this.outletService = outletService;\n      this.componentFactoryResolver = componentFactoryResolver;\n      this.outletRendererService = outletRendererService;\n    }\n    /**\n     * Renders the element in the configured outlet\n     *\n     * @param config\n     * @param caller\n     * @param vcr\n     */\n    render(config, caller) {\n      if (this.shouldRender(caller, config)) {\n        const template = this.componentFactoryResolver.resolveComponentFactory(config.component);\n        this.outletService.add(config.outlet, template, config.position ? config.position : OutletPosition.BEFORE);\n        this.outletRendererService.render(config.outlet);\n        this.renderedCallers.push({\n          caller\n        });\n        return this.outletRendererService.getOutletRef(config.outlet).pipe(map(outletDirective => {\n          const components = outletDirective.renderedComponents.get(config.position ? config.position : OutletPosition.BEFORE);\n          return components.reverse().find(component => component.componentType === template.componentType);\n        }), tap(component => {\n          if ((config === null || config === void 0 ? void 0 : config.dialogType) && component) {\n            this.applyClasses(component, config === null || config === void 0 ? void 0 : config.dialogType);\n          }\n        }));\n      }\n    }\n    hasMatch(config) {\n      return Boolean(config.outlet);\n    }\n    remove(caller, config) {\n      const template = this.componentFactoryResolver.resolveComponentFactory(config.component);\n      this.outletService.remove(config.outlet, config.position ? config.position : OutletPosition.BEFORE, template);\n      super.remove(caller, config);\n    }\n  }\n  OutletRenderStrategy.ɵfac = function OutletRenderStrategy_Factory(t) {\n    return new (t || OutletRenderStrategy)(i0.ɵɵinject(DOCUMENT), i0.ɵɵinject(i0.RendererFactory2), i0.ɵɵinject(OutletService), i0.ɵɵinject(i0.ComponentFactoryResolver), i0.ɵɵinject(OutletRendererService));\n  };\n  OutletRenderStrategy.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: OutletRenderStrategy,\n    factory: OutletRenderStrategy.ɵfac,\n    providedIn: 'root'\n  });\n  return OutletRenderStrategy;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet RoutingRenderStrategy = /*#__PURE__*/(() => {\n  class RoutingRenderStrategy extends LaunchRenderStrategy {\n    constructor(document, rendererFactory, routingService) {\n      super(document, rendererFactory);\n      this.document = document;\n      this.rendererFactory = rendererFactory;\n      this.routingService = routingService;\n    }\n    /**\n     * Navigates to the route configured for the caller\n     */\n    render(config, _caller) {\n      this.routingService.go(config);\n    }\n    hasMatch(config) {\n      return Boolean(config.cxRoute);\n    }\n  }\n  RoutingRenderStrategy.ɵfac = function RoutingRenderStrategy_Factory(t) {\n    return new (t || RoutingRenderStrategy)(i0.ɵɵinject(DOCUMENT), i0.ɵɵinject(i0.RendererFactory2), i0.ɵɵinject(i1.RoutingService));\n  };\n  RoutingRenderStrategy.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: RoutingRenderStrategy,\n    factory: RoutingRenderStrategy.ɵfac,\n    providedIn: 'root'\n  });\n  return RoutingRenderStrategy;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet LaunchDialogModule = /*#__PURE__*/(() => {\n  class LaunchDialogModule {\n    static forRoot() {\n      return {\n        ngModule: LaunchDialogModule,\n        providers: [{\n          provide: LayoutConfig,\n          useExisting: Config\n        }]\n      };\n    }\n  }\n  LaunchDialogModule.ɵfac = function LaunchDialogModule_Factory(t) {\n    return new (t || LaunchDialogModule)();\n  };\n  LaunchDialogModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: LaunchDialogModule\n  });\n  LaunchDialogModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [{\n      provide: LaunchRenderStrategy,\n      useExisting: OutletRenderStrategy,\n      multi: true\n    }, {\n      provide: LaunchRenderStrategy,\n      useExisting: InlineRenderStrategy,\n      multi: true\n    }, {\n      provide: LaunchRenderStrategy,\n      useExisting: RoutingRenderStrategy,\n      multi: true\n    }, {\n      provide: LaunchRenderStrategy,\n      useExisting: InlineRootRenderStrategy,\n      multi: true\n    }]\n  });\n  return LaunchDialogModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nvar ICON_TYPE = /*#__PURE__*/(() => {\n  (function (ICON_TYPE) {\n    ICON_TYPE[\"STAR\"] = \"STAR\";\n    ICON_TYPE[\"SEARCH\"] = \"SEARCH\";\n    ICON_TYPE[\"CART\"] = \"CART\";\n    ICON_TYPE[\"INFO\"] = \"INFO\";\n    ICON_TYPE[\"GRID\"] = \"GRID\";\n    ICON_TYPE[\"LIST\"] = \"LIST\";\n    ICON_TYPE[\"CARET_DOWN\"] = \"CARET_DOWN\";\n    ICON_TYPE[\"CARET_UP\"] = \"CARET_UP\";\n    ICON_TYPE[\"CARET_LEFT\"] = \"CARET_LEFT\";\n    ICON_TYPE[\"CARET_RIGHT\"] = \"CARET_RIGHT\";\n    ICON_TYPE[\"CLOSE\"] = \"CLOSE\";\n    ICON_TYPE[\"ERROR\"] = \"ERROR\";\n    ICON_TYPE[\"WARNING\"] = \"WARNING\";\n    ICON_TYPE[\"SUCCESS\"] = \"SUCCESS\";\n    ICON_TYPE[\"VISA\"] = \"VISA\";\n    ICON_TYPE[\"MASTER_CARD\"] = \"MASTER_CARD\";\n    ICON_TYPE[\"AMEX\"] = \"AMEX\";\n    ICON_TYPE[\"DINERS_CLUB\"] = \"DINERS_CLUB\";\n    ICON_TYPE[\"CREDIT_CARD\"] = \"CREDIT_CARD\";\n    ICON_TYPE[\"EXPAND\"] = \"EXPAND\";\n    ICON_TYPE[\"COLLAPSE\"] = \"COLLAPSE\";\n    ICON_TYPE[\"RESET\"] = \"RESET\";\n    ICON_TYPE[\"CIRCLE\"] = \"CIRCLE\";\n    ICON_TYPE[\"HEART\"] = \"HEART\";\n    ICON_TYPE[\"EMPTY_HEART\"] = \"EMPTY_HEART\";\n    ICON_TYPE[\"FILTER\"] = \"FILTER\";\n    ICON_TYPE[\"PENCIL\"] = \"PENCIL\";\n    ICON_TYPE[\"CLOCK\"] = \"CLOCK\";\n    ICON_TYPE[\"TRASH\"] = \"TRASH\";\n    ICON_TYPE[\"ACTIVE\"] = \"ACTIVE\";\n    ICON_TYPE[\"SORT_DOWN\"] = \"SORT_DOWN\";\n    ICON_TYPE[\"SORT\"] = \"SORT\";\n    ICON_TYPE[\"ON\"] = \"ON\";\n    ICON_TYPE[\"OFF\"] = \"OFF\";\n    ICON_TYPE[\"LINK_OUT\"] = \"LINK_OUT\";\n    ICON_TYPE[\"EXPAND_ARROWS\"] = \"EXPAND_ARROWS\";\n  })(ICON_TYPE || (ICON_TYPE = {}));\n  return ICON_TYPE;\n})();\nlet IconConfig = /*#__PURE__*/(() => {\n  class IconConfig {}\n  IconConfig.ɵfac = function IconConfig_Factory(t) {\n    return new (t || IconConfig)();\n  };\n  IconConfig.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: IconConfig,\n    factory: function IconConfig_Factory(t) {\n      let r = null;\n      if (t) {\n        r = new (t || IconConfig)();\n      } else {\n        r = i0.ɵɵinject(Config);\n      }\n      return r;\n    },\n    providedIn: 'root'\n  });\n  return IconConfig;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Each ICON type can have an companied resource type, such as SVG, LINK (font) or just TEXT.\n * The resources will be automatically loaded in case they're required for the `ICON_TYPE`.\n */\nvar IconResourceType = /*#__PURE__*/(() => {\n  (function (IconResourceType) {\n    /**\n     * An svg based icon requires an SVG resource that must be loaded,\n     * this is typically a sprite svg file.\n     */\n    IconResourceType[\"SVG\"] = \"svg\";\n    /**\n     * A font based ICON might require an additional CSS file to be loaded.\n     */\n    IconResourceType[\"LINK\"] = \"link\";\n    /**\n     * Text based icons will simply add the ICON string to the DOM. Text icons do not need an image\n     * or CSS pseudo class (i.e. :before), as the text itself is the icon (i.e. +)\n     */\n    IconResourceType[\"TEXT\"] = \"text\";\n  })(IconResourceType || (IconResourceType = {}));\n  return IconResourceType;\n})();\nconst fontawesomeIconConfig = {\n  icon: {\n    symbols: {\n      SEARCH: 'fas fa-search',\n      CART: 'fas fa-shopping-cart',\n      INFO: 'fas fa-info-circle',\n      STAR: 'fas fa-star',\n      GRID: 'fas fa-th-large',\n      LIST: 'fas fa-bars',\n      CARET_UP: 'fas fa-angle-up',\n      CARET_DOWN: 'fas fa-angle-down',\n      CARET_RIGHT: 'fas fa-angle-right',\n      CARET_LEFT: 'fas fa-angle-left',\n      ERROR: 'fas fa-exclamation-circle',\n      WARNING: 'fas fa-exclamation-triangle',\n      SUCCESS: 'fas fa-check-circle',\n      CLOSE: 'fas fa-times',\n      VISA: 'fab fa-cc-visa',\n      MASTER_CARD: 'fab fa-cc-mastercard',\n      AMEX: 'fab fa-cc-amex',\n      DINERS_CLUB: 'fab fa-cc-diners-club',\n      CREDIT_CARD: 'fas fa-credit-card',\n      COLLAPSE: 'fas fa-minus',\n      EXPAND: 'fas fa-plus',\n      RESET: 'fas fa-times-circle',\n      CIRCLE: 'fas fa-circle',\n      HEART: 'fas fa-heart',\n      EMPTY_HEART: 'far fa-heart',\n      FILTER: 'fas fa-filter',\n      PENCIL: 'fas fa-pencil-alt',\n      CLOCK: 'far fa-clock',\n      TRASH: 'fas fa-trash',\n      ACTIVE: 'fas fa-check',\n      ON: 'fas fa-toggle-on',\n      OFF: 'fas fa-toggle-off',\n      LINK_OUT: 'fas fa-external-link-alt',\n      SORT_DOWN: 'fas fa-sort-down',\n      SORT: 'fas fa-sort',\n      EXPAND_ARROWS: 'fas fa-expand'\n    },\n    resources: [{\n      type: IconResourceType.LINK,\n      url: 'https://use.fontawesome.com/releases/v5.8.1/css/all.css'\n    }]\n  }\n};\nlet IconLoaderService = /*#__PURE__*/(() => {\n  class IconLoaderService {\n    constructor(winRef, iconConfig, sanitizer) {\n      this.winRef = winRef;\n      this.iconConfig = iconConfig;\n      this.sanitizer = sanitizer;\n      this.loadedResources = [];\n    }\n    /**\n     * Returns an html fragment which can be added to the DOM in a safe way.\n     */\n    getHtml(type) {\n      if (this.isResourceType(type, IconResourceType.SVG)) {\n        return this.sanitizer.bypassSecurityTrustHtml(`<svg><use xlink:href=\"${this.getSvgPath(type)}\"></use></svg>`);\n      }\n      if (this.isResourceType(type, IconResourceType.TEXT)) {\n        return this.sanitizer.bypassSecurityTrustHtml(this.getSymbol(type));\n      }\n    }\n    /**\n     * Return the direction for which the icon should mirror (ltr vs rtl). The icon direction\n     * is configurable, but optional, as only a few icons should be flipped for rtl direction.\n     */\n    getFlipDirection(type) {\n      var _a, _b;\n      return (_b = (_a = this.config) === null || _a === void 0 ? void 0 : _a.flipDirection) === null || _b === void 0 ? void 0 : _b[type];\n    }\n    /**\n     *\n     * Returns the symbol class(es) for the icon type.\n     */\n    getStyleClasses(iconType) {\n      return this.getSymbol(iconType) || '';\n    }\n    /**\n     * Indicates whether the given `ICON_TYPE` is configured for\n     * the given `IconResourceType`.\n     */\n    isResourceType(iconType, resourceType) {\n      return this.config.resources && !!this.config.resources.find(res => res.types && res.type === resourceType && res.types.includes(iconType));\n    }\n    /**\n     * Returns the path to the svg link. The link supports path names\n     * as well, if the config a[[s been setup to support a svg file path.\n     * Additionally, the icon prefix will be taken into account to prefix the\n     * icon IDs in the SVG.\n     */\n    getSvgPath(iconType) {\n      const svgResource = this.config.resources.find(res => res.type === IconResourceType.SVG && res.types && res.types.includes(iconType));\n      if (svgResource) {\n        return svgResource.url ? `${svgResource.url}#${this.getSymbol(iconType)}` : `#${this.getSymbol(iconType)}`;\n      }\n    }\n    /**\n     * Loads the resource url (if any) for the given icon.\n     * The icon will only be loaded once.\n     *\n     * NOTE: this is not working when the shadow is used as there's\n     * no head element available and the link must be loaded for every\n     * web component.\n     */\n    addLinkResource(iconType) {\n      const resource = this.findResource(iconType, IconResourceType.LINK);\n      if (resource && resource.url && !this.loadedResources.includes(resource.url)) {\n        this.loadedResources.push(resource.url);\n        const head = this.winRef.document.getElementsByTagName('head')[0];\n        const link = this.winRef.document.createElement('link');\n        link.rel = 'stylesheet';\n        link.type = 'text/css';\n        link.href = resource.url;\n        head.appendChild(link);\n      }\n    }\n    findResource(iconType, resourceType) {\n      if (!this.config.resources) {\n        return;\n      }\n      let resource = this.config.resources.find(res => res.type === resourceType && res.types && res.types.includes(iconType));\n      // no specific resource found, let's try to find a one-size-fits-all resource\n      if (!resource) {\n        resource = this.config.resources.find(res => res.type === resourceType && !res.types || res.types === []);\n      }\n      return resource;\n    }\n    getSymbol(iconType) {\n      if (this.config && this.config.symbols && this.config.symbols[iconType]) {\n        return this.config.symbols[iconType];\n      }\n    }\n    get config() {\n      return this.iconConfig.icon;\n    }\n  }\n  IconLoaderService.ɵfac = function IconLoaderService_Factory(t) {\n    return new (t || IconLoaderService)(i0.ɵɵinject(i1.WindowRef), i0.ɵɵinject(IconConfig), i0.ɵɵinject(i1$2.DomSanitizer));\n  };\n  IconLoaderService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: IconLoaderService,\n    factory: IconLoaderService.ɵfac,\n    providedIn: 'root'\n  });\n  return IconLoaderService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * The ltr and rtl directions can be used to configure the storefront for a certain direction, both statically\n * or dynamically.\n *\n * The HTML5 \"auto\" value is not supported in Spartacus, as it's considered to be too fragile for the global\n * direction.\n */\nvar DirectionMode = /*#__PURE__*/(() => {\n  (function (DirectionMode) {\n    /**\n     * Indicates Left to Right direction.\n     */\n    DirectionMode[\"LTR\"] = \"ltr\";\n    /**\n     * Indicates Right to Left direction.\n     */\n    DirectionMode[\"RTL\"] = \"rtl\";\n  })(DirectionMode || (DirectionMode = {}));\n  return DirectionMode;\n})();\n/**\n *\n * The icon component can be added in different ways:\n *\n * With the component selector:\n * `<cx-icon type=\"SEARCH\"></cx-icon>`\n *\n * With the attribute selector:\n * `<span cxIcon=\"STAR\"></span>`\n *\n * Additionally, content can be projected to the icon:\n *\n * `<button cxIcon=\"HAPPY\">happy label</button>`\n *\n * The above button would become (based on a TEXT resource type):\n * `<button>😊happy label</button>`\n *\n * While the content is projected, the icon itself doesn't require an\n * additional DOM node which is an advantage over the component selector.\n */let IconComponent = /*#__PURE__*/(() => {\n  class IconComponent {\n    constructor(iconLoader, elementRef, renderer) {\n      this.iconLoader = iconLoader;\n      this.elementRef = elementRef;\n      this.renderer = renderer;\n    }\n    /**\n     * The cxIcon directive is bound to the icon type. You can feed the `ICON_TYPE` to\n     * accomplish a configurable button in the UI.\n     */\n    set cxIcon(type) {\n      this.setIcon(type);\n    }\n    /**\n     * The type input parameter is bound to the icon type. You can feed the `ICON_TYPE` to\n     * accomplish a configurable button in the UI.\n     */\n    set type(type) {\n      this.setIcon(type);\n    }\n    setIcon(type) {\n      if (!type || type === '') {\n        return;\n      }\n      this.icon = this.iconLoader.getHtml(type);\n      this.addStyleClasses(type);\n      this.iconLoader.addLinkResource(type);\n      this.flipIcon(type);\n    }\n    /**\n     * The icons supports flipping for some icons to support rtl and ltr directions.\n     */\n    flipIcon(type) {\n      // TODO: this can be dropped with the next major release.\n      if (!this.iconLoader.getFlipDirection) {\n        return;\n      }\n      const iconDirection = this.iconLoader.getFlipDirection(type);\n      this.flipAtLtr = iconDirection === DirectionMode.LTR;\n      this.flipAtRtl = iconDirection === DirectionMode.RTL;\n    }\n    /**\n     * Adds the style classes and the link resource (if available).\n     */\n    addStyleClasses(type) {\n      var _a, _b, _c;\n      this.renderer.addClass(this.host, 'cx-icon');\n      (_a = this.styleClasses) === null || _a === void 0 ? void 0 : _a.forEach(cls => this.renderer.removeClass(this.host, cls));\n      this.styleClasses = (_b = this.iconLoader.getStyleClasses(type)) === null || _b === void 0 ? void 0 : _b.split(' ');\n      (_c = this.styleClasses) === null || _c === void 0 ? void 0 : _c.forEach(cls => {\n        if (cls !== '') {\n          this.renderer.addClass(this.host, cls);\n        }\n      });\n    }\n    get host() {\n      return this.elementRef.nativeElement;\n    }\n  }\n  IconComponent.ɵfac = function IconComponent_Factory(t) {\n    return new (t || IconComponent)(i0.ɵɵdirectiveInject(IconLoaderService), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Renderer2));\n  };\n  IconComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: IconComponent,\n    selectors: [[\"cx-icon\"], [\"\", \"cxIcon\", \"\"]],\n    hostVars: 4,\n    hostBindings: function IconComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"flip-at-rtl\", ctx.flipAtRtl)(\"flip-at-ltr\", ctx.flipAtLtr);\n      }\n    },\n    inputs: {\n      cxIcon: \"cxIcon\",\n      type: \"type\"\n    },\n    ngContentSelectors: _c1,\n    decls: 2,\n    vars: 1,\n    consts: [[3, \"outerHTML\"]],\n    template: function IconComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵelement(0, \"i\", 0);\n        i0.ɵɵprojection(1);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"outerHTML\", ctx.icon, i0.ɵɵsanitizeHtml);\n      }\n    },\n    encapsulation: 2\n  });\n  return IconComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst defaultIconConfig = {\n  icon: {\n    flipDirection: {\n      CARET_RIGHT: DirectionMode.RTL,\n      CARET_LEFT: DirectionMode.RTL\n    }\n  }\n};\nlet IconModule = /*#__PURE__*/(() => {\n  class IconModule {}\n  IconModule.ɵfac = function IconModule_Factory(t) {\n    return new (t || IconModule)();\n  };\n  IconModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: IconModule\n  });\n  IconModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig(defaultIconConfig),\n    // TODO: move the opinionated fontawesome config to a recipe\n    provideDefaultConfig(fontawesomeIconConfig)],\n    imports: [[CommonModule]]\n  });\n  return IconModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n// PRIVATE TESTING UTIL\nlet MockIconComponent = /*#__PURE__*/(() => {\n  class MockIconComponent {}\n  MockIconComponent.ɵfac = function MockIconComponent_Factory(t) {\n    return new (t || MockIconComponent)();\n  };\n  MockIconComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: MockIconComponent,\n    selectors: [[\"cx-icon\"], [\"\", \"cxIcon\", \"\"]],\n    inputs: {\n      cxIcon: \"cxIcon\",\n      type: \"type\"\n    },\n    decls: 1,\n    vars: 1,\n    template: function MockIconComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtext(0);\n      }\n      if (rf & 2) {\n        i0.ɵɵtextInterpolate(ctx.type || ctx.cxIcon);\n      }\n    },\n    encapsulation: 2\n  });\n  return MockIconComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst mockComponents = [MockIconComponent];\nclass MockIconLoaderService {\n  getHtml() {}\n  getStyleClasses() {}\n  addStyleClasses() {}\n  addLinkResource() {}\n}\nlet IconTestingModule = /*#__PURE__*/(() => {\n  class IconTestingModule {}\n  IconTestingModule.ɵfac = function IconTestingModule_Factory(t) {\n    return new (t || IconTestingModule)();\n  };\n  IconTestingModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: IconTestingModule\n  });\n  IconTestingModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [{\n      provide: IconLoaderService,\n      useClass: MockIconLoaderService\n    }]\n  });\n  return IconTestingModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n// TODO: Improve a11y with better text appropriate to usage (example: loading cart spinner)\nlet SpinnerComponent = /*#__PURE__*/(() => {\n  class SpinnerComponent {\n    constructor() {}\n  }\n  SpinnerComponent.ɵfac = function SpinnerComponent_Factory(t) {\n    return new (t || SpinnerComponent)();\n  };\n  SpinnerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: SpinnerComponent,\n    selectors: [[\"cx-spinner\"]],\n    decls: 4,\n    vars: 3,\n    consts: [[1, \"loader-container\"], [1, \"loader\"]],\n    template: function SpinnerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtext(2);\n        i0.ɵɵpipe(3, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 1, \"spinner.loading\"));\n      }\n    },\n    pipes: [i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return SpinnerComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ConsentManagementFormComponent = /*#__PURE__*/(() => {\n  class ConsentManagementFormComponent {\n    constructor() {\n      this.consentGiven = false;\n      this.requiredConsents = [];\n      this.consentChanged = new EventEmitter();\n    }\n    ngOnInit() {\n      if (this.consent) {\n        this.consentGiven = Boolean(this.consent.consentState === ANONYMOUS_CONSENT_STATUS.GIVEN);\n      } else {\n        if (this.consentTemplate && this.consentTemplate.currentConsent) {\n          if (this.consentTemplate.currentConsent.consentWithdrawnDate) {\n            this.consentGiven = false;\n          } else if (this.consentTemplate.currentConsent.consentGivenDate) {\n            this.consentGiven = true;\n          }\n        }\n      }\n    }\n    onConsentChange() {\n      this.consentGiven = !this.consentGiven;\n      this.consentChanged.emit({\n        given: this.consentGiven,\n        template: this.consentTemplate\n      });\n    }\n    isRequired(templateId) {\n      return this.requiredConsents.includes(templateId);\n    }\n  }\n  ConsentManagementFormComponent.ɵfac = function ConsentManagementFormComponent_Factory(t) {\n    return new (t || ConsentManagementFormComponent)();\n  };\n  ConsentManagementFormComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ConsentManagementFormComponent,\n    selectors: [[\"cx-consent-management-form\"]],\n    inputs: {\n      consentTemplate: \"consentTemplate\",\n      requiredConsents: \"requiredConsents\",\n      consent: \"consent\"\n    },\n    outputs: {\n      consentChanged: \"consentChanged\"\n    },\n    decls: 8,\n    vars: 4,\n    consts: [[1, \"form-check\"], [\"type\", \"checkbox\", 1, \"form-check-input\", 3, \"checked\", \"disabled\", \"change\"], [1, \"form-check-label\", \"cx-be-bold\"], [1, \"form-check-label\"]],\n    template: function ConsentManagementFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"label\");\n        i0.ɵɵelementStart(2, \"input\", 1);\n        i0.ɵɵlistener(\"change\", function ConsentManagementFormComponent_Template_input_change_2_listener() {\n          return ctx.onConsentChange();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"span\", 2);\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"br\");\n        i0.ɵɵelementStart(6, \"span\", 3);\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"checked\", ctx.consentGiven)(\"disabled\", ctx.isRequired(ctx.consentTemplate == null ? null : ctx.consentTemplate.id));\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.consentTemplate == null ? null : ctx.consentTemplate.name, \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", ctx.consentTemplate == null ? null : ctx.consentTemplate.description, \" \");\n      }\n    },\n    encapsulation: 2\n  });\n  return ConsentManagementFormComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AnonymousConsentDialogComponent = /*#__PURE__*/(() => {\n  class AnonymousConsentDialogComponent {\n    constructor(config, anonymousConsentsService, el, launchDialogService) {\n      this.config = config;\n      this.anonymousConsentsService = anonymousConsentsService;\n      this.el = el;\n      this.launchDialogService = launchDialogService;\n      this.role = 'dialog';\n      this.modal = true;\n      this.subscriptions = new Subscription();\n      this.showLegalDescription = true;\n      this.iconTypes = ICON_TYPE;\n      this.requiredConsents = [];\n      this.focusConfig = {\n        trap: true,\n        block: true,\n        autofocus: 'input[type=\"checkbox\"]',\n        focusOnEscape: true\n      };\n      if (Boolean(this.config.anonymousConsents)) {\n        this.showLegalDescription = this.config.anonymousConsents.showLegalDescriptionInDialog;\n        if (Boolean(this.config.anonymousConsents.requiredConsents)) {\n          this.requiredConsents = this.config.anonymousConsents.requiredConsents;\n        }\n      }\n    }\n    handleClick(event) {\n      // Close on click outside the dialog window\n      if (event.target.tagName === this.el.nativeElement.tagName) {\n        this.close('Cross click');\n      }\n    }\n    ngOnInit() {\n      this.templates$ = this.anonymousConsentsService.getTemplates();\n      this.consents$ = this.anonymousConsentsService.getConsents();\n      this.loading$ = this.anonymousConsentsService.getLoadTemplatesLoading();\n    }\n    close(reason) {\n      this.launchDialogService.closeDialog(reason);\n    }\n    rejectAll() {\n      this.subscriptions.add(combineLatest([this.templates$, this.consents$]).pipe(take(1), distinctUntilChanged(), tap(([templates, consents]) => templates.forEach(template => {\n        const consent = this.getCorrespondingConsent(template, consents);\n        if (this.anonymousConsentsService.isConsentGiven(consent)) {\n          if (this.isRequiredConsent(template)) {\n            return;\n          }\n          this.anonymousConsentsService.withdrawConsent(template.id);\n        }\n      }))).subscribe());\n      this.close('rejectAll');\n    }\n    allowAll() {\n      this.subscriptions.add(combineLatest([this.templates$, this.consents$]).pipe(take(1), distinctUntilChanged(), tap(([templates, consents]) => templates.forEach(template => {\n        const consent = this.getCorrespondingConsent(template, consents);\n        if (consent && consent.consentState == null || this.anonymousConsentsService.isConsentWithdrawn(consent)) {\n          if (this.isRequiredConsent(template)) {\n            return;\n          }\n          this.anonymousConsentsService.giveConsent(template.id);\n        }\n      }))).subscribe());\n      this.close('allowAll');\n    }\n    isRequiredConsent(template) {\n      return Boolean(this.config.anonymousConsents) && Boolean(this.config.anonymousConsents.requiredConsents) && this.config.anonymousConsents.requiredConsents.includes(template.id);\n    }\n    onConsentChange({\n      given,\n      template\n    }) {\n      if (given) {\n        this.anonymousConsentsService.giveConsent(template.id);\n      } else {\n        this.anonymousConsentsService.withdrawConsent(template.id);\n      }\n    }\n    getCorrespondingConsent(template, consents = []) {\n      for (const consent of consents) {\n        if (template.id === consent.templateCode) {\n          return consent;\n        }\n      }\n      return null;\n    }\n    ngOnDestroy() {\n      this.subscriptions.unsubscribe();\n    }\n  }\n  AnonymousConsentDialogComponent.ɵfac = function AnonymousConsentDialogComponent_Factory(t) {\n    return new (t || AnonymousConsentDialogComponent)(i0.ɵɵdirectiveInject(i1.AnonymousConsentsConfig), i0.ɵɵdirectiveInject(i1.AnonymousConsentsService), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(LaunchDialogService));\n  };\n  AnonymousConsentDialogComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: AnonymousConsentDialogComponent,\n    selectors: [[\"cx-anonymous-consent-dialog\"]],\n    hostVars: 2,\n    hostBindings: function AnonymousConsentDialogComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function AnonymousConsentDialogComponent_click_HostBindingHandler($event) {\n          return ctx.handleClick($event);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵattribute(\"role\", ctx.role)(\"aria-modal\", ctx.modal);\n      }\n    },\n    decls: 6,\n    vars: 5,\n    consts: [[1, \"cx-anonymous-consent-dialog\", 3, \"cxFocus\", \"esc\"], [1, \"cx-dialog-content\"], [4, \"ngIf\", \"ngIfElse\"], [\"dialogBody\", \"\"], [1, \"cx-dialog-header\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [3, \"type\"], [\"class\", \"cx-dialog-description\", 4, \"ngIf\"], [1, \"cx-dialog-buttons\"], [\"tabindex\", \"0\", 1, \"btn-link\", \"cx-action-link\", 3, \"click\"], [\"class\", \"cx-dialog-body\", 4, \"ngIf\"], [1, \"cx-dialog-description\"], [1, \"cx-dialog-separator\", \"col-sm-12\", \"d-xs-block\", \"d-sm-block\", \"d-md-none\"], [1, \"cx-dialog-body\"], [4, \"ngIf\"], [\"class\", \"cx-dialog-row col-sm-12 col-md-6\", 4, \"ngFor\", \"ngForOf\"], [1, \"cx-dialog-row\", \"col-sm-12\", \"col-md-6\"], [3, \"consentTemplate\", \"requiredConsents\", \"consent\", \"consentChanged\"]],\n    template: function AnonymousConsentDialogComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵlistener(\"esc\", function AnonymousConsentDialogComponent_Template_div_esc_0_listener() {\n          return ctx.close(\"Escape clicked\");\n        });\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtemplate(2, AnonymousConsentDialogComponent_div_2_Template, 2, 0, \"div\", 2);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵtemplate(4, AnonymousConsentDialogComponent_ng_template_4_Template, 18, 17, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(5);\n        i0.ɵɵproperty(\"cxFocus\", ctx.focusConfig);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 3, ctx.loading$))(\"ngIfElse\", _r1);\n      }\n    },\n    directives: [FocusDirective, i3.NgIf, SpinnerComponent, IconComponent, i3.NgForOf, ConsentManagementFormComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return AnonymousConsentDialogComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst defaultAnonymousConsentLayoutConfig = {\n  launch: {\n    ANONYMOUS_CONSENT: {\n      inline: true,\n      component: AnonymousConsentDialogComponent,\n      dialogType: DIALOG_TYPE.DIALOG\n    }\n  }\n};\nlet AnonymousConsentOpenDialogComponent = /*#__PURE__*/(() => {\n  class AnonymousConsentOpenDialogComponent {\n    constructor(vcr, launchDialogService) {\n      this.vcr = vcr;\n      this.launchDialogService = launchDialogService;\n    }\n    openDialog() {\n      const dialog = this.launchDialogService.openDialog(\"ANONYMOUS_CONSENT\" /* ANONYMOUS_CONSENT */, this.openElement, this.vcr);\n      if (dialog) {\n        dialog.pipe(take(1)).subscribe();\n      }\n    }\n  }\n  AnonymousConsentOpenDialogComponent.ɵfac = function AnonymousConsentOpenDialogComponent_Factory(t) {\n    return new (t || AnonymousConsentOpenDialogComponent)(i0.ɵɵdirectiveInject(i0.ViewContainerRef), i0.ɵɵdirectiveInject(LaunchDialogService));\n  };\n  AnonymousConsentOpenDialogComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: AnonymousConsentOpenDialogComponent,\n    selectors: [[\"cx-anonymous-consent-open-dialog\"]],\n    viewQuery: function AnonymousConsentOpenDialogComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c2, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.openElement = _t.first);\n      }\n    },\n    decls: 4,\n    vars: 3,\n    consts: [[1, \"btn\", \"btn-link\", 3, \"click\"], [\"open\", \"\"]],\n    template: function AnonymousConsentOpenDialogComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0, 1);\n        i0.ɵɵlistener(\"click\", function AnonymousConsentOpenDialogComponent_Template_button_click_0_listener() {\n          return ctx.openDialog();\n        });\n        i0.ɵɵtext(2);\n        i0.ɵɵpipe(3, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 1, \"anonymousConsents.preferences\"), \"\\n\");\n      }\n    },\n    pipes: [i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return AnonymousConsentOpenDialogComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AnonymousConsentManagementBannerModule = /*#__PURE__*/(() => {\n  class AnonymousConsentManagementBannerModule {}\n  AnonymousConsentManagementBannerModule.ɵfac = function AnonymousConsentManagementBannerModule_Factory(t) {\n    return new (t || AnonymousConsentManagementBannerModule)();\n  };\n  AnonymousConsentManagementBannerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: AnonymousConsentManagementBannerModule\n  });\n  AnonymousConsentManagementBannerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideConfig(defaultAnonymousConsentLayoutConfig), provideDefaultConfig({\n      cmsComponents: {\n        AnonymousConsentManagementBannerComponent: {\n          component: AnonymousConsentManagementBannerComponent,\n          deferLoading: DeferLoadingStrategy.INSTANT\n        },\n        AnonymousConsentOpenDialogComponent: {\n          component: AnonymousConsentOpenDialogComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, I18nModule, FeaturesConfigModule, KeyboardFocusModule]]\n  });\n  return AnonymousConsentManagementBannerModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * A service to handle modal\n */\nlet ModalService = /*#__PURE__*/(() => {\n  class ModalService {\n    constructor(ngbModalService, applicationRef) {\n      this.ngbModalService = ngbModalService;\n      this.applicationRef = applicationRef;\n      this.modals = [];\n    }\n    get rootComponent() {\n      var _a, _b, _c, _d;\n      return (_d = (_c = (_b = (_a = this.applicationRef) === null || _a === void 0 ? void 0 : _a.components) === null || _b === void 0 ? void 0 : _b[0]) === null || _c === void 0 ? void 0 : _c.location) === null || _d === void 0 ? void 0 : _d.nativeElement;\n    }\n    open(content, options) {\n      let activeModal;\n      options = Object.assign({\n        container: this.rootComponent\n      }, options);\n      activeModal = this.ngbModalService.open(content, options);\n      this.modals.push(activeModal);\n      this.handleModalRemoveEvents(activeModal);\n      return activeModal;\n    }\n    handleModalRemoveEvents(modal) {\n      modal.result.finally(() => {\n        this.modals = this.modals.filter(m => m !== modal);\n      });\n    }\n    getActiveModal() {\n      const modal = this.modals[this.modals.length - 1];\n      return modal ? modal : null;\n    }\n    dismissActiveModal(reason) {\n      const modal = this.getActiveModal();\n      if (modal) {\n        modal.dismiss(reason);\n      }\n    }\n    closeActiveModal(reason) {\n      const modal = this.getActiveModal();\n      if (modal) {\n        modal.close(reason);\n      }\n    }\n  }\n  ModalService.ɵfac = function ModalService_Factory(t) {\n    return new (t || ModalService)(i0.ɵɵinject(i1$3.NgbModal), i0.ɵɵinject(i0.ApplicationRef));\n  };\n  ModalService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ModalService,\n    factory: ModalService.ɵfac,\n    providedIn: 'root'\n  });\n  return ModalService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Identifiers of outlets inside the cart details view.\n */\nvar CartOutlets = /*#__PURE__*/(() => {\n  (function (CartOutlets) {\n    CartOutlets[\"ITEM\"] = \"cx-cart-item\";\n    CartOutlets[\"ITEM_DETAILS\"] = \"cx-cart-item.details\";\n    CartOutlets[\"ITEM_BUNDLE_DETAILS\"] = \"cx-cart-item.bundle-details\";\n  })(CartOutlets || (CartOutlets = {}));\n  return CartOutlets;\n})();\n/**\n * Context source for `CartItemComponent`.\n *\n * `CartItemContext` should be injected instead in child components.\n */let CartItemContextSource = /*#__PURE__*/(() => {\n  class CartItemContextSource {\n    constructor() {\n      this.compact$ = new ReplaySubject(1);\n      this.readonly$ = new ReplaySubject(1);\n      this.item$ = new ReplaySubject(1);\n      this.quantityControl$ = new ReplaySubject(1);\n      this.location$ = new ReplaySubject(1);\n      this.options$ = new ReplaySubject(1);\n    }\n  }\n  CartItemContextSource.ɵfac = function CartItemContextSource_Factory(t) {\n    return new (t || CartItemContextSource)();\n  };\n  CartItemContextSource.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: CartItemContextSource,\n    factory: CartItemContextSource.ɵfac\n  });\n  return CartItemContextSource;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Context for `CartItemComponent`.\n */\nlet CartItemContext = /*#__PURE__*/(() => {\n  class CartItemContext {}\n  CartItemContext.ɵfac = function CartItemContext_Factory(t) {\n    return new (t || CartItemContext)();\n  };\n  CartItemContext.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: CartItemContext,\n    factory: CartItemContext.ɵfac\n  });\n  return CartItemContext;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CartValidationStateService = /*#__PURE__*/(() => {\n  class CartValidationStateService {\n    constructor(routingService) {\n      this.routingService = routingService;\n      this.NAVIGATION_SKIPS = 2;\n      this.navigationIdCount = 0;\n      this.subscription = new Subscription();\n      this.cartValidationResult$ = new ReplaySubject(1);\n      this.checkForValidationResultClear$ = this.routingService.getRouterState().pipe(withLatestFrom(this.cartValidationResult$), tap(([routerState, cartModifications]) => {\n        if (this.navigationIdCount + this.NAVIGATION_SKIPS <= routerState.navigationId && cartModifications.length) {\n          this.cartValidationResult$.next([]);\n          this.navigationIdCount = routerState.navigationId;\n        }\n      }));\n      this.setInitialState();\n    }\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n    }\n    setInitialState() {\n      this.setNavigationIdStep();\n      this.subscription.add(this.checkForValidationResultClear$.subscribe());\n    }\n    updateValidationResultAndRoutingId(cartModification) {\n      this.cartValidationResult$.next(cartModification);\n      this.setNavigationIdStep();\n    }\n    setNavigationIdStep() {\n      this.routingService.getRouterState().pipe(take(1)).subscribe(routerState => this.navigationIdCount = routerState.navigationId);\n    }\n  }\n  CartValidationStateService.ɵfac = function CartValidationStateService_Factory(t) {\n    return new (t || CartValidationStateService)(i0.ɵɵinject(i1.RoutingService));\n  };\n  CartValidationStateService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: CartValidationStateService,\n    factory: CartValidationStateService.ɵfac,\n    providedIn: 'root'\n  });\n  return CartValidationStateService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CartItemValidationWarningComponent = /*#__PURE__*/(() => {\n  class CartItemValidationWarningComponent {\n    constructor(cartValidationStateService) {\n      this.cartValidationStateService = cartValidationStateService;\n      this.iconTypes = ICON_TYPE;\n      this.isVisible = true;\n      this.cartModification$ = this.cartValidationStateService.cartValidationResult$.pipe(map(modificationList => modificationList.find(modification => modification.entry.product.code === this.code)));\n    }\n  }\n  CartItemValidationWarningComponent.ɵfac = function CartItemValidationWarningComponent_Factory(t) {\n    return new (t || CartItemValidationWarningComponent)(i0.ɵɵdirectiveInject(CartValidationStateService));\n  };\n  CartItemValidationWarningComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CartItemValidationWarningComponent,\n    selectors: [[\"cx-cart-item-validation-warning\"]],\n    inputs: {\n      code: \"code\"\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [\"class\", \"alert alert-info\", 4, \"ngIf\"], [1, \"alert\", \"alert-info\"], [1, \"alert-icon\"], [3, \"type\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"]],\n    template: function CartItemValidationWarningComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CartItemValidationWarningComponent_ng_container_0_Template, 2, 1, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.cartModification$));\n      }\n    },\n    directives: [i3.NgIf, IconComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return CartItemValidationWarningComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Indicates how the browser should load the image.\n *\n * While this might not add too much value in some scenarios, as we have other\n * optimizations to defer loading of larger pieces of the DOM, there might be\n * components who haven't implemented other lazy loading techniques. Moreover,\n * a server sides rendered page that lands directly in the browser could benefit\n * enormously from the lazy loading of images.\n */\nvar ImageLoadingStrategy = /*#__PURE__*/(() => {\n  (function (ImageLoadingStrategy) {\n    /**\n     * Loads the image immediately, regardless of whether or not the image\n     * is currently within the visible viewport (this is the default value).\n     */\n    ImageLoadingStrategy[\"EAGER\"] = \"eager\";\n    /**\n     * Defers loading the image until it reaches a calculated distance from the viewport,\n     * as defined by the browser. The intent is to avoid the network and storage bandwidth\n     * needed to handle the image until it's reasonably certain that it will be needed.\n     * This generally improves the performance of the content in most typical use cases.\n     */\n    ImageLoadingStrategy[\"LAZY\"] = \"lazy\";\n  })(ImageLoadingStrategy || (ImageLoadingStrategy = {}));\n  return ImageLoadingStrategy;\n})();\n/**\n * Service which generates media URLs. It leverage the MediaContainer and MediaFormats so\n * that URLs and sizes are generated for the same media. This helps to improve performance\n * across difference devices and layouts.\n *\n * Media formats are optional, but highly recommended. The format will help the browser to\n * identify the right media for the right experience.\n *\n * The MediaService will generate absolute URLs in case relative URLs are provided for the Media.\n * The baseUrl is read from the `occConfig.backend.media.baseUrl` or\n * `occConfig.backend.occ.baseUrl`.\n */let MediaService = /*#__PURE__*/(() => {\n  class MediaService {\n    constructor(config) {\n      this.config = config;\n    }\n    /**\n     * Returns a `Media` object with the main media (`src`) and various media (`src`)\n     * for specific formats.\n     */\n    getMedia(mediaContainer, format, alt, role) {\n      if (!mediaContainer) {\n        return;\n      }\n      const mainMedia = mediaContainer.url ? mediaContainer : this.resolveMedia(mediaContainer, format);\n      return {\n        src: this.resolveAbsoluteUrl(mainMedia === null || mainMedia === void 0 ? void 0 : mainMedia.url),\n        alt: alt !== null && alt !== void 0 ? alt : mainMedia === null || mainMedia === void 0 ? void 0 : mainMedia.altText,\n        role: role !== null && role !== void 0 ? role : mainMedia === null || mainMedia === void 0 ? void 0 : mainMedia.role,\n        srcset: this.resolveSrcSet(mediaContainer, format)\n      };\n    }\n    /**\n     * Reads the loading strategy from the `MediaConfig`.\n     *\n     * Defaults to `ImageLoadingStrategy.EAGER`.\n     */\n    get loadingStrategy() {\n      var _a, _b;\n      return (_b = (_a = this.config) === null || _a === void 0 ? void 0 : _a.imageLoadingStrategy) !== null && _b !== void 0 ? _b : ImageLoadingStrategy.EAGER;\n    }\n    /**\n     * Creates the media formats in a logical sorted order. The map contains the\n     * format key and the format size information. We do this only once for performance\n     * benefits.\n     */\n    get sortedFormats() {\n      var _a, _b;\n      if (!this._sortedFormats && ((_a = this.config) === null || _a === void 0 ? void 0 : _a.mediaFormats)) {\n        this._sortedFormats = Object.keys(this.config.mediaFormats).map(key => ({\n          code: key,\n          size: this.config.mediaFormats[key]\n        })).sort((a, b) => a.size.width > b.size.width ? 1 : -1);\n      }\n      return (_b = this._sortedFormats) !== null && _b !== void 0 ? _b : [];\n    }\n    /**\n     * Creates the media formats in a reversed sorted order.\n     */\n    get reversedFormats() {\n      if (!this._reversedFormats) {\n        this._reversedFormats = this.sortedFormats.slice().reverse();\n      }\n      return this._reversedFormats;\n    }\n    /**\n     * Resolves the right media for the given format. The fo\n     */\n    resolveMedia(media, format) {\n      return media[this.resolveFormat(media, format)];\n    }\n    /**\n     * Validates the format against the given mediaContainer. If there is no format available,\n     * or if the mediaContainer doesn't contain a media for the given media, the most optimal\n     * format is resolved. If even that is not possible, the first format is returned.\n     */\n    resolveFormat(mediaContainer, format) {\n      if (format && mediaContainer[format]) {\n        return format;\n      }\n      return this.resolveBestFormat(mediaContainer) || Object.keys(mediaContainer)[0];\n    }\n    /**\n     * Returns the media format code with the best size.\n     */\n    resolveBestFormat(media) {\n      var _a;\n      return (_a = this.reversedFormats.find(format => media.hasOwnProperty(format.code))) === null || _a === void 0 ? void 0 : _a.code;\n    }\n    /**\n     * Returns a set of media for the available media formats. Additionally, the configured media\n     * format width is added to the srcset, so that browsers can select the appropriate media.\n     *\n     * The optional maxFormat indicates that only sources till a certain format should be added\n     * to the srcset.\n     */\n    resolveSrcSet(media, maxFormat) {\n      if (!media) {\n        return undefined;\n      }\n      // Only create srcset images that are smaller than the given `maxFormat` (if any)\n      let formats = this.sortedFormats;\n      const max = formats.findIndex(f => f.code === maxFormat);\n      if (max > -1) {\n        formats = formats.slice(0, max + 1);\n      }\n      const srcset = formats.reduce((set, format) => {\n        if (!!media[format.code]) {\n          if (set) {\n            set += ', ';\n          }\n          set += `${this.resolveAbsoluteUrl(media[format.code].url)} ${format.size.width}w`;\n        }\n        return set;\n      }, '');\n      return srcset === '' ? undefined : srcset;\n    }\n    /**\n     * Resolves the absolute URL for the given url. In most cases, this URL represents\n     * the relative URL on the backend. In that case, we prefix the url with the baseUrl.\n     *\n     * When we have receive an absolute URL, we return the URL as-is. An absolute URL might also\n     * start with double slash, which is used to resolve media cross from http and https.\n     */\n    resolveAbsoluteUrl(url) {\n      return !url || url.startsWith('http') || url.startsWith('//') ? url : this.getBaseUrl() + url;\n    }\n    /**\n     * The base URL is either driven by a specific `backend.media.baseUrl`, or by the\n     * `backend.occ.baseUrl`.\n     *\n     * The `backend.media.baseUrl` can be used to load media from a different location.\n     *\n     * In Commerce Cloud, a different location could mean a different \"aspect\".\n     *\n     * Defaults to empty string in case no config is provided.\n     */\n    getBaseUrl() {\n      var _a, _b, _c, _d, _e, _f;\n      return (_f = (_c = (_b = (_a = this.config.backend) === null || _a === void 0 ? void 0 : _a.media) === null || _b === void 0 ? void 0 : _b.baseUrl) !== null && _c !== void 0 ? _c : (_e = (_d = this.config.backend) === null || _d === void 0 ? void 0 : _d.occ) === null || _e === void 0 ? void 0 : _e.baseUrl) !== null && _f !== void 0 ? _f : '';\n    }\n  }\n  MediaService.ɵfac = function MediaService_Factory(t) {\n    return new (t || MediaService)(i0.ɵɵinject(i1.Config));\n  };\n  MediaService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: MediaService,\n    factory: MediaService.ɵfac,\n    providedIn: 'root'\n  });\n  return MediaService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MediaComponent = /*#__PURE__*/(() => {\n  class MediaComponent {\n    constructor(mediaService) {\n      this.mediaService = mediaService;\n      // TODO: Remove type forcing of `this.loadingStrategy` (ie. <ImageLoadingStrategy | null>) in 5.0 (#14236)\n      /**\n       * Set the loading strategy of the media. Defaults to global loading strategy.\n       * Use 'lazy' or 'eager' strategies.\n       */\n      this.loading = this.loadingStrategy;\n      /**\n       * Once the media is loaded, we emit an event.\n       */\n      this.loaded = new EventEmitter();\n      /**\n       * The `cx-media` component has an `is-initialized` class as long as the\n       * media is being initialized.\n       */\n      this.isInitialized = false;\n      /**\n       * The `cx-media` component has a `is-loading` class as long as the\n       * media is loaded. Wehn the media is loaded, the `is-initialized` class\n       * is added.\n       */\n      this.isLoading = true;\n      /**\n       * When there's no media provided for the content, or in case an error\n       * happened during loading, we add the `is-missing` class. Visual effects\n       * can be controlled by CSS.\n       */\n      this.isMissing = false;\n    }\n    ngOnChanges() {\n      this.create();\n    }\n    /**\n     * Creates the `Media` object\n     */\n    create() {\n      var _a;\n      this.media = this.mediaService.getMedia(this.container instanceof Array ? this.container[0] : this.container, this.format, this.alt, this.role);\n      if (!((_a = this.media) === null || _a === void 0 ? void 0 : _a.src)) {\n        this.handleMissing();\n      }\n    }\n    /**\n     * This handler is called from the UI when the image is loaded.\n     */\n    loadHandler() {\n      this.isLoading = false;\n      this.isInitialized = true;\n      this.isMissing = false;\n      this.loaded.emit(true);\n    }\n    // TODO: Remove string return type (#14236)\n    /**\n     * Indicates whether the browser should lazy load the image.\n     * @deprecated since 4.2. use ImageLoadingStrategy or null return types only\n     */\n    get loadingStrategy() {\n      return this.mediaService.loadingStrategy === ImageLoadingStrategy.LAZY ? ImageLoadingStrategy.LAZY : null;\n    }\n    /**\n     * Whenever an error happens during load, we mark the component\n     * with css classes to have a missing media.\n     */\n    errorHandler() {\n      this.handleMissing();\n    }\n    handleMissing() {\n      this.isLoading = false;\n      this.isInitialized = true;\n      this.isMissing = true;\n      this.loaded.emit(false);\n    }\n  }\n  MediaComponent.ɵfac = function MediaComponent_Factory(t) {\n    return new (t || MediaComponent)(i0.ɵɵdirectiveInject(MediaService));\n  };\n  MediaComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: MediaComponent,\n    selectors: [[\"cx-media\"]],\n    hostVars: 6,\n    hostBindings: function MediaComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"is-initialized\", ctx.isInitialized)(\"is-loading\", ctx.isLoading)(\"is-missing\", ctx.isMissing);\n      }\n    },\n    inputs: {\n      container: \"container\",\n      format: \"format\",\n      alt: \"alt\",\n      role: \"role\",\n      loading: \"loading\"\n    },\n    outputs: {\n      loaded: \"loaded\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    decls: 1,\n    vars: 1,\n    consts: [[3, \"load\", \"error\", 4, \"ngIf\"], [3, \"load\", \"error\"]],\n    template: function MediaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, MediaComponent_img_0_Template, 1, 5, \"img\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.media == null ? null : ctx.media.src);\n      }\n    },\n    directives: [i3.NgIf],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return MediaComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Provides a UI to manage the count of the quantity, typically by using\n * increase and decrease functionality. The item counter expects an input `FormControl`\n * so that the state of the control can be managed outside of this component.\n */\nlet ItemCounterComponent = /*#__PURE__*/(() => {\n  class ItemCounterComponent {\n    constructor() {\n      /**\n       * This can be used in case an item has a minmum order quantity.\n       * @default 1\n       */\n      this.min = 1;\n      /**\n       * The step is used to increment the count. It is supposed to be a\n       * positive integer or float.\n       * @default 1\n       */\n      this.step = 1;\n      /**\n       * Indicates that the input can be manually set to zero,\n       * despite the fact that the input controls will be limited to\n       * the minimum. The zero value can be used to remove an item.\n       */\n      this.allowZero = false;\n      /**\n       * In readonly mode the item counter will only be shown as a label,\n       * the form controls are not rendered.\n       * Please not that readonly is different from the `disabled` form state.\n       * @default false\n       */\n      this.readonly = false;\n    }\n    handleClick() {\n      this.input.nativeElement.focus();\n    }\n    ngOnInit() {\n      this.sub = this.control.valueChanges.pipe(startWith(this.control.value)).subscribe(value => this.control.setValue(this.getValidCount(value), {\n        emitEvent: false\n      }));\n    }\n    ngOnDestroy() {\n      if (this.sub) {\n        this.sub.unsubscribe();\n      }\n    }\n    increment() {\n      // it's too early to use the `stepUp` and `stepDown` API...\n      // let's wait for FF: https://caniuse.com/#search=stepUp\n      this.control.setValue(this.control.value + this.step);\n      this.control.markAsDirty();\n    }\n    decrement() {\n      this.control.setValue(this.control.value - this.step);\n      this.control.markAsDirty();\n    }\n    /**\n     * Validate that the given value is in between\n     * the `min` and `max` value. If the value is out\n     * of  the min/max range, it will be altered.\n     * If `allowZero` is set to true, the 0 value is ignored.\n     *\n     */\n    getValidCount(value) {\n      if (value < this.min && !(value === 0 && this.allowZero)) {\n        value = this.min;\n      }\n      if (this.max && value > this.max) {\n        value = this.max;\n      }\n      return value;\n    }\n  }\n  ItemCounterComponent.ɵfac = function ItemCounterComponent_Factory(t) {\n    return new (t || ItemCounterComponent)();\n  };\n  ItemCounterComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ItemCounterComponent,\n    selectors: [[\"cx-item-counter\"]],\n    viewQuery: function ItemCounterComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c4, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.input = _t.first);\n      }\n    },\n    hostVars: 2,\n    hostBindings: function ItemCounterComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function ItemCounterComponent_click_HostBindingHandler() {\n          return ctx.handleClick();\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"readonly\", ctx.readonly);\n      }\n    },\n    inputs: {\n      control: \"control\",\n      min: \"min\",\n      max: \"max\",\n      step: \"step\",\n      allowZero: \"allowZero\",\n      readonly: \"readonly\"\n    },\n    decls: 9,\n    vars: 18,\n    consts: [[\"type\", \"button\", 3, \"disabled\", \"tabindex\", \"click\"], [\"type\", \"number\", 3, \"min\", \"max\", \"step\", \"readonly\", \"tabindex\", \"formControl\"], [\"qty\", \"\"], [\"type\", \"button\", \"tabindex\", \"0\", 3, \"disabled\", \"click\"]],\n    template: function ItemCounterComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function ItemCounterComponent_Template_button_click_0_listener() {\n          return ctx.decrement();\n        });\n        i0.ɵɵpipe(1, \"cxTranslate\");\n        i0.ɵɵtext(2, \" -\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"input\", 1, 2);\n        i0.ɵɵpipe(5, \"cxTranslate\");\n        i0.ɵɵelementStart(6, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function ItemCounterComponent_Template_button_click_6_listener() {\n          return ctx.increment();\n        });\n        i0.ɵɵpipe(7, \"cxTranslate\");\n        i0.ɵɵtext(8, \" +\\n\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"disabled\", ctx.control.disabled || ctx.control.value <= ctx.min)(\"tabindex\", ctx.control.disabled || ctx.control.value <= ctx.min ? -1 : 0);\n        i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 12, \"itemCounter.removeOne\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"min\", ctx.min)(\"max\", ctx.max)(\"step\", ctx.step)(\"readonly\", ctx.readonly)(\"tabindex\", ctx.readonly ? -1 : 0)(\"formControl\", ctx.control);\n        i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(5, 14, \"itemCounter.quantity\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", ctx.control.disabled || ctx.control.value >= ctx.max);\n        i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(7, 16, \"itemCounter.addOneMore\"));\n      }\n    },\n    directives: [i3$1.MinValidator, i3$1.MaxValidator, i3$1.NumberValueAccessor, i3$1.DefaultValueAccessor, i3$1.NgControlStatus, i3$1.FormControlDirective],\n    pipes: [i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return ItemCounterComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PromotionsComponent = /*#__PURE__*/(() => {\n  class PromotionsComponent {\n    constructor() {}\n  }\n  PromotionsComponent.ɵfac = function PromotionsComponent_Factory(t) {\n    return new (t || PromotionsComponent)();\n  };\n  PromotionsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: PromotionsComponent,\n    selectors: [[\"cx-promotions\"]],\n    inputs: {\n      promotions: \"promotions\"\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"cx-promotions\", 4, \"ngIf\"], [1, \"cx-promotions\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function PromotionsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, PromotionsComponent_div_0_Template, 2, 1, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.promotions);\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return PromotionsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Service to control the behavior of the DismissModalDirective\n */\nlet ModalDirectiveService = /*#__PURE__*/(() => {\n  class ModalDirectiveService {\n    /**\n     * Handler for the click event on the directive\n     *\n     * @param options.type    Action to perform after click - close or dismiss\n     * @param options.reason  Reason for dismissing or closing the modal\n     * @param url             url (optional) - exists only when the directive is also a `routerLink`.\n     */\n    onClick(options, activeModal, url) {\n      let reason = options.reason;\n      if (!reason && url) {\n        reason = `Link click: ${url}`;\n      }\n      if (options.type === 'dismiss') {\n        activeModal.dismiss(reason);\n      } else if (options.type === 'close') {\n        activeModal.close(reason);\n      }\n    }\n  }\n  ModalDirectiveService.ɵfac = function ModalDirectiveService_Factory(t) {\n    return new (t || ModalDirectiveService)();\n  };\n  ModalDirectiveService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ModalDirectiveService,\n    factory: ModalDirectiveService.ɵfac,\n    providedIn: 'root'\n  });\n  return ModalDirectiveService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Directive to dismiss the modal on click\n */\nlet ModalDirective = /*#__PURE__*/(() => {\n  class ModalDirective {\n    constructor(service, router,\n    // active modal can be injected only when the directive is projected inside modal\n    activeModal, routerLink, routerLinkWithHref) {\n      this.service = service;\n      this.router = router;\n      this.activeModal = activeModal;\n      this.routerLink = routerLink;\n      this.routerLinkWithHref = routerLinkWithHref;\n    }\n    /**\n     * Returns URL in case when the directive is in the scope of a `routerLink` directive at the same time.\n     */\n    getUrl() {\n      var _a;\n      const routerLink = (_a = this.routerLink) !== null && _a !== void 0 ? _a : this.routerLinkWithHref;\n      return routerLink ? this.router.serializeUrl(routerLink.urlTree) : undefined;\n    }\n    onClick() {\n      if (this.activeModal) {\n        this.service.onClick(this.options, this.activeModal, this.getUrl());\n      }\n    }\n    /**\n     * Converts the directive's inputs to the shape of modal directive options\n     */\n    get options() {\n      return {\n        type: this.cxModal,\n        reason: this.cxModalReason\n      };\n    }\n  }\n  ModalDirective.ɵfac = function ModalDirective_Factory(t) {\n    return new (t || ModalDirective)(i0.ɵɵdirectiveInject(ModalDirectiveService), i0.ɵɵdirectiveInject(i1$1.Router), i0.ɵɵdirectiveInject(i1$3.NgbActiveModal, 8), i0.ɵɵdirectiveInject(i1$1.RouterLink, 8), i0.ɵɵdirectiveInject(i1$1.RouterLinkWithHref, 8));\n  };\n  ModalDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: ModalDirective,\n    selectors: [[\"\", \"cxModal\", \"\"]],\n    hostBindings: function ModalDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function ModalDirective_click_HostBindingHandler() {\n          return ctx.onClick();\n        });\n      }\n    },\n    inputs: {\n      cxModal: \"cxModal\",\n      cxModalReason: \"cxModalReason\"\n    }\n  });\n  return ModalDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CartItemComponent = /*#__PURE__*/(() => {\n  class CartItemComponent {\n    constructor(cartItemContextSource) {\n      this.cartItemContextSource = cartItemContextSource;\n      this.compact = false;\n      this.readonly = false;\n      this.promotionLocation = PromotionLocation.ActiveCart;\n      // TODO: evaluate whether this is generic enough\n      this.options = {\n        isSaveForLater: false,\n        optionalBtn: null\n      };\n      this.iconTypes = ICON_TYPE;\n      this.CartOutlets = CartOutlets;\n    }\n    ngOnChanges(changes) {\n      if (changes === null || changes === void 0 ? void 0 : changes.compact) {\n        this.cartItemContextSource.compact$.next(this.compact);\n      }\n      if (changes === null || changes === void 0 ? void 0 : changes.readonly) {\n        this.cartItemContextSource.readonly$.next(this.readonly);\n      }\n      if (changes === null || changes === void 0 ? void 0 : changes.item) {\n        this.cartItemContextSource.item$.next(this.item);\n      }\n      if (changes === null || changes === void 0 ? void 0 : changes.quantityControl) {\n        this.cartItemContextSource.quantityControl$.next(this.quantityControl);\n      }\n      if (changes === null || changes === void 0 ? void 0 : changes.promotionLocation) {\n        this.cartItemContextSource.location$.next(this.promotionLocation);\n      }\n      if (changes === null || changes === void 0 ? void 0 : changes.options) {\n        this.cartItemContextSource.options$.next(this.options);\n      }\n    }\n    isProductOutOfStock(product) {\n      // TODO Move stocklevelstatuses across the app to an enum\n      return product && product.stock && product.stock.stockLevelStatus === 'outOfStock';\n    }\n    removeItem() {\n      this.quantityControl.setValue(0);\n      this.quantityControl.markAsDirty();\n    }\n  }\n  CartItemComponent.ɵfac = function CartItemComponent_Factory(t) {\n    return new (t || CartItemComponent)(i0.ɵɵdirectiveInject(CartItemContextSource));\n  };\n  CartItemComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CartItemComponent,\n    selectors: [[\"cx-cart-item\"]],\n    inputs: {\n      compact: \"compact\",\n      item: \"item\",\n      readonly: \"readonly\",\n      quantityControl: \"quantityControl\",\n      promotionLocation: \"promotionLocation\",\n      options: \"options\"\n    },\n    features: [i0.ɵɵProvidersFeature([CartItemContextSource, {\n      provide: CartItemContext,\n      useExisting: CartItemContextSource\n    }]), i0.ɵɵNgOnChangesFeature],\n    decls: 1,\n    vars: 1,\n    consts: [[3, \"cxOutlet\"], [4, \"cxFeatureLevel\"], [3, \"ngClass\"], [1, \"col-2\", \"cx-image-container\"], [\"cxModal\", \"dismiss\", \"tabindex\", \"-1\", 3, \"routerLink\"], [\"format\", \"cartIcon\", 3, \"container\"], [1, \"cx-info\", \"col-10\"], [1, \"cx-info-container\", \"row\"], [\"class\", \"cx-name\", 4, \"ngIf\"], [\"class\", \"cx-code\", 4, \"ngIf\"], [4, \"ngIf\"], [\"class\", \"cx-price\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"cx-quantity\", 3, \"ngClass\"], [\"placement\", \"left\", 1, \"cx-label\", 3, \"ngClass\", \"title\"], [1, \"cx-value\"], [3, \"control\", \"readonly\", \"max\", \"allowZero\"], [4, \"ngIf\", \"ngIfElse\"], [\"class\", \"cx-availability col-12\", 4, \"ngIf\"], [3, \"promotions\"], [\"class\", \"cx-actions col-12\", 4, \"ngIf\"], [\"total\", \"\"], [3, \"code\"], [1, \"cx-name\"], [\"cxModal\", \"dismiss\", 1, \"cx-link\", 3, \"routerLink\"], [1, \"cx-code\"], [\"class\", \"cx-property\", 4, \"ngFor\", \"ngForOf\"], [1, \"cx-property\"], [\"class\", \"cx-label\", 4, \"ngIf\"], [1, \"cx-label\"], [1, \"cx-price\", 3, \"ngClass\"], [1, \"cx-label\", 3, \"ngClass\"], [\"class\", \"cx-value\", 4, \"ngIf\"], [1, \"cx-total\", 3, \"ngClass\"], [\"class\", \"cx-value\", 4, \"ngIf\", \"ngIfElse\"], [\"forceInstock\", \"\"], [1, \"cx-availability\", \"col-12\"], [1, \"cx-actions\", \"col-12\"], [1, \"col-md-3\", \"cx-remove-btn\"], [1, \"link\", \"cx-action-link\", 3, \"disabled\", \"click\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [\"class\", \"cx-total\", 3, \"ngClass\", 4, \"ngIf\"]],\n    template: function CartItemComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CartItemComponent_ng_template_0_Template, 28, 34, \"ng-template\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"cxOutlet\", ctx.CartOutlets.ITEM);\n      }\n    },\n    directives: [OutletDirective, i1.FeatureLevelDirective, i3.NgClass, i1$1.RouterLinkWithHref, ModalDirective, MediaComponent, i3.NgIf, ItemCounterComponent, PromotionsComponent, CartItemValidationWarningComponent, i3.NgForOf, i3.NgTemplateOutlet],\n    pipes: [i1.UrlPipe, i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return CartItemComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AddedToCartDialogComponent = /*#__PURE__*/(() => {\n  class AddedToCartDialogComponent {\n    constructor(modalService, cartService) {\n      this.modalService = modalService;\n      this.cartService = cartService;\n      this.iconTypes = ICON_TYPE;\n      this.promotionLocation = PromotionLocation.ActiveCart;\n      this.quantity = 0;\n      this.modalIsOpen = false;\n      this.form = new FormGroup({});\n    }\n    /**\n     * Returns an observable formControl with the quantity of the cartEntry,\n     * but also updates the entry in case of a changed value.\n     * The quantity can be set to zero in order to remove the entry.\n     */\n    getQuantityControl() {\n      if (!this.quantityControl$) {\n        this.quantityControl$ = this.entry$.pipe(filter(e => !!e), map(entry => this.getQuantityFormControl(entry)), switchMap(() => this.form.valueChanges.pipe(\n        // eslint-disable-next-line import/no-deprecated\n        startWith(null), tap(valueChange => {\n          if (valueChange) {\n            this.cartService.updateEntry(valueChange.entryNumber, valueChange.quantity);\n            if (valueChange.quantity === 0) {\n              this.dismissModal('Removed');\n            }\n          } else {\n            this.form.markAsPristine();\n          }\n        }))), map(() => this.form.get('quantity')), shareReplay({\n          bufferSize: 1,\n          refCount: true\n        }));\n      }\n      return this.quantityControl$;\n    }\n    ngOnInit() {\n      this.addedEntryWasMerged$ = this.loaded$.pipe(filter(loaded => loaded), switchMapTo(this.cartService.getEntries()), map(entries => entries.length === this.numberOfEntriesBeforeAdd));\n    }\n    /**\n     * Adds quantity and entryNumber form controls to the FormGroup.\n     * Returns quantity form control.\n     */\n    getQuantityFormControl(entry) {\n      if (!this.form.get('quantity')) {\n        const quantity = new FormControl(entry.quantity, {\n          updateOn: 'blur'\n        });\n        this.form.addControl('quantity', quantity);\n        const entryNumber = new FormControl(entry.entryNumber);\n        this.form.addControl('entryNumber', entryNumber);\n      }\n      return this.form.get('quantity');\n    }\n    dismissModal(reason) {\n      this.modalService.dismissActiveModal(reason);\n    }\n  }\n  AddedToCartDialogComponent.ɵfac = function AddedToCartDialogComponent_Factory(t) {\n    return new (t || AddedToCartDialogComponent)(i0.ɵɵdirectiveInject(ModalService), i0.ɵɵdirectiveInject(i1.ActiveCartService));\n  };\n  AddedToCartDialogComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: AddedToCartDialogComponent,\n    selectors: [[\"cx-added-to-cart-dialog\"]],\n    viewQuery: function AddedToCartDialogComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c8, 5, ElementRef);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dialog = _t.first);\n      }\n    },\n    decls: 6,\n    vars: 4,\n    consts: [[\"dialog\", \"\"], [4, \"ngIf\", \"ngIfElse\"], [\"loading\", \"\"], [1, \"cx-dialog-header\", \"modal-header\"], [\"aria-live\", \"polite\", \"aria-atomic\", \"true\", 1, \"cx-dialog-title\", \"modal-title\"], [\"type\", \"button\", \"cxModal\", \"dismiss\", \"cxModalReason\", \"Cross click\", 1, \"close\"], [\"aria-hidden\", \"true\"], [3, \"type\"], [\"class\", \"cx-dialog-body modal-body\", 4, \"ngIf\"], [1, \"cx-dialog-body\", \"modal-body\"], [1, \"cx-dialog-row\"], [1, \"cx-dialog-item\", \"col-sm-12\", \"col-md-6\"], [3, \"item\", \"compact\", \"quantityControl\", \"promotionLocation\"], [1, \"cx-dialog-separator\", \"col-sm-12\", \"d-xs-block\", \"d-sm-block\", \"d-md-none\"], [\"class\", \"cx-dialog-actions col-sm-12 col-md-6\", 4, \"ngIf\"], [1, \"cx-dialog-actions\", \"col-sm-12\", \"col-md-6\"], [1, \"cx-dialog-total\"], [1, \"cx-dialog-promotions\"], [3, \"promotions\"], [1, \"cx-dialog-buttons\"], [\"cxModal\", \"dismiss\", \"cxModalReason\", \"View Cart click\", \"autofocus\", \"\", 1, \"btn\", \"btn-primary\", 3, \"routerLink\"], [\"cxModal\", \"dismiss\", \"cxModalReason\", \"Proceed To Checkout click\", 1, \"btn\", \"btn-secondary\", 3, \"routerLink\"], [1, \"cx-dialog-title\", \"modal-title\"], [1, \"col-sm-12\"]],\n    template: function AddedToCartDialogComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", null, 0);\n        i0.ɵɵtemplate(2, AddedToCartDialogComponent_ng_container_2_Template, 13, 14, \"ng-container\", 1);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵtemplate(4, AddedToCartDialogComponent_ng_template_4_Template, 12, 7, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        const _r2 = i0.ɵɵreference(5);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 2, ctx.loaded$) || ctx.modalIsOpen)(\"ngIfElse\", _r2);\n      }\n    },\n    directives: [i3.NgIf, ModalDirective, IconComponent, CartItemComponent, PromotionsComponent, i1$1.RouterLinkWithHref, SpinnerComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe, i1.UrlPipe],\n    encapsulation: 2\n  });\n  return AddedToCartDialogComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CurrentProductService = /*#__PURE__*/(() => {\n  class CurrentProductService {\n    constructor(routingService, productService) {\n      this.routingService = routingService;\n      this.productService = productService;\n      this.DEFAULT_PRODUCT_SCOPE = \"details\" /* DETAILS */;\n    }\n    /**\n     * Returns an observable for the current product\n     * @returns Product\n     * @returns null if product can't be found\n     *\n     * @param scopes\n     */\n    getProduct(scopes) {\n      return this.getCode().pipe(distinctUntilChanged(), switchMap(productCode => {\n        return productCode ? this.productService.get(productCode, scopes || this.DEFAULT_PRODUCT_SCOPE) : of(null);\n      }), filter(isNotUndefined));\n    }\n    getCode() {\n      return this.routingService.getRouterState().pipe(map(state => state.state.params['productCode']));\n    }\n  }\n  CurrentProductService.ɵfac = function CurrentProductService_Factory(t) {\n    return new (t || CurrentProductService)(i0.ɵɵinject(i1.RoutingService), i0.ɵɵinject(i1.ProductService));\n  };\n  CurrentProductService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: CurrentProductService,\n    factory: CurrentProductService.ɵfac,\n    providedIn: 'root'\n  });\n  return CurrentProductService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass CmsComponentData {}\nlet AddToCartComponent = /*#__PURE__*/(() => {\n  class AddToCartComponent {\n    constructor(modalService, currentProductService, cd, activeCartService, component) {\n      var _a;\n      this.modalService = modalService;\n      this.currentProductService = currentProductService;\n      this.cd = cd;\n      this.activeCartService = activeCartService;\n      this.component = component;\n      this.showQuantity = true;\n      this.hasStock = false;\n      this.inventoryThreshold = false;\n      this.showInventory$ = (_a = this.component) === null || _a === void 0 ? void 0 : _a.data$.pipe(map(data => data.inventoryDisplay));\n      this.quantity = 1;\n      this.numberOfEntriesBeforeAdd = 0;\n      this.addToCartForm = new FormGroup({\n        quantity: new FormControl(1, {\n          updateOn: 'blur'\n        })\n      });\n    }\n    ngOnInit() {\n      var _a;\n      if (this.product) {\n        this.productCode = (_a = this.product.code) !== null && _a !== void 0 ? _a : '';\n        this.setStockInfo(this.product);\n        this.cd.markForCheck();\n      } else if (this.productCode) {\n        // force hasStock and quantity for the time being, as we do not have more info:\n        this.quantity = 1;\n        this.hasStock = true;\n        this.cd.markForCheck();\n      } else {\n        this.subscription = this.currentProductService.getProduct().pipe(filter(isNotNullable)).subscribe(product => {\n          var _a;\n          this.productCode = (_a = product.code) !== null && _a !== void 0 ? _a : '';\n          this.setStockInfo(product);\n          this.cd.markForCheck();\n        });\n      }\n    }\n    setStockInfo(product) {\n      var _a, _b, _c, _d;\n      this.quantity = 1;\n      this.hasStock = Boolean(((_a = product.stock) === null || _a === void 0 ? void 0 : _a.stockLevelStatus) !== 'outOfStock');\n      this.inventoryThreshold = (_c = (_b = product.stock) === null || _b === void 0 ? void 0 : _b.isValueRounded) !== null && _c !== void 0 ? _c : false;\n      if (this.hasStock && ((_d = product.stock) === null || _d === void 0 ? void 0 : _d.stockLevel)) {\n        this.maxQuantity = product.stock.stockLevel;\n      }\n    }\n    /**\n     * In specific scenarios, we need to omit displaying the stock level or append a plus to the value.\n     * When backoffice forces a product to be in stock, omit showing the stock level.\n     * When product stock level is limited by a threshold value, append '+' at the end.\n     * When out of stock, display no numerical value.\n     */\n    getInventory() {\n      if (this.hasStock) {\n        const quantityDisplay = this.maxQuantity ? this.maxQuantity.toString() : '';\n        return this.inventoryThreshold ? quantityDisplay + '+' : quantityDisplay;\n      } else {\n        return '';\n      }\n    }\n    updateCount(value) {\n      this.quantity = value;\n    }\n    addToCart() {\n      const quantity = this.addToCartForm.get('quantity').value;\n      if (!this.productCode || quantity <= 0) {\n        return;\n      }\n      this.activeCartService.getEntries().pipe(take(1)).subscribe(entries => {\n        this.numberOfEntriesBeforeAdd = entries.length;\n        this.openModal();\n        this.activeCartService.addEntry(this.productCode, quantity);\n      });\n    }\n    /**\n     * Provides required data and opens AddedToCartDialogComponent modal\n     */\n    openModal() {\n      let modalInstance;\n      this.modalRef = this.modalService.open(AddedToCartDialogComponent, {\n        centered: true,\n        size: 'lg'\n      });\n      modalInstance = this.modalRef.componentInstance;\n      // Display last entry for new product code. This always corresponds to\n      // our new item, independently of whether merging occured or not\n      modalInstance.entry$ = this.activeCartService.getLastEntry(this.productCode);\n      modalInstance.cart$ = this.activeCartService.getActive();\n      modalInstance.loaded$ = this.activeCartService.isStable();\n      modalInstance.quantity = this.quantity;\n      modalInstance.numberOfEntriesBeforeAdd = this.numberOfEntriesBeforeAdd;\n    }\n    ngOnDestroy() {\n      if (this.subscription) {\n        this.subscription.unsubscribe();\n      }\n    }\n  }\n  AddToCartComponent.ɵfac = function AddToCartComponent_Factory(t) {\n    return new (t || AddToCartComponent)(i0.ɵɵdirectiveInject(ModalService), i0.ɵɵdirectiveInject(CurrentProductService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.ActiveCartService), i0.ɵɵdirectiveInject(CmsComponentData, 8));\n  };\n  AddToCartComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: AddToCartComponent,\n    selectors: [[\"cx-add-to-cart\"]],\n    inputs: {\n      productCode: \"productCode\",\n      showQuantity: \"showQuantity\",\n      product: \"product\"\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[3, \"formGroup\", \"submit\", 4, \"ngIf\"], [3, \"formGroup\", \"submit\"], [\"class\", \"quantity\", 4, \"ngIf\"], [\"class\", \"btn btn-primary btn-block\", \"type\", \"submit\", 3, \"disabled\", 4, \"ngIf\"], [1, \"quantity\"], [3, \"max\", \"control\", 4, \"ngIf\"], [1, \"info\"], [4, \"ngIf\"], [3, \"max\", \"control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-block\", 3, \"disabled\"]],\n    template: function AddToCartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, AddToCartComponent_form_0_Template, 3, 3, \"form\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.productCode);\n      }\n    },\n    directives: [i3.NgIf, i3$1.ɵNgNoValidate, i3$1.NgControlStatusGroup, i3$1.FormGroupDirective, ItemCounterComponent],\n    pipes: [i1.TranslatePipe, i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return AddToCartComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet SpinnerModule = /*#__PURE__*/(() => {\n  class SpinnerModule {}\n  SpinnerModule.ɵfac = function SpinnerModule_Factory(t) {\n    return new (t || SpinnerModule)();\n  };\n  SpinnerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: SpinnerModule\n  });\n  SpinnerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, I18nModule]]\n  });\n  return SpinnerModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ConsentManagementComponent = /*#__PURE__*/(() => {\n  class ConsentManagementComponent {\n    constructor(userConsentService, globalMessageService, anonymousConsentsConfig, anonymousConsentsService, authService) {\n      this.userConsentService = userConsentService;\n      this.globalMessageService = globalMessageService;\n      this.anonymousConsentsConfig = anonymousConsentsConfig;\n      this.anonymousConsentsService = anonymousConsentsService;\n      this.authService = authService;\n      this.subscriptions = new Subscription();\n      this.allConsentsLoading = new BehaviorSubject(false);\n      this.requiredConsents = [];\n    }\n    ngOnInit() {\n      this.loading$ = combineLatest([this.userConsentService.getConsentsResultLoading(), this.userConsentService.getGiveConsentResultLoading(), this.userConsentService.getWithdrawConsentResultLoading(), this.authService.isUserLoggedIn(), this.allConsentsLoading]).pipe(map(([consentLoading, giveConsentLoading, withdrawConsentLoading, isUserLoggedIn, allConsentsLoading]) => consentLoading || giveConsentLoading || withdrawConsentLoading || !isUserLoggedIn || allConsentsLoading));\n      this.consentListInit();\n      this.giveConsentInit();\n      this.withdrawConsentInit();\n    }\n    consentListInit() {\n      this.templateList$ = this.userConsentService.getConsents().pipe(withLatestFrom(this.anonymousConsentsService.getTemplates(), this.authService.isUserLoggedIn()), filter(([_templateList, _anonymousTemplates, isUserLoggedIn]) => isUserLoggedIn), tap(([templateList, _anonymousTemplates]) => {\n        if (!this.consentsExists(templateList)) {\n          this.userConsentService.loadConsents();\n        }\n      }), map(([templateList, anonymousTemplates]) => {\n        if (Boolean(this.anonymousConsentsConfig.anonymousConsents)) {\n          if (Boolean(this.anonymousConsentsConfig.anonymousConsents.requiredConsents)) {\n            this.requiredConsents = this.anonymousConsentsConfig.anonymousConsents.requiredConsents;\n          }\n          if (Boolean(this.anonymousConsentsConfig.anonymousConsents.consentManagementPage)) {\n            return this.hideAnonymousConsents(templateList, anonymousTemplates);\n          }\n        }\n        return templateList;\n      }));\n    }\n    hideAnonymousConsents(templateList, anonymousTemplates = []) {\n      let hideTemplateIds = [];\n      if (!this.anonymousConsentsConfig.anonymousConsents.consentManagementPage.showAnonymousConsents) {\n        hideTemplateIds = anonymousTemplates.map(template => template.id);\n        return this.userConsentService.filterConsentTemplates(templateList, hideTemplateIds);\n      }\n      if (Boolean(this.anonymousConsentsConfig.anonymousConsents.consentManagementPage.hideConsents) && this.anonymousConsentsConfig.anonymousConsents.consentManagementPage.hideConsents.length > 0) {\n        hideTemplateIds = this.anonymousConsentsConfig.anonymousConsents.consentManagementPage.hideConsents;\n      }\n      return this.userConsentService.filterConsentTemplates(templateList, hideTemplateIds);\n    }\n    giveConsentInit() {\n      this.userConsentService.resetGiveConsentProcessState();\n      this.subscriptions.add(this.userConsentService.getGiveConsentResultSuccess().subscribe(success => this.onConsentGivenSuccess(success)));\n    }\n    withdrawConsentInit() {\n      this.userConsentService.resetWithdrawConsentProcessState();\n      this.subscriptions.add(this.userConsentService.getWithdrawConsentResultLoading().pipe(skipWhile(Boolean), withLatestFrom(this.userConsentService.getWithdrawConsentResultSuccess()), map(([, withdrawalSuccess]) => withdrawalSuccess), tap(withdrawalSuccess => {\n        if (withdrawalSuccess) {\n          this.userConsentService.loadConsents();\n        }\n      })).subscribe(withdrawalSuccess => this.onConsentWithdrawnSuccess(withdrawalSuccess)));\n    }\n    consentsExists(templateList) {\n      return Boolean(templateList) && templateList.length > 0;\n    }\n    onConsentChange({\n      given,\n      template\n    }) {\n      if (given) {\n        this.userConsentService.giveConsent(template.id, template.version);\n      } else {\n        this.userConsentService.withdrawConsent(template.currentConsent.code);\n      }\n    }\n    onConsentGivenSuccess(success) {\n      if (success) {\n        this.userConsentService.resetGiveConsentProcessState();\n        this.globalMessageService.add({\n          key: 'consentManagementForm.message.success.given'\n        }, GlobalMessageType.MSG_TYPE_CONFIRMATION);\n      }\n    }\n    onConsentWithdrawnSuccess(success) {\n      if (success) {\n        this.userConsentService.resetWithdrawConsentProcessState();\n        this.globalMessageService.add({\n          key: 'consentManagementForm.message.success.withdrawn'\n        }, GlobalMessageType.MSG_TYPE_CONFIRMATION);\n      }\n    }\n    rejectAll(templates = []) {\n      const consentsToWithdraw = [];\n      templates.forEach(template => {\n        if (this.userConsentService.isConsentGiven(template.currentConsent)) {\n          if (this.isRequiredConsent(template)) {\n            return;\n          }\n          consentsToWithdraw.push(template);\n        }\n      });\n      this.allConsentsLoading.next(true);\n      this.subscriptions.add(this.setupWithdrawalStream(consentsToWithdraw).pipe(tap(_timesLoaded => this.allConsentsLoading.next(false))).subscribe());\n    }\n    setupWithdrawalStream(consentsToWithdraw = []) {\n      const loading$ = concat(this.userConsentService.getWithdrawConsentResultLoading()).pipe(distinctUntilChanged(), filter(loading => !loading));\n      const count$ = loading$.pipe(scan((acc, _value) => acc + 1, -1));\n      const withdraw$ = count$.pipe(tap(i => {\n        if (i < consentsToWithdraw.length) {\n          this.userConsentService.withdrawConsent(consentsToWithdraw[i].currentConsent.code);\n        }\n      }));\n      const checkTimesLoaded$ = withdraw$.pipe(filter(timesLoaded => timesLoaded === consentsToWithdraw.length));\n      return checkTimesLoaded$;\n    }\n    allowAll(templates = []) {\n      const consentsToGive = [];\n      templates.forEach(template => {\n        if (this.userConsentService.isConsentWithdrawn(template.currentConsent)) {\n          if (this.isRequiredConsent(template)) {\n            return;\n          }\n        }\n        consentsToGive.push(template);\n      });\n      this.allConsentsLoading.next(true);\n      this.subscriptions.add(this.setupGiveStream(consentsToGive).pipe(tap(_timesLoaded => this.allConsentsLoading.next(false))).subscribe());\n    }\n    setupGiveStream(consentsToGive = []) {\n      const loading$ = concat(this.userConsentService.getGiveConsentResultLoading()).pipe(distinctUntilChanged(), filter(loading => !loading));\n      const count$ = loading$.pipe(scan((acc, _value) => acc + 1, -1));\n      const giveConsent$ = count$.pipe(tap(i => {\n        if (i < consentsToGive.length) {\n          this.userConsentService.giveConsent(consentsToGive[i].id, consentsToGive[i].version);\n        }\n      }));\n      const checkTimesLoaded$ = giveConsent$.pipe(filter(timesLoaded => timesLoaded === consentsToGive.length));\n      return checkTimesLoaded$;\n    }\n    isRequiredConsent(template) {\n      return Boolean(this.anonymousConsentsConfig.anonymousConsents) && Boolean(this.anonymousConsentsConfig.anonymousConsents.requiredConsents) && this.anonymousConsentsConfig.anonymousConsents.requiredConsents.includes(template.id);\n    }\n    ngOnDestroy() {\n      this.subscriptions.unsubscribe();\n      this.allConsentsLoading.unsubscribe();\n      this.userConsentService.resetGiveConsentProcessState();\n      this.userConsentService.resetWithdrawConsentProcessState();\n    }\n  }\n  ConsentManagementComponent.ɵfac = function ConsentManagementComponent_Factory(t) {\n    return new (t || ConsentManagementComponent)(i0.ɵɵdirectiveInject(i1.UserConsentService), i0.ɵɵdirectiveInject(i1.GlobalMessageService), i0.ɵɵdirectiveInject(i1.AnonymousConsentsConfig), i0.ɵɵdirectiveInject(i1.AnonymousConsentsService), i0.ɵɵdirectiveInject(i1.AuthService));\n  };\n  ConsentManagementComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ConsentManagementComponent,\n    selectors: [[\"cx-consent-management\"]],\n    decls: 4,\n    vars: 4,\n    consts: [[4, \"ngIf\", \"ngIfElse\"], [\"consentManagementForm\", \"\"], [1, \"cx-spinner\"], [4, \"ngIf\"], [1, \"cx-consent-action-links\"], [1, \"col-sm-12\", \"col-md-8\", \"col-lg-6\"], [\"tabindex\", \"0\", 1, \"btn\", \"btn-link\", \"cx-action-link\", 3, \"click\"], [1, \"cx-consent-toggles\"], [3, \"consentTemplate\", \"requiredConsents\", \"consentChanged\", 4, \"ngFor\", \"ngForOf\"], [3, \"consentTemplate\", \"requiredConsents\", \"consentChanged\"]],\n    template: function ConsentManagementComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ConsentManagementComponent_div_0_Template, 3, 0, \"div\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵtemplate(2, ConsentManagementComponent_ng_template_2_Template, 2, 3, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(3);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.loading$))(\"ngIfElse\", _r1);\n      }\n    },\n    directives: [i3.NgIf, SpinnerComponent, i3.NgForOf, ConsentManagementFormComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return ConsentManagementComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ConsentManagementModule = /*#__PURE__*/(() => {\n  class ConsentManagementModule {}\n  ConsentManagementModule.ɵfac = function ConsentManagementModule_Factory(t) {\n    return new (t || ConsentManagementModule)();\n  };\n  ConsentManagementModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ConsentManagementModule\n  });\n  ConsentManagementModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        ConsentManagementComponent: {\n          component: ConsentManagementComponent,\n          guards: [AuthGuard]\n        }\n      }\n    })],\n    imports: [[CommonModule, FormsModule, ReactiveFormsModule, SpinnerModule, I18nModule, IconModule]]\n  });\n  return ConsentManagementModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AnonymousConsentsDialogModule = /*#__PURE__*/(() => {\n  class AnonymousConsentsDialogModule {}\n  AnonymousConsentsDialogModule.ɵfac = function AnonymousConsentsDialogModule_Factory(t) {\n    return new (t || AnonymousConsentsDialogModule)();\n  };\n  AnonymousConsentsDialogModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: AnonymousConsentsDialogModule\n  });\n  AnonymousConsentsDialogModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, I18nModule, IconModule, SpinnerModule, ConsentManagementModule, KeyboardFocusModule]]\n  });\n  return AnonymousConsentsDialogModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nvar PopoverEvent = /*#__PURE__*/(() => {\n  (function (PopoverEvent) {\n    PopoverEvent[\"INSIDE_CLICK\"] = \"insideClick\";\n    PopoverEvent[\"OUTSIDE_CLICK\"] = \"outsideClick\";\n    PopoverEvent[\"ESCAPE_KEYDOWN\"] = \"escapeKeydown\";\n    PopoverEvent[\"CLOSE_BUTTON_CLICK\"] = \"closeButtonClick\";\n    PopoverEvent[\"CLOSE_BUTTON_KEYDOWN\"] = \"closeButtonKeydown\";\n    PopoverEvent[\"ROUTE_CHANGE\"] = \"routeChange\";\n    PopoverEvent[\"OPEN\"] = \"open\";\n    PopoverEvent[\"OPEN_BY_KEYBOARD\"] = \"openByKeyboard\";\n  })(PopoverEvent || (PopoverEvent = {}));\n  return PopoverEvent;\n})();\nlet PositioningService = /*#__PURE__*/(() => {\n  class PositioningService {\n    constructor(winRef) {\n      this.winRef = winRef;\n    }\n    get allowedPlacements() {\n      return ['top', 'bottom', 'left', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right', 'left-top', 'left-bottom', 'right-top', 'right-bottom'];\n    }\n    get placementSeparator() {\n      return /\\s+/;\n    }\n    get window() {\n      return this.winRef.nativeWindow;\n    }\n    get document() {\n      return this.winRef.document;\n    }\n    getAllStyles(element) {\n      var _a;\n      return (_a = this.window) === null || _a === void 0 ? void 0 : _a.getComputedStyle(element);\n    }\n    getPositionStyleProperty(element) {\n      const styles = this.getAllStyles(element);\n      if (styles) return styles['position'] || undefined;\n    }\n    isStaticPositioned(element) {\n      return (this.getPositionStyleProperty(element) || 'static') === 'static';\n    }\n    offsetParent(element) {\n      let offsetParentEl = element.offsetParent || this.document.documentElement;\n      while (offsetParentEl && offsetParentEl !== this.document.documentElement && this.isStaticPositioned(offsetParentEl)) {\n        offsetParentEl = offsetParentEl.offsetParent;\n      }\n      return offsetParentEl || this.document.documentElement;\n    }\n    position(element, round = true) {\n      let elPosition;\n      let parentOffset = {\n        width: 0,\n        height: 0,\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0\n      };\n      if (this.getPositionStyleProperty(element) === 'fixed') {\n        elPosition = element.getBoundingClientRect();\n        elPosition = {\n          top: elPosition.top,\n          bottom: elPosition.bottom,\n          left: elPosition.left,\n          right: elPosition.right,\n          height: elPosition.height,\n          width: elPosition.width\n        };\n      } else {\n        const offsetParentEl = this.offsetParent(element);\n        elPosition = this.offset(element, false);\n        if (offsetParentEl !== this.document.documentElement) {\n          parentOffset = this.offset(offsetParentEl, false);\n        }\n        parentOffset.top += offsetParentEl.clientTop;\n        parentOffset.left += offsetParentEl.clientLeft;\n      }\n      elPosition.top -= parentOffset.top;\n      elPosition.bottom -= parentOffset.top;\n      elPosition.left -= parentOffset.left;\n      elPosition.right -= parentOffset.left;\n      if (round) {\n        elPosition.top = Math.round(elPosition.top);\n        elPosition.bottom = Math.round(elPosition.bottom);\n        elPosition.left = Math.round(elPosition.left);\n        elPosition.right = Math.round(elPosition.right);\n      }\n      return elPosition;\n    }\n    offset(element, round = true) {\n      const elBcr = element.getBoundingClientRect();\n      const viewportOffset = {\n        top: this.window && this.window.pageYOffset - this.document.documentElement.clientTop || 0,\n        left: this.window && this.window.pageXOffset - this.document.documentElement.clientLeft || 0\n      };\n      const elOffset = {\n        height: elBcr.height || element.offsetHeight,\n        width: elBcr.width || element.offsetWidth,\n        top: elBcr.top + viewportOffset.top,\n        bottom: elBcr.bottom + viewportOffset.top,\n        left: elBcr.left + viewportOffset.left,\n        right: elBcr.right + viewportOffset.left\n      };\n      if (round) {\n        elOffset.height = Math.round(elOffset.height);\n        elOffset.width = Math.round(elOffset.width);\n        elOffset.top = Math.round(elOffset.top);\n        elOffset.bottom = Math.round(elOffset.bottom);\n        elOffset.left = Math.round(elOffset.left);\n        elOffset.right = Math.round(elOffset.right);\n      }\n      return elOffset;\n    }\n    /*\n      Return false if the element to position is outside the viewport.\n    */\n    _positionElements(hostElement, targetElement, placement, appendToBody) {\n      var _a, _b;\n      const [placementPrimary = 'top', placementSecondary = 'center'] = placement.split('-');\n      const hostElPosition = appendToBody ? this.offset(hostElement, false) : this.position(hostElement, false);\n      const targetElStyles = this.getAllStyles(targetElement);\n      if (targetElStyles) {\n        const marginTop = parseFloat(targetElStyles.marginTop);\n        const marginBottom = parseFloat(targetElStyles.marginBottom);\n        const marginLeft = parseFloat(targetElStyles.marginLeft);\n        const marginRight = parseFloat(targetElStyles.marginRight);\n        let topPosition = 0;\n        let leftPosition = 0;\n        switch (placementPrimary) {\n          case 'top':\n            topPosition = hostElPosition.top - (targetElement.offsetHeight + marginTop + marginBottom);\n            break;\n          case 'bottom':\n            topPosition = hostElPosition.top + hostElPosition.height;\n            break;\n          case 'left':\n            leftPosition = hostElPosition.left - (targetElement.offsetWidth + marginLeft + marginRight);\n            break;\n          case 'right':\n            leftPosition = hostElPosition.left + hostElPosition.width;\n            break;\n        }\n        switch (placementSecondary) {\n          case 'top':\n            topPosition = hostElPosition.top;\n            break;\n          case 'bottom':\n            topPosition = hostElPosition.top + hostElPosition.height - targetElement.offsetHeight;\n            break;\n          case 'left':\n            leftPosition = hostElPosition.left;\n            break;\n          case 'right':\n            leftPosition = hostElPosition.left + hostElPosition.width - targetElement.offsetWidth;\n            break;\n          case 'center':\n            if (placementPrimary === 'top' || placementPrimary === 'bottom') {\n              leftPosition = hostElPosition.left + hostElPosition.width / 2 - targetElement.offsetWidth / 2;\n            } else {\n              topPosition = hostElPosition.top + hostElPosition.height / 2 - targetElement.offsetHeight / 2;\n            }\n            break;\n        }\n        targetElement.style.transform = `translate(${Math.round(leftPosition)}px, ${Math.round(topPosition)}px)`;\n        // Check if the targetElement is inside the viewport\n        const targetElBCR = targetElement.getBoundingClientRect();\n        const html = this.document.documentElement;\n        const windowHeight = ((_a = this.window) === null || _a === void 0 ? void 0 : _a.innerHeight) || html.clientHeight;\n        const windowWidth = ((_b = this.window) === null || _b === void 0 ? void 0 : _b.innerWidth) || html.clientWidth;\n        return targetElBCR.left >= 0 && targetElBCR.top >= 0 && targetElBCR.right <= windowWidth && targetElBCR.bottom <= windowHeight;\n      }\n      return false;\n    }\n    /*\n     * Accept the placement array and applies the appropriate placement dependent on the viewport.\n     * Returns the applied placement.\n     * In case of auto placement, placements are selected in order\n     *   'top', 'bottom', 'left', 'right',\n     *   'top-left', 'top-right',\n     *   'bottom-left', 'bottom-right',\n     *   'left-top', 'left-bottom',\n     *   'right-top', 'right-bottom'.\n     * */\n    positionElements(hostElement, targetElement, placement, appendToBody) {\n      const placementVals = Array.isArray(placement) ? placement : placement.split(this.placementSeparator);\n      let hasAuto = placementVals.findIndex(val => val === 'auto');\n      if (hasAuto >= 0) {\n        this.allowedPlacements.forEach(obj => {\n          if (placementVals.find(val => val.search('^' + obj) !== -1) == null) {\n            placementVals.splice(hasAuto++, 1, obj);\n          }\n        });\n      }\n      const style = targetElement.style;\n      style.position = 'absolute';\n      style.top = '0';\n      style.left = '0';\n      let testPlacement = 'auto';\n      let isInViewport = false;\n      for (testPlacement of placementVals) {\n        if (this._positionElements(hostElement, targetElement, testPlacement, appendToBody)) {\n          isInViewport = true;\n          break;\n        }\n      }\n      if (!isInViewport) {\n        this._positionElements(hostElement, targetElement, testPlacement, appendToBody);\n      }\n      return testPlacement;\n    }\n    getPositioningClass(position, autoPositioning) {\n      let positionClass = `${position || 'top'}`;\n      if (autoPositioning && positionClass !== 'auto') {\n        positionClass = `${positionClass} auto`;\n      }\n      return positionClass;\n    }\n  }\n  PositioningService.ɵfac = function PositioningService_Factory(t) {\n    return new (t || PositioningService)(i0.ɵɵinject(i1.WindowRef));\n  };\n  PositioningService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: PositioningService,\n    factory: PositioningService.ɵfac,\n    providedIn: 'root'\n  });\n  return PositioningService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PopoverComponent = /*#__PURE__*/(() => {\n  class PopoverComponent {\n    constructor(positioningService, winRef, changeDetectionRef, renderer, router) {\n      this.positioningService = positioningService;\n      this.winRef = winRef;\n      this.changeDetectionRef = changeDetectionRef;\n      this.renderer = renderer;\n      this.router = router;\n      /**\n       * Icon types for close button icon.\n       */\n      this.iconTypes = ICON_TYPE;\n    }\n    /**\n     * Listens for click inside popover component wrapper.\n     */\n    insideClick() {\n      this.eventSubject.next(PopoverEvent.INSIDE_CLICK);\n    }\n    /**\n     * Listens for every document click and ignores clicks\n     * inside component.\n     */\n    outsideClick(event) {\n      if (!this.isClickedOnPopover(event) && !this.isClickedOnDirective(event)) {\n        this.eventSubject.next(PopoverEvent.OUTSIDE_CLICK);\n      }\n    }\n    /**\n     * Listens for `escape` keydown event.\n     */\n    escapeKeydown() {\n      this.eventSubject.next(PopoverEvent.ESCAPE_KEYDOWN);\n    }\n    isClickedOnPopover(event) {\n      return this.popoverInstance.location.nativeElement.contains(event.target);\n    }\n    isClickedOnDirective(event) {\n      return this.triggerElement.nativeElement.contains(event.target);\n    }\n    /**\n     * Emits close event trigger.\n     */\n    close(event) {\n      event.preventDefault();\n      if (event instanceof MouseEvent) {\n        this.eventSubject.next(PopoverEvent.CLOSE_BUTTON_CLICK);\n      } else {\n        this.eventSubject.next(PopoverEvent.CLOSE_BUTTON_KEYDOWN);\n      }\n    }\n    /**\n     * Method uses `Renderer2` service to listen window scroll event.\n     *\n     * Registered only if property `positionOnScroll` is set to `true`.\n     */\n    triggerScrollEvent() {\n      this.scrollEventUnlistener = this.renderer.listen(this.winRef.nativeWindow, 'scroll', () => this.positionPopover());\n    }\n    /**\n     * Method uses positioning service calculation and based on that\n     * updates class name for popover component instance.\n     */\n    positionPopover() {\n      this.popoverClass = this.positioningService.positionElements(this.triggerElement.nativeElement, this.popoverInstance.location.nativeElement, this.positioningService.getPositioningClass(this.position, this.autoPositioning), this.appendToBody);\n      this.changeDetectionRef.markForCheck();\n      this.baseClass = `${this.customClass} ${this.popoverClass} opened`;\n    }\n    ngOnInit() {\n      this.isTemplate = this.content instanceof TemplateRef;\n      if (!this.customClass) this.customClass = 'cx-popover';\n      if (!this.position) this.position = 'top';\n      if (this.autoPositioning === undefined) this.autoPositioning = true;\n      this.baseClass = `${this.customClass}`;\n      this.resizeSub = this.winRef.resize$.subscribe(() => {\n        this.positionPopover();\n      });\n      this.routeChangeSub = this.router.events.pipe(filter(event => event instanceof NavigationStart)).subscribe(() => {\n        this.eventSubject.next(PopoverEvent.ROUTE_CHANGE);\n      });\n      if (this.positionOnScroll) {\n        this.triggerScrollEvent();\n      }\n    }\n    ngAfterViewChecked() {\n      this.positionPopover();\n    }\n    ngOnDestroy() {\n      if (this.resizeSub) {\n        this.resizeSub.unsubscribe();\n      }\n      if (this.routeChangeSub) {\n        this.routeChangeSub.unsubscribe();\n      }\n      if (this.scrollEventUnlistener) {\n        this.scrollEventUnlistener();\n      }\n    }\n  }\n  PopoverComponent.ɵfac = function PopoverComponent_Factory(t) {\n    return new (t || PopoverComponent)(i0.ɵɵdirectiveInject(PositioningService), i0.ɵɵdirectiveInject(i1.WindowRef), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i1$1.Router));\n  };\n  PopoverComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: PopoverComponent,\n    selectors: [[\"cx-popover\"]],\n    hostVars: 1,\n    hostBindings: function PopoverComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function PopoverComponent_click_HostBindingHandler() {\n          return ctx.insideClick();\n        })(\"click\", function PopoverComponent_click_HostBindingHandler($event) {\n          return ctx.outsideClick($event);\n        }, false, i0.ɵɵresolveDocument)(\"keydown.escape\", function PopoverComponent_keydown_escape_HostBindingHandler() {\n          return ctx.escapeKeydown();\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵhostProperty(\"className\", ctx.baseClass);\n      }\n    },\n    decls: 6,\n    vars: 4,\n    consts: [[1, \"arrow\"], [1, \"popover-body\", 3, \"cxFocus\"], [1, \"cx-close-row\"], [\"type\", \"button\", \"class\", \"close\", 3, \"keydown.enter\", \"keydown.space\", \"click\", 4, \"ngIf\"], [4, \"ngIf\"], [\"type\", \"button\", 1, \"close\", 3, \"keydown.enter\", \"keydown.space\", \"click\"], [3, \"type\"], [4, \"ngTemplateOutlet\"]],\n    template: function PopoverComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵtemplate(3, PopoverComponent_button_3_Template, 2, 1, \"button\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, PopoverComponent_ng_container_4_Template, 2, 1, \"ng-container\", 4);\n        i0.ɵɵtemplate(5, PopoverComponent_span_5_Template, 2, 1, \"span\", 4);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"cxFocus\", ctx.focusConfig);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.displayCloseButton);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isTemplate);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isTemplate);\n      }\n    },\n    directives: [FocusDirective, i3.NgIf, IconComponent, i3.NgTemplateOutlet],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return PopoverComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PopoverService = /*#__PURE__*/(() => {\n  class PopoverService {\n    /**\n     * For a11y improvements method returns different `FocusConfig`\n     * based on which event popover was triggered.\n     */\n    getFocusConfig(event, appendToBody) {\n      let config = {};\n      if (event === PopoverEvent.OPEN_BY_KEYBOARD && appendToBody) {\n        config = {\n          trap: true,\n          block: true,\n          focusOnEscape: false,\n          autofocus: true\n        };\n      }\n      return config;\n    }\n    setFocusOnElement(element, focusConfig, appendToBody) {\n      if (focusConfig && appendToBody) {\n        element.nativeElement.focus();\n      }\n    }\n  }\n  PopoverService.ɵfac = function PopoverService_Factory(t) {\n    return new (t || PopoverService)();\n  };\n  PopoverService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: PopoverService,\n    factory: PopoverService.ɵfac,\n    providedIn: 'root'\n  });\n  return PopoverService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Directive to bind popover with any DOM element.\n */\nlet PopoverDirective = /*#__PURE__*/(() => {\n  class PopoverDirective {\n    constructor(element, viewContainer, componentFactoryResolver, renderer, changeDetectorRef, popoverService, winRef) {\n      this.element = element;\n      this.viewContainer = viewContainer;\n      this.componentFactoryResolver = componentFactoryResolver;\n      this.renderer = renderer;\n      this.changeDetectorRef = changeDetectorRef;\n      this.popoverService = popoverService;\n      this.winRef = winRef;\n      /**\n       * An event emitted when the popover is opened.\n       */\n      this.openPopover = new EventEmitter();\n      /**\n       * An event emitted when the popover is closed.\n       */\n      this.closePopover = new EventEmitter();\n      /**\n       * Subject which emits specific type of `PopoverEvent`.\n       */\n      this.eventSubject = new Subject();\n      this.openTriggerEvents = [PopoverEvent.OPEN, PopoverEvent.OPEN_BY_KEYBOARD];\n      this.focusPopoverTriggerEvents = [PopoverEvent.OPEN_BY_KEYBOARD];\n      this.closeTriggerEvents = [PopoverEvent.ROUTE_CHANGE, PopoverEvent.ESCAPE_KEYDOWN, PopoverEvent.OUTSIDE_CLICK, PopoverEvent.CLOSE_BUTTON_KEYDOWN, PopoverEvent.CLOSE_BUTTON_CLICK];\n      this.focusDirectiveTriggerEvents = [PopoverEvent.ESCAPE_KEYDOWN, PopoverEvent.CLOSE_BUTTON_KEYDOWN];\n    }\n    /**\n     * Listen events fired on element binded to popover directive.\n     *\n     * Based on event type some a11y improvements can be made.\n     * For example if popover was opened by `space` or `enter` key\n     * dedicated `FocusConfig` can be set to autofocus first\n     * focusable element in popover container.\n     */\n    handlePress(event) {\n      event === null || event === void 0 ? void 0 : event.preventDefault();\n      if ((event === null || event === void 0 ? void 0 : event.target) === this.element.nativeElement && !this.isOpen) {\n        this.eventSubject.next(PopoverEvent.OPEN_BY_KEYBOARD);\n      } else if (this.isOpen) {\n        this.eventSubject.next(PopoverEvent.CLOSE_BUTTON_KEYDOWN);\n      }\n    }\n    handleTab() {\n      var _a;\n      if (!((_a = this.focusConfig) === null || _a === void 0 ? void 0 : _a.trap) && this.isOpen) {\n        this.eventSubject.next(PopoverEvent.CLOSE_BUTTON_KEYDOWN);\n      }\n    }\n    handleEscape() {\n      this.eventSubject.next(PopoverEvent.ESCAPE_KEYDOWN);\n    }\n    handleClick(event) {\n      event === null || event === void 0 ? void 0 : event.preventDefault();\n      if ((event === null || event === void 0 ? void 0 : event.target) === this.element.nativeElement && !this.isOpen) {\n        this.eventSubject.next(PopoverEvent.OPEN);\n      } else if (this.isOpen) {\n        this.eventSubject.next(PopoverEvent.CLOSE_BUTTON_CLICK);\n      }\n    }\n    /**\n     * Method performs open action for popover component.\n     */\n    open(event) {\n      var _a, _b;\n      if (!((_a = this.cxPopoverOptions) === null || _a === void 0 ? void 0 : _a.disable)) {\n        this.isOpen = true;\n        this.focusConfig = this.popoverService.getFocusConfig(event, ((_b = this.cxPopoverOptions) === null || _b === void 0 ? void 0 : _b.appendToBody) || false);\n        this.renderPopover();\n        this.openPopover.emit();\n      }\n    }\n    /**\n     * Method performs close action for popover component.\n     */\n    close() {\n      this.isOpen = false;\n      this.viewContainer.clear();\n      this.closePopover.emit();\n    }\n    /**\n     * Method subscribes for events emitted by popover component\n     * and based on event performs specific action.\n     */\n    handlePopoverEvents() {\n      this.eventSubject.subscribe(event => {\n        var _a;\n        if (this.openTriggerEvents.includes(event)) {\n          this.open(event);\n        }\n        if (this.focusPopoverTriggerEvents.includes(event)) {\n          this.popoverContainer.location.nativeElement.focus();\n        }\n        if (this.closeTriggerEvents.includes(event)) {\n          this.close();\n        }\n        if (this.focusDirectiveTriggerEvents.includes(event)) {\n          this.popoverService.setFocusOnElement(this.element, this.focusConfig, (_a = this.cxPopoverOptions) === null || _a === void 0 ? void 0 : _a.appendToBody);\n        }\n      });\n    }\n    /**\n     * Method creates instance and pass parameters to popover component.\n     */\n    renderPopover() {\n      var _a, _b, _c, _d, _e, _f, _g;\n      const containerFactory = this.componentFactoryResolver.resolveComponentFactory(PopoverComponent);\n      this.popoverContainer = this.viewContainer.createComponent(containerFactory);\n      const componentInstance = this.popoverContainer.instance;\n      if (componentInstance) {\n        componentInstance.content = this.cxPopover;\n        componentInstance.triggerElement = this.element;\n        componentInstance.popoverInstance = this.popoverContainer;\n        componentInstance.focusConfig = this.focusConfig;\n        componentInstance.eventSubject = this.eventSubject;\n        componentInstance.position = (_a = this.cxPopoverOptions) === null || _a === void 0 ? void 0 : _a.placement;\n        componentInstance.customClass = (_b = this.cxPopoverOptions) === null || _b === void 0 ? void 0 : _b.class;\n        componentInstance.appendToBody = (_c = this.cxPopoverOptions) === null || _c === void 0 ? void 0 : _c.appendToBody;\n        componentInstance.positionOnScroll = (_d = this.cxPopoverOptions) === null || _d === void 0 ? void 0 : _d.positionOnScroll;\n        componentInstance.displayCloseButton = (_e = this.cxPopoverOptions) === null || _e === void 0 ? void 0 : _e.displayCloseButton;\n        componentInstance.autoPositioning = (_f = this.cxPopoverOptions) === null || _f === void 0 ? void 0 : _f.autoPositioning;\n        if ((_g = this.cxPopoverOptions) === null || _g === void 0 ? void 0 : _g.appendToBody) {\n          this.renderer.appendChild(this.winRef.document.body, this.popoverContainer.location.nativeElement);\n        }\n        this.popoverContainer.changeDetectorRef.detectChanges();\n      }\n    }\n    ngOnInit() {\n      this.handlePopoverEvents();\n    }\n  }\n  PopoverDirective.ɵfac = function PopoverDirective_Factory(t) {\n    return new (t || PopoverDirective)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.ViewContainerRef), i0.ɵɵdirectiveInject(i0.ComponentFactoryResolver), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(PopoverService), i0.ɵɵdirectiveInject(i1.WindowRef));\n  };\n  PopoverDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: PopoverDirective,\n    selectors: [[\"\", \"cxPopover\", \"\"]],\n    hostBindings: function PopoverDirective_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"keydown.enter\", function PopoverDirective_keydown_enter_HostBindingHandler($event) {\n          return ctx.handlePress($event);\n        })(\"keydown.space\", function PopoverDirective_keydown_space_HostBindingHandler($event) {\n          return ctx.handlePress($event);\n        })(\"keydown.tab\", function PopoverDirective_keydown_tab_HostBindingHandler() {\n          return ctx.handleTab();\n        })(\"keydown.shift.tab\", function PopoverDirective_keydown_shift_tab_HostBindingHandler() {\n          return ctx.handleTab();\n        })(\"keydown.escape\", function PopoverDirective_keydown_escape_HostBindingHandler() {\n          return ctx.handleEscape();\n        })(\"click\", function PopoverDirective_click_HostBindingHandler($event) {\n          return ctx.handleClick($event);\n        });\n      }\n    },\n    inputs: {\n      cxPopover: \"cxPopover\",\n      cxPopoverOptions: \"cxPopoverOptions\"\n    },\n    outputs: {\n      openPopover: \"openPopover\",\n      closePopover: \"closePopover\"\n    }\n  });\n  return PopoverDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst defaultLimit = 20;\nlet TruncatePipe = /*#__PURE__*/(() => {\n  class TruncatePipe {\n    /**\n     * example usage {{ exampleString | cxTruncate: [1, ''] }}\n     */\n    transform(value, args) {\n      if (!args) {\n        return value;\n      }\n      let trail = '...';\n      const limit = args.length > 0 && args[0] && Number.isInteger(+args[0]) ? args[0] : defaultLimit;\n      if (args.length > 1 && args[1] !== undefined) {\n        trail = args[1];\n      }\n      return value.length > limit ? value.substring(0, limit) + trail : value;\n    }\n  }\n  TruncatePipe.ɵfac = function TruncatePipe_Factory(t) {\n    return new (t || TruncatePipe)();\n  };\n  TruncatePipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"cxTruncate\",\n    type: TruncatePipe,\n    pure: true\n  });\n  return TruncatePipe;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TruncateTextPopoverComponent = /*#__PURE__*/(() => {\n  class TruncateTextPopoverComponent {\n    constructor() {\n      /**\n       * The maximum length of the characters after which the text will be truncated\n       */\n      this.charactersLimit = 100;\n    }\n    get isTruncated() {\n      return this.content.length > +this.charactersLimit;\n    }\n  }\n  TruncateTextPopoverComponent.ɵfac = function TruncateTextPopoverComponent_Factory(t) {\n    return new (t || TruncateTextPopoverComponent)();\n  };\n  TruncateTextPopoverComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TruncateTextPopoverComponent,\n    selectors: [[\"cx-truncate-text-popover\"]],\n    inputs: {\n      content: \"content\",\n      charactersLimit: \"charactersLimit\"\n    },\n    decls: 8,\n    vars: 7,\n    consts: [[1, \"truncated-text\"], [\"fullText\", \"\"], [\"class\", \"ml-1 link cx-action-link\", 3, \"cxPopover\", \"cxPopoverOptions\", 4, \"ngIf\"], [1, \"ml-1\", \"link\", \"cx-action-link\", 3, \"cxPopover\", \"cxPopoverOptions\"]],\n    template: function TruncateTextPopoverComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementContainerStart(0);\n        i0.ɵɵelementContainerStart(1);\n        i0.ɵɵelementStart(2, \"span\", 0);\n        i0.ɵɵtext(3);\n        i0.ɵɵpipe(4, \"cxTruncate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(5, TruncateTextPopoverComponent_ng_template_5_Template, 1, 1, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(7, TruncateTextPopoverComponent_button_7_Template, 3, 6, \"button\", 2);\n        i0.ɵɵelementContainerEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(4, 2, ctx.content, i0.ɵɵpureFunction1(5, _c14, ctx.charactersLimit)), \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.isTruncated);\n      }\n    },\n    directives: [i3.NgIf, PopoverDirective],\n    pipes: [TruncatePipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TruncateTextPopoverComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CardComponent = /*#__PURE__*/(() => {\n  class CardComponent {\n    constructor() {\n      this.iconTypes = ICON_TYPE;\n      this.deleteCard = new EventEmitter();\n      this.setDefaultCard = new EventEmitter();\n      this.sendCard = new EventEmitter();\n      this.editCard = new EventEmitter();\n      this.cancelCard = new EventEmitter();\n      this.border = false;\n      this.editMode = false;\n      this.isDefault = false;\n      this.fitToContainer = false;\n      this.truncateText = false;\n      this.charactersLimit = 100;\n    }\n    // ACTIONS\n    setEditMode() {\n      this.editMode = true;\n    }\n    cancelEdit() {\n      this.editMode = false;\n      this.cancelCard.emit(5);\n    }\n    delete() {\n      this.deleteCard.emit(1);\n    }\n    setDefault() {\n      this.isDefault = true;\n      this.setDefaultCard.emit(2);\n    }\n    send() {\n      this.sendCard.emit(3);\n    }\n    edit() {\n      this.editCard.emit(4);\n    }\n    ngOnInit() {}\n  }\n  CardComponent.ɵfac = function CardComponent_Factory(t) {\n    return new (t || CardComponent)();\n  };\n  CardComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CardComponent,\n    selectors: [[\"cx-card\"]],\n    inputs: {\n      border: \"border\",\n      editMode: \"editMode\",\n      isDefault: \"isDefault\",\n      content: \"content\",\n      fitToContainer: \"fitToContainer\",\n      truncateText: \"truncateText\",\n      charactersLimit: \"charactersLimit\"\n    },\n    outputs: {\n      deleteCard: \"deleteCard\",\n      setDefaultCard: \"setDefaultCard\",\n      sendCard: \"sendCard\",\n      editCard: \"editCard\",\n      cancelCard: \"cancelCard\"\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"cx-card\", 3, \"cx-card-border\", \"cx-card-fit-to-container\", 4, \"ngIf\"], [1, \"cx-card\"], [\"class\", \"card-header\", 4, \"ngIf\"], [1, \"card-body\", \"cx-card-body\"], [\"class\", \"cx-card-delete-msg\", 4, \"ngIf\"], [\"class\", \"cx-card-title\", 4, \"ngIf\"], [1, \"cx-card-container\"], [1, \"cx-card-label-container\"], [\"class\", \"cx-card-label-bold\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"cx-card-paragraph\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"cx-card-img-container\", 4, \"ngIf\"], [\"class\", \"row cx-card-body-delete\", 4, \"ngIf\"], [\"class\", \"cx-card-actions\", 4, \"ngIf\"], [1, \"card-header\"], [1, \"cx-card-delete-msg\"], [1, \"cx-card-title\"], [1, \"cx-card-label-bold\"], [\"class\", \"cx-card-label\", 4, \"ngIf\", \"ngIfElse\"], [\"truncate\", \"\"], [1, \"cx-card-label\"], [3, \"charactersLimit\", \"content\"], [1, \"cx-card-paragraph\"], [1, \"cx-card-paragraph-title\"], [1, \"cx-card-paragraph-text\"], [1, \"cx-card-img-container\"], [3, \"type\"], [1, \"row\", \"cx-card-body-delete\"], [1, \"col-md-6\"], [1, \"btn\", \"btn-block\", \"btn-secondary\", 3, \"click\"], [1, \"btn\", \"btn-block\", \"btn-primary\", 3, \"click\"], [1, \"cx-card-actions\"], [3, \"ngSwitch\"], [\"class\", \"cx-card-link card-link btn-link cx-action-link\", \"tabindex\", \"0\", 3, \"click\", \"keydown.enter\", 4, \"ngSwitchCase\"], [\"class\", \"card-link btn-link cx-action-link\", \"tabindex\", \"0\", 3, \"href\", 4, \"ngSwitchDefault\"], [\"tabindex\", \"0\", 1, \"cx-card-link\", \"card-link\", \"btn-link\", \"cx-action-link\", 3, \"click\", \"keydown.enter\"], [\"tabindex\", \"0\", 1, \"card-link\", \"btn-link\", \"cx-action-link\", 3, \"href\"]],\n    template: function CardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CardComponent_div_0_Template, 13, 15, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.content);\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, TruncateTextPopoverComponent, IconComponent, i3.NgSwitch, i3.NgSwitchCase, i3.NgSwitchDefault],\n    pipes: [i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return CardComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PopoverModule = /*#__PURE__*/(() => {\n  class PopoverModule {}\n  PopoverModule.ɵfac = function PopoverModule_Factory(t) {\n    return new (t || PopoverModule)();\n  };\n  PopoverModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: PopoverModule\n  });\n  PopoverModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, RouterModule, KeyboardFocusModule, IconModule]]\n  });\n  return PopoverModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TruncateTextPopoverModule = /*#__PURE__*/(() => {\n  class TruncateTextPopoverModule {}\n  TruncateTextPopoverModule.ɵfac = function TruncateTextPopoverModule_Factory(t) {\n    return new (t || TruncateTextPopoverModule)();\n  };\n  TruncateTextPopoverModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TruncateTextPopoverModule\n  });\n  TruncateTextPopoverModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, I18nModule, PopoverModule]]\n  });\n  return TruncateTextPopoverModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CardModule = /*#__PURE__*/(() => {\n  class CardModule {}\n  CardModule.ɵfac = function CardModule_Factory(t) {\n    return new (t || CardModule)();\n  };\n  CardModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: CardModule\n  });\n  CardModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, I18nModule, IconModule, TruncateTextPopoverModule]]\n  });\n  return CardModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CarouselService = /*#__PURE__*/(() => {\n  class CarouselService {\n    constructor(winRef) {\n      this.winRef = winRef;\n    }\n    /**\n     * The number of items per slide is calculated by the help of\n     * the item width and the available width of the host element.\n     * This appoach makes it possible to place the carousel in different\n     * layouts. Instead of using the page breakpoints, the host size is\n     * taken into account.\n     *\n     * Since there's no element resize API available, we use the\n     * window `resize` event, so that we can adjust the number of items\n     * whenever the window got resized.\n     */\n    getItemsPerSlide(nativeElement, itemWidth) {\n      return this.winRef.resize$.pipe(map(() => nativeElement.clientWidth), map(totalWidth => this.calculateItems(totalWidth, itemWidth)));\n    }\n    /**\n     * Calculates the number of items per given hostSize.  calculated based on the given\n     * intended size in pixels or percentages. The\n     *\n     * @param availableWidth The available width in pixels for the carousel items.\n     * @param itemWidth The width per carousel item, in px or percentage.\n     */\n    calculateItems(availableWidth, itemWidth) {\n      let calculatedItems = 0;\n      if (itemWidth.endsWith('px')) {\n        const num = itemWidth.substring(0, itemWidth.length - 2);\n        calculatedItems = availableWidth / num;\n      }\n      if (itemWidth.endsWith('%')) {\n        const perc = itemWidth.substring(0, itemWidth.length - 1);\n        calculatedItems = availableWidth / (availableWidth * (perc / 100));\n      }\n      return Math.floor(calculatedItems) || 1;\n    }\n  }\n  CarouselService.ɵfac = function CarouselService_Factory(t) {\n    return new (t || CarouselService)(i0.ɵɵinject(i1.WindowRef));\n  };\n  CarouselService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: CarouselService,\n    factory: CarouselService.ɵfac,\n    providedIn: 'root'\n  });\n  return CarouselService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generic carousel component that can be used to render any carousel items,\n * such as products, images, banners, or any component. Carousel items are\n * rendered in so-called carousel slides, and the previous/next buttons as well as\n * the indicator-buttons can used to navigate the slides.\n *\n * The component uses an array of Observables (`items$`) as an input, to allow\n * for lazy loading of items.\n *\n * The number of items per slide is calculated with the `itemWidth`, which can given\n * in pixels or percentage.\n *\n * To allow for flexible rendering of items, the rendering is delegated to the\n * given `template`. This allows for maximum flexibility.\n */\nlet CarouselComponent = /*#__PURE__*/(() => {\n  class CarouselComponent {\n    constructor(el, service) {\n      this.el = el;\n      this.service = service;\n      /**\n       * Specifies the minimum size of the carousel item, either in px or %.\n       * This value is used for the calculation of numbers per carousel, so that\n       * the number of carousel items is dynamic. The calculation uses the `itemWidth`\n       * and the host element `clientWidth`, so that the carousel is reusable in\n       * different layouts (for example in a 50% grid).\n       */\n      this.itemWidth = '300px';\n      /**\n       * Indicates whether the visual indicators are used.\n       */\n      this.hideIndicators = false;\n      this.indicatorIcon = ICON_TYPE.CIRCLE;\n      this.previousIcon = ICON_TYPE.CARET_LEFT;\n      this.nextIcon = ICON_TYPE.CARET_RIGHT;\n    }\n    set setItems(inputItems) {\n      this.items = inputItems;\n      //Reset slider when changing products\n      this.activeSlide = 0;\n    }\n    ngOnInit() {\n      if (!this.template && isDevMode()) {\n        console.error('No template reference provided to render the carousel items for the `cx-carousel`');\n        return;\n      }\n      this.size$ = this.service.getItemsPerSlide(this.el.nativeElement, this.itemWidth).pipe(tap(() => this.activeSlide = 0));\n    }\n    getSlideNumber(size, currentIndex) {\n      let normalizedCurrentIndex = currentIndex + 1;\n      return Math.ceil(normalizedCurrentIndex / size);\n    }\n  }\n  CarouselComponent.ɵfac = function CarouselComponent_Factory(t) {\n    return new (t || CarouselComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(CarouselService));\n  };\n  CarouselComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CarouselComponent,\n    selectors: [[\"cx-carousel\"]],\n    inputs: {\n      title: \"title\",\n      setItems: [\"items\", \"setItems\"],\n      template: \"template\",\n      itemWidth: \"itemWidth\",\n      hideIndicators: \"hideIndicators\",\n      indicatorIcon: \"indicatorIcon\",\n      previousIcon: \"previousIcon\",\n      nextIcon: \"nextIcon\"\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [1, \"carousel-panel\", 3, \"ngClass\"], [\"class\", \"previous\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [1, \"slides\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"next\", \"tabindex\", \"-1\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [\"class\", \"indicators\", 4, \"ngIf\"], [1, \"previous\", 3, \"disabled\", \"click\"], [3, \"type\"], [\"class\", \"slide\", 3, \"active\", 4, \"ngIf\"], [1, \"slide\"], [\"class\", \"item\", 3, \"active\", 4, \"ngIf\"], [1, \"item\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [\"tabindex\", \"-1\", 1, \"next\", 3, \"disabled\", \"click\"], [1, \"indicators\"], [\"tabindex\", \"-1\", 3, \"disabled\", \"focus\", 4, \"ngIf\"], [\"tabindex\", \"-1\", 3, \"disabled\", \"focus\"], [\"aria-hidden\", \"true\", 3, \"type\"]],\n    template: function CarouselComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CarouselComponent_ng_container_0_Template, 8, 6, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", (ctx.items == null ? null : ctx.items.length) > 0 && i0.ɵɵpipeBind1(1, 1, ctx.size$));\n      }\n    },\n    directives: [i3.NgIf, i3.NgClass, i3.NgForOf, IconComponent, i3.NgTemplateOutlet],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe, i3.SlicePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return CarouselComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MediaModule = /*#__PURE__*/(() => {\n  class MediaModule {\n    static forRoot() {\n      return {\n        ngModule: MediaModule\n      };\n    }\n  }\n  MediaModule.ɵfac = function MediaModule_Factory(t) {\n    return new (t || MediaModule)();\n  };\n  MediaModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: MediaModule\n  });\n  MediaModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule]]\n  });\n  return MediaModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CarouselModule = /*#__PURE__*/(() => {\n  class CarouselModule {}\n  CarouselModule.ɵfac = function CarouselModule_Factory(t) {\n    return new (t || CarouselModule)();\n  };\n  CarouselModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: CarouselModule\n  });\n  CarouselModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, RouterModule, IconModule, MediaModule, UrlModule, I18nModule]]\n  });\n  return CarouselModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Service that provides the placeholder and input pattern for date pickers. This is\n * used in Spartacus to support browser that won't support the native html5 date picker\n * using `<input type=\"date\">`.\n *\n * While the placeholder is configurable, you should be aware that the placeholder format\n * defaults to `yyyy-mm-dd` to align with Safaris limited support of ISO 8601.\n * Another consideration is the support of date formats in the backend. In case you change\n * this format, you might need to serialize the date to the supported date format in the\n * backend.\n *\n */\nlet DatePickerService = /*#__PURE__*/(() => {\n  class DatePickerService {\n    get placeholder() {\n      return 'yyyy-mm-dd';\n    }\n    /**\n     * The default date pattern is based on the placeholder string;\n     */\n    get pattern() {\n      return this.placeholder.replace('yyyy', '\\\\d{4}').replace('mm', '\\\\d{1,2}').replace('dd', '\\\\d{1,2}');\n    }\n    /**\n     * Validates if the string based date value is a valid date.\n     */\n    isValidFormat(date, pattern) {\n      const patternRegex = new RegExp(`^${pattern !== null && pattern !== void 0 ? pattern : this.pattern}$`);\n      return patternRegex.test(date);\n    }\n    /**\n     * Since Safari doesn't support proper date formats (ISO 8601), we need to do this\n     * ourselves. We cannot rely on `new Date('2020-1-1')`. This will fail, only\n     * `new Date('2020-01-01')` works.\n     */\n    getDate(value) {\n      if (!value) {\n        return;\n      }\n      const delimiter = this.placeholder.replace('yyyy', '').replace('mm', '').replace('dd', '').substr(0, 1);\n      const dateParts = value.split(delimiter);\n      const placeholderParts = this.placeholder.split(delimiter);\n      const y = placeholderParts.indexOf('yyyy');\n      const m = placeholderParts.indexOf('mm');\n      const d = placeholderParts.indexOf('dd');\n      return new Date(Number(dateParts[y]), Number(dateParts[m]) - 1, Number(dateParts[d]));\n    }\n  }\n  DatePickerService.ɵfac = function DatePickerService_Factory(t) {\n    return new (t || DatePickerService)();\n  };\n  DatePickerService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: DatePickerService,\n    factory: DatePickerService.ɵfac,\n    providedIn: 'root'\n  });\n  return DatePickerService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Renders translated form errors for a given form control, based on its `errors` property.\n *\n * The translation key consists of the optional input `prefix`\n * concatenated with the error key.\n *\n * And the translation params object consist of the error details\n * (if only it's an object) merged with the optional input object `translationParams`.\n */\nlet FormErrorsComponent = /*#__PURE__*/(() => {\n  class FormErrorsComponent {\n    constructor() {\n      /**\n       * Prefix prepended to the translation key.\n       */\n      this.prefix = 'formErrors';\n    }\n    set control(control) {\n      this._control = control;\n      this.errorsDetails$ = control === null || control === void 0 ? void 0 : control.statusChanges.pipe(startWith({}), map(() => control.errors || {}), map(errors => Object.entries(errors).filter(([_key, details]) => details)));\n      this.errors$ = this.errorsDetails$.pipe(map(errors => errors.map(([key, _details]) => key)));\n    }\n    get control() {\n      return this._control;\n    }\n    /**\n     * Returns translation params composed of\n     * the argument `errorDetails` (if only is an object) merged with\n     * the component input object `translationParams`.\n     *\n     * In case of a conflicting object key, the value from\n     * `translationParams` takes precedence.\n     */\n    getTranslationParams(errorDetails) {\n      errorDetails = isObject(errorDetails) ? errorDetails : {};\n      return Object.assign(Object.assign({}, errorDetails), this.translationParams);\n    }\n    get invalid() {\n      var _a;\n      return (_a = this.control) === null || _a === void 0 ? void 0 : _a.invalid;\n    }\n    get dirty() {\n      var _a;\n      return (_a = this.control) === null || _a === void 0 ? void 0 : _a.dirty;\n    }\n    get touched() {\n      var _a;\n      return (_a = this.control) === null || _a === void 0 ? void 0 : _a.touched;\n    }\n  }\n  FormErrorsComponent.ɵfac = function FormErrorsComponent_Factory(t) {\n    return new (t || FormErrorsComponent)();\n  };\n  FormErrorsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: FormErrorsComponent,\n    selectors: [[\"cx-form-errors\"]],\n    hostVars: 6,\n    hostBindings: function FormErrorsComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"control-invalid\", ctx.invalid)(\"control-dirty\", ctx.dirty)(\"control-touched\", ctx.touched);\n      }\n    },\n    inputs: {\n      prefix: \"prefix\",\n      translationParams: \"translationParams\",\n      control: \"control\"\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngFor\", \"ngForOf\"]],\n    template: function FormErrorsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, FormErrorsComponent_p_0_Template, 3, 4, \"p\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(1, 1, ctx.errorsDetails$));\n      }\n    },\n    directives: [i3.NgForOf],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return FormErrorsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Component that adds a date control. While the native date picker works in most\n * modern browsers, some browsers need more guidance (placeholder), validation and\n * date conversion.\n *\n * The data picker supports (optional) min and max form controls, so that you can\n * limit the start and/or end date.\n *\n * Most of the implementation is done in the `DatePickerFallbackDirective`.\n */\nlet DatePickerComponent = /*#__PURE__*/(() => {\n  class DatePickerComponent {\n    constructor(service) {\n      this.service = service;\n      this.update = new EventEmitter();\n    }\n    change() {\n      this.update.emit();\n    }\n    get placeholder() {\n      return this.service.placeholder;\n    }\n    get pattern() {\n      return this.service.pattern;\n    }\n    /**\n     * Only returns the date if we have a valid format. We do this to avoid\n     * loads of console errors coming from the datePipe while the user is typing\n     * (in those browsers where the date picker isn't supported).\n     */\n    getDate(date) {\n      return this.service.isValidFormat(date) ? date : null;\n    }\n  }\n  DatePickerComponent.ɵfac = function DatePickerComponent_Factory(t) {\n    return new (t || DatePickerComponent)(i0.ɵɵdirectiveInject(DatePickerService));\n  };\n  DatePickerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: DatePickerComponent,\n    selectors: [[\"cx-date-picker\"]],\n    inputs: {\n      control: \"control\",\n      min: \"min\",\n      max: \"max\"\n    },\n    outputs: {\n      update: \"update\"\n    },\n    decls: 4,\n    vars: 14,\n    consts: [[\"type\", \"date\", 1, \"form-control\", 3, \"formControl\", \"placeholder\", \"pattern\", \"change\"], [\"aria-live\", \"assertive\", \"aria-atomic\", \"true\", \"prefix\", \"formErrors.date\", 3, \"control\", \"translationParams\"]],\n    template: function DatePickerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"input\", 0);\n        i0.ɵɵlistener(\"change\", function DatePickerComponent_Template_input_change_0_listener() {\n          return ctx.change();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(1, \"cx-form-errors\", 1);\n        i0.ɵɵpipe(2, \"cxDate\");\n        i0.ɵɵpipe(3, \"cxDate\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formControl\", ctx.control)(\"placeholder\", ctx.placeholder)(\"pattern\", ctx.pattern);\n        i0.ɵɵattribute(\"min\", ctx.min)(\"max\", ctx.max);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"control\", ctx.control)(\"translationParams\", i0.ɵɵpureFunction2(11, _c17, i0.ɵɵpipeBind1(2, 7, ctx.getDate(ctx.max)), i0.ɵɵpipeBind1(3, 9, ctx.getDate(ctx.min))));\n      }\n    },\n    directives: [i3$1.DefaultValueAccessor, i3$1.NgControlStatus, i3$1.FormControlDirective, i3$1.PatternValidator, FormErrorsComponent],\n    pipes: [i1.CxDatePipe],\n    encapsulation: 2\n  });\n  return DatePickerComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FormErrorsModule = /*#__PURE__*/(() => {\n  class FormErrorsModule {}\n  FormErrorsModule.ɵfac = function FormErrorsModule_Factory(t) {\n    return new (t || FormErrorsModule)();\n  };\n  FormErrorsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: FormErrorsModule\n  });\n  FormErrorsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, I18nModule]]\n  });\n  return FormErrorsModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet DatePickerModule = /*#__PURE__*/(() => {\n  class DatePickerModule {}\n  DatePickerModule.ɵfac = function DatePickerModule_Factory(t) {\n    return new (t || DatePickerModule)();\n  };\n  DatePickerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: DatePickerModule\n  });\n  DatePickerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, ReactiveFormsModule, FormErrorsModule, I18nModule]]\n  });\n  return DatePickerModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Component that adds a file upload control.\n */\nlet FileUploadComponent = /*#__PURE__*/(() => {\n  class FileUploadComponent {\n    constructor() {\n      /**\n       * Allowed file types. It's setting attribute used for OS window for choosing files.\n       */\n      this.accept = '*';\n      /**\n       * Allows selecting multiple files.\n       */\n      this.multiple = false;\n      // TODO: remove this event. Now it's used only to trigger some logic in the parent component.\n      // Prerequisites (changes in the parent component):\n      // - use an async validator that \"opens file\" using the value of the form control\n      // - \"open file\" on form submit, but not on the form control change\n      this.update = new EventEmitter();\n      // ControlValueAccessor START\n      this.onChangeCallback = () => {};\n      this.onTouchedCallback = () => {};\n    }\n    selectFile($event) {\n      var _a;\n      const files = (_a = $event.target) === null || _a === void 0 ? void 0 : _a.files;\n      this.onChangeCallback(files);\n      this.update.emit(files);\n    }\n    get selectedFiles() {\n      return Array.from(this.fileInput.nativeElement.files);\n    }\n    registerOnChange(callback) {\n      this.onChangeCallback = callback;\n    }\n    registerOnTouched(callback) {\n      this.onTouchedCallback = callback;\n    }\n    setDisabledState(disabled) {\n      this.fileInput.nativeElement.disabled = disabled;\n    }\n    writeValue(value) {\n      if (value instanceof FileList) {\n        this.fileInput.nativeElement.files = value;\n      }\n    }\n  }\n  FileUploadComponent.ɵfac = function FileUploadComponent_Factory(t) {\n    return new (t || FileUploadComponent)();\n  };\n  FileUploadComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: FileUploadComponent,\n    selectors: [[\"cx-file-upload\"]],\n    viewQuery: function FileUploadComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c18, 7);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.fileInput = _t.first);\n      }\n    },\n    inputs: {\n      accept: \"accept\",\n      multiple: \"multiple\"\n    },\n    outputs: {\n      update: \"update\"\n    },\n    features: [i0.ɵɵProvidersFeature([{\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => FileUploadComponent),\n      multi: true\n    }])],\n    ngContentSelectors: _c1,\n    decls: 6,\n    vars: 6,\n    consts: [[\"type\", \"file\", \"aria-hidden\", \"true\", 3, \"accept\", \"multiple\", \"change\"], [\"fileInput\", \"\"], [\"type\", \"button\", 1, \"btn\", \"btn-action\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function FileUploadComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r3 = i0.ɵɵgetCurrentView();\n        i0.ɵɵprojectionDef();\n        i0.ɵɵelementStart(0, \"input\", 0, 1);\n        i0.ɵɵlistener(\"change\", function FileUploadComponent_Template_input_change_0_listener($event) {\n          return ctx.selectFile($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function FileUploadComponent_Template_button_click_2_listener() {\n          i0.ɵɵrestoreView(_r3);\n          const _r0 = i0.ɵɵreference(1);\n          return _r0.click();\n        });\n        i0.ɵɵpipe(3, \"cxTranslate\");\n        i0.ɵɵprojection(4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(5, FileUploadComponent_p_5_Template, 2, 1, \"p\", 3);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"accept\", ctx.accept)(\"multiple\", ctx.multiple);\n        i0.ɵɵadvance(2);\n        i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(3, 4, \"common.selectFile\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.selectedFiles);\n      }\n    },\n    directives: [i3.NgForOf],\n    pipes: [i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return FileUploadComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FileUploadModule = /*#__PURE__*/(() => {\n  class FileUploadModule {}\n  FileUploadModule.ɵfac = function FileUploadModule_Factory(t) {\n    return new (t || FileUploadModule)();\n  };\n  FileUploadModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: FileUploadModule\n  });\n  FileUploadModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, ReactiveFormsModule, FormErrorsModule, I18nModule]]\n  });\n  return FileUploadModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet GenericLinkComponentService = /*#__PURE__*/(() => {\n  class GenericLinkComponentService {\n    constructor() {\n      /**\n       * Pattern matching string starting with `http://` or `https://`.\n       */\n      this.HTTP_PROTOCOL_REGEX = /^https?:\\/\\//i;\n      /**\n       * Pattern matching string starting with `mailto:`.\n       */\n      this.MAILTO_PROTOCOL_REGEX = /^mailto:/i;\n      /**\n       * Pattern matching string starting with `tel:`.\n       */\n      this.TEL_PROTOCOL_REGEX = /^tel:/i;\n    }\n    /**\n     * Returns true when the @Input `url` is a string starting with `http://`, `https://`, `mailto:`, `tel:`.\n     */\n    isExternalUrl(url) {\n      return typeof url === 'string' && (this.HTTP_PROTOCOL_REGEX.test(url) || this.MAILTO_PROTOCOL_REGEX.test(url) || this.TEL_PROTOCOL_REGEX.test(url));\n    }\n  }\n  GenericLinkComponentService.ɵfac = function GenericLinkComponentService_Factory(t) {\n    return new (t || GenericLinkComponentService)();\n  };\n  GenericLinkComponentService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: GenericLinkComponentService,\n    factory: GenericLinkComponentService.ɵfac,\n    providedIn: 'root'\n  });\n  return GenericLinkComponentService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * This component navigates using [routerLink] attribute when input 'url' is a relative url. Otherwise (when it's absolute), [href] is used.\n */\nlet GenericLinkComponent = /*#__PURE__*/(() => {\n  class GenericLinkComponent {\n    constructor(router, service) {\n      this.router = router;\n      this.service = service;\n      /**\n       * Pattern matching string starting with `http://` or `https://`.\n       */\n      this.PROTOCOL_REGEX = /^https?:\\/\\//i;\n      /**\n       * Pattern matching string starting with `mailto:`.\n       */\n      this.MAILTO_PROTOCOL_REGEX = /^mailto:/i;\n      /**\n       * Pattern matching string starting with `tel:`.\n       */\n      this.TEL_PROTOCOL_REGEX = /^tel:/i;\n      /**\n       * Used to split url into 2 parts:\n       * 1. the path\n       * 2. query params + hash fragment\n       */\n      this.URL_SPLIT = /(^[^#?]*)(.*)/;\n      /**\n       * Parsed parts of the @Input `url`, when it's a local URL.\n       * It should not be used when the `url` is external.\n       * @see `url`\n       */\n      this.routeParts = {};\n    }\n    isExternalUrl() {\n      var _a;\n      return ((_a = this.service) === null || _a === void 0 ? void 0 : _a.isExternalUrl(this.url)) || typeof this.url === 'string' && (this.PROTOCOL_REGEX.test(this.url) || this.MAILTO_PROTOCOL_REGEX.test(this.url) || this.TEL_PROTOCOL_REGEX.test(this.url));\n    }\n    get rel() {\n      return this.target === '_blank' ? 'noopener' : null;\n    }\n    ngOnChanges(changes) {\n      if (changes['url']) {\n        this.setUrlParts(changes['url'].currentValue);\n      }\n    }\n    /**\n     * The part with the path of the local url.\n     */\n    get routerUrl() {\n      return this.routeParts.path;\n    }\n    /**\n     * The part with the query params of the local url.\n     */\n    get queryParams() {\n      return this.routeParts.queryParams;\n    }\n    /**\n     * The part with the hash fragment of the local url.\n     */\n    get fragment() {\n      return this.routeParts.fragment;\n    }\n    /**\n     * Parses the given url and sets the property `urlParts` accordingly.\n     */\n    setUrlParts(url) {\n      if (typeof url === 'string') {\n        url = this.getAbsoluteUrl(url); // string links in CMS sometimes don't have the leading slash, so fix it here\n        this.routeParts = this.splitUrl(url);\n      } else {\n        this.routeParts = {\n          path: url\n        };\n      }\n    }\n    /**\n     * Parses the given string into 3 parts:\n     * - string path (wrapped in an array to be compatible with Angular syntax for the `routerLink`)\n     * - query params (as an object)\n     * - hash fragment (string)\n     */\n    splitUrl(url = '') {\n      const {\n        queryParams,\n        fragment\n      } = this.router.parseUrl(url);\n      const [, path] = url.match(this.URL_SPLIT);\n      // wrap path in an array, to have the Angular-like path format\n      return {\n        path: [path],\n        queryParams,\n        fragment\n      };\n    }\n    /**\n     * Prepends a leading slash to the given URL string, in case it doesn't have it.\n     */\n    getAbsoluteUrl(url) {\n      return url.startsWith('/') ? url : '/' + url;\n    }\n  }\n  GenericLinkComponent.ɵfac = function GenericLinkComponent_Factory(t) {\n    return new (t || GenericLinkComponent)(i0.ɵɵdirectiveInject(i1$1.Router), i0.ɵɵdirectiveInject(GenericLinkComponentService));\n  };\n  GenericLinkComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: GenericLinkComponent,\n    selectors: [[\"cx-generic-link\"]],\n    inputs: {\n      url: \"url\",\n      target: \"target\",\n      id: \"id\",\n      class: \"class\",\n      style: \"style\",\n      title: \"title\"\n    },\n    features: [i0.ɵɵNgOnChangesFeature],\n    ngContentSelectors: _c1,\n    decls: 5,\n    vars: 2,\n    consts: [[4, \"ngIf\", \"ngIfElse\"], [\"isLocalUrl\", \"\"], [\"content\", \"\"], [3, \"href\"], [4, \"ngTemplateOutlet\"], [3, \"routerLink\", \"queryParams\", \"fragment\", \"target\"]],\n    template: function GenericLinkComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵtemplate(0, GenericLinkComponent_ng_container_0_Template, 3, 8, \"ng-container\", 0);\n        i0.ɵɵtemplate(1, GenericLinkComponent_ng_template_1_Template, 2, 9, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(3, GenericLinkComponent_ng_template_3_Template, 1, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isExternalUrl())(\"ngIfElse\", _r1);\n      }\n    },\n    directives: [i3.NgIf, i3.NgTemplateOutlet, i1$1.RouterLinkWithHref],\n    encapsulation: 2\n  });\n  return GenericLinkComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet GenericLinkModule = /*#__PURE__*/(() => {\n  class GenericLinkModule {}\n  GenericLinkModule.ɵfac = function GenericLinkModule_Factory(t) {\n    return new (t || GenericLinkModule)();\n  };\n  GenericLinkModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: GenericLinkModule\n  });\n  GenericLinkModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, RouterModule]]\n  });\n  return GenericLinkModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ItemCounterModule = /*#__PURE__*/(() => {\n  class ItemCounterModule {}\n  ItemCounterModule.ɵfac = function ItemCounterModule_Factory(t) {\n    return new (t || ItemCounterModule)();\n  };\n  ItemCounterModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ItemCounterModule\n  });\n  ItemCounterModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, ReactiveFormsModule, I18nModule]]\n  });\n  return ItemCounterModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst defaultPaginationConfig = {\n  pagination: {\n    addStart: true,\n    addEnd: true\n  }\n};\nlet PaginationConfig = /*#__PURE__*/(() => {\n  class PaginationConfig {}\n  PaginationConfig.ɵfac = function PaginationConfig_Factory(t) {\n    return new (t || PaginationConfig)();\n  };\n  PaginationConfig.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: PaginationConfig,\n    factory: function PaginationConfig_Factory(t) {\n      let r = null;\n      if (t) {\n        r = new (t || PaginationConfig)();\n      } else {\n        r = i0.ɵɵinject(Config);\n      }\n      return r;\n    },\n    providedIn: 'root'\n  });\n  return PaginationConfig;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * The item type is used to add semantic structure to the\n * PaginationItem, so that the UI understands the usage.\n */\nvar PaginationItemType = /*#__PURE__*/(() => {\n  (function (PaginationItemType) {\n    PaginationItemType[\"GAP\"] = \"gap\";\n    PaginationItemType[\"FIRST\"] = \"first\";\n    PaginationItemType[\"LAST\"] = \"last\";\n    PaginationItemType[\"PREVIOUS\"] = \"previous\";\n    PaginationItemType[\"NEXT\"] = \"next\";\n    PaginationItemType[\"START\"] = \"start\";\n    PaginationItemType[\"END\"] = \"end\";\n    PaginationItemType[\"PAGE\"] = \"page\";\n  })(PaginationItemType || (PaginationItemType = {}));\n  return PaginationItemType;\n})();\nvar PaginationNavigationPosition = /*#__PURE__*/(() => {\n  (function (PaginationNavigationPosition) {\n    PaginationNavigationPosition[\"ASIDE\"] = \"aside\";\n    PaginationNavigationPosition[\"BEFORE\"] = \"before\";\n    PaginationNavigationPosition[\"AFTER\"] = \"after\";\n  })(PaginationNavigationPosition || (PaginationNavigationPosition = {}));\n  return PaginationNavigationPosition;\n})();\nconst FALLBACK_PAGINATION_OPTIONS = {\n  rangeCount: 3,\n  dotsLabel: '...',\n  startLabel: '«',\n  previousLabel: '‹',\n  nextLabel: '›',\n  endLabel: '»'\n};\n/**\n * Builds a pagination structures based on a pageCount and current page number.\n * There are various {@link PaginationConfig} options which can be used to configure\n * the behavior of the build. Alternatively, CSS can be used to further customize\n * the pagination.\n *\n * Examples:\n * The full blown pagination items contain the follow elements:\n *\n * `« ‹ 1 ... 4 (5) 6 ... 9 › »`\n *\n * This includes pagination items to the following pages:\n * - start page\n * - previous page\n * - first page\n * - page range\n * - last page\n * - next page\n * - end page\n *\n * All of those links are configurable, including the size of the page range.\n * The current page will always be centered in the page range to provide direct access\n * to the previous and next page.\n */\nlet PaginationBuilder = /*#__PURE__*/(() => {\n  class PaginationBuilder {\n    constructor(paginationConfig) {\n      this.paginationConfig = paginationConfig;\n    }\n    /**\n     * Builds a list of `PaginationItem`. The give pageCount and current are used\n     * to build out the full pagination. There are various {@link PaginationConfig} options\n     * which can be used to configure the behavior of the build. Alternatively, CSS\n     * can be used to further specialize visibility of the pagination.\n     *\n     * @param pageCount The total number of pages\n     * @param current The current page number, 0-index based\n     * @returns An array of `PaginationItem`\n     */\n    paginate(pageCount, current) {\n      const pages = [];\n      if (!pageCount || pageCount < 2) {\n        return pages;\n      }\n      this.addPages(pages, pageCount, current);\n      this.addDots(pages, pageCount);\n      this.addFirstLast(pages, pageCount);\n      this.addNavigation(pages, pageCount, current);\n      return pages;\n    }\n    /**\n     * Returns the current page with surrounding pages (based on the `config.rangeCount`).\n     * The current page is always centered to provide direct access to the previous and next page.\n     *\n     * @param pages The list of page items that is used to amend\n     * @param pageCount The total number of pages\n     * @param current The current page number, 0-index based\n     */\n    addPages(pages, pageCount, current) {\n      const start = this.getStartOfRange(pageCount, current);\n      const max = Math.min(this.config.rangeCount, pageCount);\n      Array.from(Array(max)).forEach((_, i) => {\n        pages.push({\n          number: i + start,\n          label: String(i + start + 1),\n          type: PaginationItemType.PAGE\n        });\n      });\n    }\n    /**\n     * Adds dots before and after the given pages, if configured (defaults to true).\n     * If the dots only represent a single page, the page number is added instead of\n     * the dots, unless the configuration requires dots always.\n     *\n     * @param pages The list of page items that is used to amend\n     * @param pageCount The total number of pages\n     */\n    addDots(pages, pageCount) {\n      if (!this.config.addDots) {\n        return;\n      }\n      const addFirstGap = () => {\n        const firstItemNumber = pages[0].number;\n        const gapNumber = this.config.addFirst ? 1 : 0;\n        if (firstItemNumber > gapNumber) {\n          const isGap = !this.config.substituteDotsForSingularPage || firstItemNumber !== gapNumber + 1;\n          const isSubstituted = this.config.addFirst && this.config.substituteDotsForSingularPage && gapNumber === 0;\n          const type = isGap ? PaginationItemType.GAP : isSubstituted ? PaginationItemType.FIRST : PaginationItemType.PAGE;\n          return [Object.assign({\n            label: isGap ? this.config.dotsLabel : String(gapNumber + 1),\n            type\n          }, isGap ? null : {\n            number: gapNumber\n          })];\n        } else return [];\n      };\n      const addLastGap = () => {\n        const nextPageNumber = pages[pages.length - 1].number + 1;\n        const last = pageCount - (this.config.addLast ? 2 : 1);\n        if (nextPageNumber <= last) {\n          const isSubstituted = this.config.addLast && this.config.substituteDotsForSingularPage && nextPageNumber === last;\n          const isGap = nextPageNumber < pageCount - (this.config.substituteDotsForSingularPage ? 1 : 0) - (this.config.addLast ? 1 : 0);\n          const type = isGap ? PaginationItemType.GAP : isSubstituted ? PaginationItemType.LAST : PaginationItemType.PAGE;\n          return [Object.assign({\n            label: isGap ? this.config.dotsLabel : String(nextPageNumber + 1),\n            type\n          }, isGap ? null : {\n            number: nextPageNumber\n          })];\n        } else return [];\n      };\n      pages.unshift(...addFirstGap());\n      pages.push(...addLastGap());\n    }\n    /**\n     * Add links to the first and last page, if configured to do so.\n     *\n     * @param pages The list of page items that is used to amend\n     * @param pageCount The total number of pages\n     *\n     */\n    addFirstLast(pages, pageCount) {\n      if (this.config.addFirst && pages[0].number !== 0) {\n        pages.unshift({\n          number: 0,\n          label: '1',\n          type: PaginationItemType.FIRST\n        });\n      }\n      if (this.config.addLast && pages[pages.length - 1].number !== pageCount - 1) {\n        pages.push({\n          number: pageCount - 1,\n          label: String(pageCount),\n          type: PaginationItemType.LAST\n        });\n      }\n    }\n    /**\n     * Add links to the start, previous, next and last page, if configured to do so.\n     * The order of the links can be configured by using the {@link PaginationConfig},\n     * using the `PaginationNavigationPosition` (`BEFORE` or `AFTER`).\n     * The `PaginationNavigationPosition` allows for 3 flavours:\n     *\n     * - by default the pagination starts with start and previous and ends with the next and end links\n     * - BEFORE – all navigation links are added in the front of the pagination list\n     * - AFTER – all navigation links are pushed to the end of the pagination list\n     *\n     * @param pages The list of page items that is used to amend\n     * @param pageCount The total number of pages\n     * @param current The current page number, 0-index based\n     *\n     */\n    addNavigation(pages, pageCount, current) {\n      const before = this.getBeforeLinks(current);\n      const after = this.getAfterLinks(pageCount, current);\n      const pos = this.config.navigationPosition;\n      if (!pos || pos === PaginationNavigationPosition.ASIDE) {\n        pages.unshift(...before);\n        pages.push(...after);\n      } else {\n        if (pos === PaginationNavigationPosition.BEFORE) {\n          pages.unshift(...before, ...after);\n        }\n        if (pos === PaginationNavigationPosition.AFTER) {\n          pages.push(...before, ...after);\n        }\n      }\n    }\n    /**\n     * Returns the start and previous links, if applicable.\n     */\n    getBeforeLinks(current) {\n      const list = [];\n      if (this.config.addStart) {\n        const start = () => {\n          return Object.assign({\n            label: this.config.startLabel,\n            type: PaginationItemType.START\n          }, current > 0 ? {\n            number: 0\n          } : null);\n        };\n        list.push(start());\n      }\n      if (this.config.addPrevious) {\n        const previous = () => {\n          return Object.assign({\n            label: this.config.previousLabel,\n            type: PaginationItemType.PREVIOUS\n          }, current > 0 ? {\n            number: current - 1\n          } : null);\n        };\n        list.push(previous());\n      }\n      return list;\n    }\n    /**\n     * Returns the next and end links, if applicable.\n     */\n    getAfterLinks(pageCount, current) {\n      const list = [];\n      if (this.config.addNext) {\n        const next = () => {\n          return Object.assign({\n            label: this.config.nextLabel,\n            type: PaginationItemType.NEXT\n          }, current < pageCount - 1 ? {\n            number: current + 1\n          } : null);\n        };\n        list.push(next());\n      }\n      if (this.config.addEnd) {\n        const end = () => {\n          return Object.assign({\n            label: this.config.endLabel,\n            type: PaginationItemType.END\n          }, current < pageCount - 1 ? {\n            number: pageCount - 1\n          } : null);\n        };\n        list.push(end());\n      }\n      return list;\n    }\n    /**\n     * Resolves the first page of the range we need to build.\n     * This is the page that is leading up to the range of the\n     * current page.\n     *\n     * @param pageCount The total number of pages.\n     * @param current The current page number, 0-index based.\n     */\n    getStartOfRange(pageCount, current) {\n      const count = this.config.rangeCount - 1;\n      // the least number of pages before and after the current\n      const delta = Math.round(count / 2);\n      // ensure that we start with at least the first page\n      const minStart = Math.max(0, current - delta);\n      // ensures that we start with at least 1 and do not pass the last range\n      const maxStart = Math.max(0, pageCount - count - 1);\n      // ensure that we get at least a full range at the end\n      return Math.min(maxStart, minStart);\n    }\n    /**\n     * Returns the pagination configuration. The configuration is driven by the\n     * (default) application configuration.\n     *\n     * The default application is limited to adding the start and end link:\n     * ```ts\n     *   addStart: true,\n     *   addEnd: true\n     * ```\n     *\n     * The application configuration is however merged into the following static configuration:\n     * ```ts\n     * {\n     *   rangeCount: 3,\n     *   dotsLabel: '...',\n     *   startLabel: '«',\n     *   previousLabel: '‹',\n     *   nextLabel: '›',\n     *   endLabel: '»'\n     * }\n     * ```\n     */\n    get config() {\n      return Object.assign(FALLBACK_PAGINATION_OPTIONS, this.paginationConfig.pagination);\n    }\n  }\n  PaginationBuilder.ɵfac = function PaginationBuilder_Factory(t) {\n    return new (t || PaginationBuilder)(i0.ɵɵinject(PaginationConfig));\n  };\n  PaginationBuilder.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: PaginationBuilder,\n    factory: PaginationBuilder.ɵfac,\n    providedIn: 'root'\n  });\n  return PaginationBuilder;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * The `PaginationComponent` is a generic component that is used for\n * all lists in Spartacus that require pagination. The component supports\n * all common features, which can be configured or hidden by CSS.\n */\nlet PaginationComponent = /*#__PURE__*/(() => {\n  class PaginationComponent {\n    constructor(paginationBuilder, activatedRoute) {\n      this.paginationBuilder = paginationBuilder;\n      this.activatedRoute = activatedRoute;\n      this.viewPageEvent = new EventEmitter();\n      this.pages = [];\n    }\n    get pagination() {\n      return this._pagination;\n    }\n    set pagination(value) {\n      this._pagination = value;\n      this.render(value);\n    }\n    render(pagination) {\n      if (!pagination) {\n        return;\n      }\n      this.pages = this.paginationBuilder.paginate(pagination.totalPages, pagination.currentPage);\n    }\n    /**\n     * Format aria-label based on pagination item type.\n     *\n     * @param label string\n     * @param type PaginationItemType\n     * @returns string\n     */\n    getAriaLabel(label, type) {\n      // Convert 'Start' to First, and 'End' to Last for a more natural screen read.\n      type = type === PaginationItemType.START ? PaginationItemType.FIRST : type;\n      type = type === PaginationItemType.END ? PaginationItemType.LAST : type;\n      return type === PaginationItemType.PAGE ? `${type} ${label}` : `${type} ${PaginationItemType.PAGE}`;\n    }\n    /**\n     * Indicates whether the given item is the current item.\n     *\n     * @param item PaginationItem\n     * @returns boolean\n     */\n    isCurrent(item) {\n      return item.type === PaginationItemType.PAGE && item.number === this.pagination.currentPage;\n    }\n    /**\n     * Indicates whether the pagination item is inactive. This is used\n     * to disabled a link or set the tabindex to `-1`.\n     *\n     * Defaults to true\n     *\n     * @param item PaginationItem\n     * @returns returns -1 in case of a disabled\n     */\n    isInactive(item) {\n      return !item.hasOwnProperty('number') || item.number === this.pagination.currentPage;\n    }\n    getQueryParams(item) {\n      const queryParams = Object.assign({}, this.activatedRoute.snapshot.queryParams);\n      if (this.queryParam && item.number < this.pagination.totalPages && !this.isCurrent(item)) {\n        queryParams[this.queryParam] = item.number;\n      }\n      // omit the page number from the query parameters in case it's the default\n      // to clean up the experience and avoid unnecessary polluting of the URL\n      if (queryParams[this.queryParam] === this.defaultPage) {\n        delete queryParams[this.queryParam];\n      }\n      return queryParams;\n    }\n    pageChange(page) {\n      this.viewPageEvent.emit(page.number);\n    }\n  }\n  PaginationComponent.ɵfac = function PaginationComponent_Factory(t) {\n    return new (t || PaginationComponent)(i0.ɵɵdirectiveInject(PaginationBuilder), i0.ɵɵdirectiveInject(i1$1.ActivatedRoute));\n  };\n  PaginationComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: PaginationComponent,\n    selectors: [[\"cx-pagination\"]],\n    inputs: {\n      pageRoute: \"pageRoute\",\n      queryParam: \"queryParam\",\n      defaultPage: \"defaultPage\",\n      pagination: \"pagination\"\n    },\n    outputs: {\n      viewPageEvent: \"viewPageEvent\"\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[3, \"class\", \"disabled\", \"current\", \"routerLink\", \"queryParams\", \"tabIndex\", \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"routerLink\", \"queryParams\", \"tabIndex\", \"click\"]],\n    template: function PaginationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, PaginationComponent_a_0_Template, 2, 11, \"a\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngForOf\", ctx.pages);\n      }\n    },\n    directives: [i3.NgForOf, i1$1.RouterLinkWithHref],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return PaginationComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PaginationModule = /*#__PURE__*/(() => {\n  class PaginationModule {}\n  PaginationModule.ɵfac = function PaginationModule_Factory(t) {\n    return new (t || PaginationModule)();\n  };\n  PaginationModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: PaginationModule\n  });\n  PaginationModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig(defaultPaginationConfig)],\n    imports: [[CommonModule, RouterModule]]\n  });\n  return PaginationModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet SortingComponent = /*#__PURE__*/(() => {\n  class SortingComponent {\n    constructor() {\n      this.sortListEvent = new EventEmitter();\n    }\n    sortList(sortCode) {\n      this.sortListEvent.emit(sortCode);\n    }\n    get selectedLabel() {\n      var _a, _b, _c, _d;\n      return (_c = (_b = (_a = this.sortOptions) === null || _a === void 0 ? void 0 : _a.find(sort => sort.code === this.selectedOption)) === null || _b === void 0 ? void 0 : _b.name) !== null && _c !== void 0 ? _c : (_d = this.sortLabels) === null || _d === void 0 ? void 0 : _d[this.selectedOption];\n    }\n  }\n  SortingComponent.ɵfac = function SortingComponent_Factory(t) {\n    return new (t || SortingComponent)();\n  };\n  SortingComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: SortingComponent,\n    selectors: [[\"cx-sorting\"]],\n    inputs: {\n      sortOptions: \"sortOptions\",\n      selectedOption: \"selectedOption\",\n      placeholder: \"placeholder\",\n      sortLabels: \"sortLabels\"\n    },\n    outputs: {\n      sortListEvent: \"sortListEvent\"\n    },\n    decls: 2,\n    vars: 6,\n    consts: [[3, \"searchable\", \"clearable\", \"placeholder\", \"ngModel\", \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"]],\n    template: function SortingComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ng-select\", 0);\n        i0.ɵɵlistener(\"change\", function SortingComponent_Template_ng_select_change_0_listener($event) {\n          return ctx.sortList($event);\n        });\n        i0.ɵɵtemplate(1, SortingComponent_ng_option_1_Template, 2, 2, \"ng-option\", 1);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.placeholder);\n        i0.ɵɵproperty(\"searchable\", false)(\"clearable\", false)(\"ngModel\", ctx.selectedOption);\n        i0.ɵɵattribute(\"aria-label\", ctx.selectedLabel || ctx.placeholder);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.sortOptions);\n      }\n    },\n    directives: [i1$4.NgSelectComponent, i3$1.NgControlStatus, i3$1.NgModel, i3.NgForOf, i1$4.ɵr],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return SortingComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ListNavigationModule = /*#__PURE__*/(() => {\n  class ListNavigationModule {}\n  ListNavigationModule.ɵfac = function ListNavigationModule_Factory(t) {\n    return new (t || ListNavigationModule)();\n  };\n  ListNavigationModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ListNavigationModule\n  });\n  ListNavigationModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, NgSelectModule, FormsModule, ReactiveFormsModule, IconModule, PaginationModule]]\n  });\n  return ListNavigationModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Provides configuration specific to Media, such as images. This is used to optimize\n * rendering of the media, SEO and performance.\n */\nlet MediaConfig = /*#__PURE__*/(() => {\n  class MediaConfig {}\n  MediaConfig.ɵfac = function MediaConfig_Factory(t) {\n    return new (t || MediaConfig)();\n  };\n  MediaConfig.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: MediaConfig,\n    factory: function MediaConfig_Factory(t) {\n      let r = null;\n      if (t) {\n        r = new (t || MediaConfig)();\n      } else {\n        r = i0.ɵɵinject(Config);\n      }\n      return r;\n    },\n    providedIn: 'root'\n  });\n  return MediaConfig;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * A reference to a newly opened modal\n *\n * @todo remove ngb dependency and create our own implementation of ModalRef\n */\nclass ModalRef extends NgbModalRef {}\nlet ModalModule = /*#__PURE__*/(() => {\n  class ModalModule {}\n  ModalModule.ɵfac = function ModalModule_Factory(t) {\n    return new (t || ModalModule)();\n  };\n  ModalModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ModalModule\n  });\n  ModalModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return ModalModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet OrderOverviewComponent = /*#__PURE__*/(() => {\n  class OrderOverviewComponent {\n    constructor(translation) {\n      this.translation = translation;\n    }\n    set setOrder(order) {\n      this.order = order;\n    }\n    getReplenishmentCodeCardContent(orderCode) {\n      return this.translation.translate('orderDetails.replenishmentId').pipe(filter(() => Boolean(orderCode)), map(textTitle => ({\n        title: textTitle,\n        text: [orderCode]\n      })));\n    }\n    getReplenishmentActiveCardContent(active) {\n      return combineLatest([this.translation.translate('orderDetails.status'), this.translation.translate('orderDetails.active'), this.translation.translate('orderDetails.cancelled')]).pipe(map(([textTitle, textActive, textCancelled]) => ({\n        title: textTitle,\n        text: [active ? textActive : textCancelled]\n      })));\n    }\n    getReplenishmentStartOnCardContent(isoDate) {\n      return this.translation.translate('orderDetails.startOn').pipe(filter(() => Boolean(isoDate)), map(textTitle => {\n        return {\n          title: textTitle,\n          text: [isoDate]\n        };\n      }));\n    }\n    getReplenishmentFrequencyCardContent(frequency) {\n      return this.translation.translate('orderDetails.frequency').pipe(filter(() => Boolean(frequency)), map(textTitle => ({\n        title: textTitle,\n        text: [frequency]\n      })));\n    }\n    getReplenishmentNextDateCardContent(isoDate) {\n      return this.translation.translate('orderDetails.nextOrderDate').pipe(filter(() => Boolean(isoDate)), map(textTitle => {\n        return {\n          title: textTitle,\n          text: [isoDate]\n        };\n      }));\n    }\n    getOrderCodeCardContent(orderCode) {\n      return this.translation.translate('orderDetails.orderNumber').pipe(filter(() => Boolean(orderCode)), map(textTitle => ({\n        title: textTitle,\n        text: [orderCode]\n      })));\n    }\n    getOrderCurrentDateCardContent(isoDate) {\n      return this.translation.translate('orderDetails.placedOn').pipe(filter(() => Boolean(isoDate)), map(textTitle => {\n        return {\n          title: textTitle,\n          text: [isoDate]\n        };\n      }));\n    }\n    getOrderStatusCardContent(status) {\n      return combineLatest([this.translation.translate('orderDetails.status'), this.translation.translate('orderDetails.statusDisplay_' + status)]).pipe(map(([textTitle, textStatus]) => ({\n        title: textTitle,\n        text: [textStatus]\n      })));\n    }\n    getPurchaseOrderNumber(poNumber) {\n      return combineLatest([this.translation.translate('orderDetails.purchaseOrderNumber'), this.translation.translate('orderDetails.emptyPurchaseOrderId')]).pipe(map(([textTitle, noneTextTitle]) => ({\n        title: textTitle,\n        text: [poNumber ? poNumber : noneTextTitle]\n      })));\n    }\n    getMethodOfPaymentCardContent(hasPaymentInfo) {\n      return combineLatest([this.translation.translate('orderDetails.methodOfPayment'), this.translation.translate('paymentTypes.paymentType_ACCOUNT'), this.translation.translate('paymentTypes.paymentType_CARD')]).pipe(map(([textTitle, textAccount, textCard]) => ({\n        title: textTitle,\n        text: [Boolean(hasPaymentInfo) ? textCard : textAccount]\n      })));\n    }\n    getCostCenterCardContent(costCenter) {\n      return this.translation.translate('orderDetails.costCenter').pipe(filter(() => Boolean(costCenter)), map(textTitle => {\n        var _a;\n        return {\n          title: textTitle,\n          textBold: costCenter === null || costCenter === void 0 ? void 0 : costCenter.name,\n          text: ['(' + ((_a = costCenter === null || costCenter === void 0 ? void 0 : costCenter.unit) === null || _a === void 0 ? void 0 : _a.name) + ')']\n        };\n      }));\n    }\n    getAddressCardContent(deliveryAddress) {\n      return this.translation.translate('addressCard.shipTo').pipe(filter(() => Boolean(deliveryAddress)), map(textTitle => {\n        const formattedAddress = this.normalizeFormattedAddress(deliveryAddress.formattedAddress);\n        return {\n          title: textTitle,\n          textBold: `${deliveryAddress.firstName} ${deliveryAddress.lastName}`,\n          text: [formattedAddress, deliveryAddress.country.name]\n        };\n      }));\n    }\n    getDeliveryModeCardContent(deliveryMode) {\n      return this.translation.translate('orderDetails.shippingMethod').pipe(filter(() => Boolean(deliveryMode)), map(textTitle => {\n        var _a, _b;\n        return {\n          title: textTitle,\n          textBold: deliveryMode.name,\n          text: [deliveryMode.description, ((_a = deliveryMode.deliveryCost) === null || _a === void 0 ? void 0 : _a.formattedValue) ? (_b = deliveryMode.deliveryCost) === null || _b === void 0 ? void 0 : _b.formattedValue : '']\n        };\n      }));\n    }\n    getPaymentInfoCardContent(payment) {\n      return combineLatest([this.translation.translate('paymentForm.payment'), this.translation.translate('paymentCard.expires', {\n        month: Boolean(payment) ? payment.expiryMonth : '',\n        year: Boolean(payment) ? payment.expiryYear : ''\n      })]).pipe(filter(() => Boolean(payment)), map(([textTitle, textExpires]) => ({\n        title: textTitle,\n        textBold: payment.accountHolderName,\n        text: [payment.cardNumber, textExpires]\n      })));\n    }\n    getBillingAddressCardContent(billingAddress) {\n      return this.translation.translate('paymentForm.billingAddress').pipe(filter(() => Boolean(billingAddress)), map(textTitle => ({\n        title: textTitle,\n        textBold: `${billingAddress.firstName} ${billingAddress.lastName}`,\n        text: [billingAddress.formattedAddress, billingAddress.country.name]\n      })));\n    }\n    normalizeFormattedAddress(formattedAddress) {\n      const addresses = formattedAddress.split(',').map(address => address.trim());\n      const newFormattedAddress = addresses.filter(Boolean).join(', ');\n      return newFormattedAddress;\n    }\n  }\n  OrderOverviewComponent.ɵfac = function OrderOverviewComponent_Factory(t) {\n    return new (t || OrderOverviewComponent)(i0.ɵɵdirectiveInject(i1.TranslationService));\n  };\n  OrderOverviewComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: OrderOverviewComponent,\n    selectors: [[\"cx-order-overview\"]],\n    inputs: {\n      setOrder: [\"order\", \"setOrder\"]\n    },\n    decls: 10,\n    vars: 6,\n    consts: [[1, \"cx-order-summary\"], [1, \"container\"], [4, \"ngIf\", \"ngIfElse\"], [\"otherOrder\", \"\"], [4, \"ngIf\"], [1, \"cx-summary-card\"], [3, \"content\"]],\n    template: function OrderOverviewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtemplate(2, OrderOverviewComponent_ng_container_2_Template, 15, 19, \"ng-container\", 2);\n        i0.ɵɵtemplate(3, OrderOverviewComponent_ng_template_3_Template, 8, 11, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(5, OrderOverviewComponent_ng_container_5_Template, 7, 7, \"ng-container\", 4);\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵtemplate(7, OrderOverviewComponent_ng_container_7_Template, 3, 3, \"ng-container\", 4);\n        i0.ɵɵtemplate(8, OrderOverviewComponent_ng_container_8_Template, 3, 3, \"ng-container\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(9, OrderOverviewComponent_ng_container_9_Template, 6, 6, \"ng-container\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(4);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.order.replenishmentOrderCode)(\"ngIfElse\", _r1);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.order.purchaseOrderNumber || ctx.order.purchaseOrderNumber === \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.order.deliveryAddress);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.order.deliveryMode);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.order.paymentInfo);\n      }\n    },\n    directives: [i3.NgIf, CardComponent],\n    pipes: [i3.AsyncPipe, i1.CxDatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return OrderOverviewComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet OrderOverviewModule = /*#__PURE__*/(() => {\n  class OrderOverviewModule {}\n  OrderOverviewModule.ɵfac = function OrderOverviewModule_Factory(t) {\n    return new (t || OrderOverviewModule)();\n  };\n  OrderOverviewModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: OrderOverviewModule\n  });\n  OrderOverviewModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, I18nModule, CardModule]]\n  });\n  return OrderOverviewModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProgressButtonComponent = /*#__PURE__*/(() => {\n  class ProgressButtonComponent {\n    constructor() {\n      this.ariaLabel = '';\n      this.class = '';\n      this.disabled = false;\n      this.loading = false;\n      this.clikEvent = new EventEmitter();\n    }\n  }\n  ProgressButtonComponent.ɵfac = function ProgressButtonComponent_Factory(t) {\n    return new (t || ProgressButtonComponent)();\n  };\n  ProgressButtonComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ProgressButtonComponent,\n    selectors: [[\"cx-progress-button\"]],\n    inputs: {\n      ariaLabel: \"ariaLabel\",\n      class: \"class\",\n      disabled: \"disabled\",\n      loading: \"loading\"\n    },\n    outputs: {\n      clikEvent: \"clikEvent\"\n    },\n    ngContentSelectors: _c1,\n    decls: 4,\n    vars: 4,\n    consts: [[1, \"btn\", \"btn-primary\", 3, \"disabled\", \"ngClass\", \"click\"], [1, \"cx-progress-button-container\"], [\"class\", \"loader-container\", 4, \"ngIf\"], [1, \"loader-container\"], [1, \"loader\"]],\n    template: function ProgressButtonComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function ProgressButtonComponent_Template_button_click_0_listener() {\n          return ctx.clikEvent.emit();\n        });\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtemplate(2, ProgressButtonComponent_div_2_Template, 4, 3, \"div\", 2);\n        i0.ɵɵprojection(3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"disabled\", ctx.disabled || ctx.loading)(\"ngClass\", ctx.class);\n        i0.ɵɵattribute(\"aria-label\", ctx.ariaLabel);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      }\n    },\n    directives: [i3.NgClass, i3.NgIf],\n    pipes: [i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return ProgressButtonComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProgressButtonModule = /*#__PURE__*/(() => {\n  class ProgressButtonModule {}\n  ProgressButtonModule.ɵfac = function ProgressButtonModule_Factory(t) {\n    return new (t || ProgressButtonModule)();\n  };\n  ProgressButtonModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ProgressButtonModule\n  });\n  ProgressButtonModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, I18nModule]]\n  });\n  return ProgressButtonModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet ReplenishmentOrderCancellationDialogComponent = /*#__PURE__*/(() => {\n  class ReplenishmentOrderCancellationDialogComponent {\n    constructor(userReplenishmentOrderService, globalMessageService, launchDialogService, el) {\n      this.userReplenishmentOrderService = userReplenishmentOrderService;\n      this.globalMessageService = globalMessageService;\n      this.launchDialogService = launchDialogService;\n      this.el = el;\n      this.subscription = new Subscription();\n      this.focusConfig = {\n        trap: true,\n        block: true,\n        autofocus: 'button',\n        focusOnEscape: true\n      };\n    }\n    handleClick(event) {\n      // Close on click outside the dialog window\n      if (event.target.tagName === this.el.nativeElement.tagName) {\n        this.close('Cross click');\n      }\n    }\n    ngOnInit() {\n      this.subscription.add(combineLatest([this.userReplenishmentOrderService.getReplenishmentOrderDetails().pipe(startWith(null)), this.launchDialogService.data$]).subscribe(([replenishmentOrder, code]) => {\n        this.replenishmentOrderCode = code || replenishmentOrder.replenishmentOrderCode;\n      }));\n      this.subscription.add(this.userReplenishmentOrderService.getCancelReplenishmentOrderSuccess().subscribe(value => this.onSuccess(value)));\n    }\n    onSuccess(value) {\n      if (value) {\n        this.launchDialogService.closeDialog('Successffully cancelled replenishment');\n        this.globalMessageService.add({\n          key: 'orderDetails.cancelReplenishment.cancelSuccess',\n          params: {\n            replenishmentOrderCode: this.replenishmentOrderCode\n          }\n        }, GlobalMessageType.MSG_TYPE_CONFIRMATION);\n      }\n      this.userReplenishmentOrderService.clearCancelReplenishmentOrderProcessState();\n    }\n    close(reason) {\n      this.launchDialogService.closeDialog(reason);\n    }\n    cancelReplenishment() {\n      this.userReplenishmentOrderService.cancelReplenishmentOrder(this.replenishmentOrderCode);\n    }\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n    }\n  }\n  ReplenishmentOrderCancellationDialogComponent.ɵfac = function ReplenishmentOrderCancellationDialogComponent_Factory(t) {\n    return new (t || ReplenishmentOrderCancellationDialogComponent)(i0.ɵɵdirectiveInject(i1.UserReplenishmentOrderService), i0.ɵɵdirectiveInject(i1.GlobalMessageService), i0.ɵɵdirectiveInject(LaunchDialogService), i0.ɵɵdirectiveInject(i0.ElementRef));\n  };\n  ReplenishmentOrderCancellationDialogComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ReplenishmentOrderCancellationDialogComponent,\n    selectors: [[\"cx-replenishment-order-cancellation-dialog\"]],\n    hostBindings: function ReplenishmentOrderCancellationDialogComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function ReplenishmentOrderCancellationDialogComponent_click_HostBindingHandler($event) {\n          return ctx.handleClick($event);\n        });\n      }\n    },\n    decls: 19,\n    vars: 13,\n    consts: [[1, \"cx-cancel-replenishment-dialog-foreground\", 3, \"cxFocus\", \"esc\"], [1, \"cx-cancel-replenishment-dialog-content\"], [1, \"cx-cancel-replenishment-dialog-header\"], [1, \"cx-cancel-replenishment-dialog-description\"], [1, \"cx-cancel-replenishment-dialog-body\"], [1, \"cx-cancel-replenishment-btns\", \"row\"], [1, \"col-md-6\"], [1, \"btn\", \"btn-block\", \"btn-action\", 3, \"click\"], [1, \"btn\", \"btn-block\", \"btn-primary\", 3, \"click\"]],\n    template: function ReplenishmentOrderCancellationDialogComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵlistener(\"esc\", function ReplenishmentOrderCancellationDialogComponent_Template_div_esc_0_listener() {\n          return ctx.close(\"Escape clicked\");\n        });\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"h3\");\n        i0.ɵɵtext(4);\n        i0.ɵɵpipe(5, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 3);\n        i0.ɵɵtext(7);\n        i0.ɵɵpipe(8, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 4);\n        i0.ɵɵelementStart(10, \"div\", 5);\n        i0.ɵɵelementStart(11, \"div\", 6);\n        i0.ɵɵelementStart(12, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function ReplenishmentOrderCancellationDialogComponent_Template_button_click_12_listener() {\n          return ctx.close(\"Close Replenishment Dialog\");\n        });\n        i0.ɵɵtext(13);\n        i0.ɵɵpipe(14, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 6);\n        i0.ɵɵelementStart(16, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function ReplenishmentOrderCancellationDialogComponent_Template_button_click_16_listener() {\n          return ctx.cancelReplenishment();\n        });\n        i0.ɵɵtext(17);\n        i0.ɵɵpipe(18, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"cxFocus\", ctx.focusConfig);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 5, \"orderDetails.cancelReplenishment.title\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(8, 7, \"orderDetails.cancelReplenishment.description\"), \" \");\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(14, 9, \"orderDetails.cancelReplenishment.reject\"), \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(18, 11, \"orderDetails.cancelReplenishment.accept\"), \" \");\n      }\n    },\n    directives: [FocusDirective],\n    pipes: [i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return ReplenishmentOrderCancellationDialogComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet ReplenishmentOrderCancellationDialogModule = /*#__PURE__*/(() => {\n  class ReplenishmentOrderCancellationDialogModule {}\n  ReplenishmentOrderCancellationDialogModule.ɵfac = function ReplenishmentOrderCancellationDialogModule_Factory(t) {\n    return new (t || ReplenishmentOrderCancellationDialogModule)();\n  };\n  ReplenishmentOrderCancellationDialogModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ReplenishmentOrderCancellationDialogModule\n  });\n  ReplenishmentOrderCancellationDialogModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, I18nModule, KeyboardFocusModule]]\n  });\n  return ReplenishmentOrderCancellationDialogModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Supposed to be injected in the split view component, so that the split view state\n * is maintained for a single split view.\n */\nlet SplitViewService = /*#__PURE__*/(() => {\n  class SplitViewService {\n    constructor() {\n      /**\n       * Newly added views are hidden by default, unless it is the first view of the split view.\n       * The default hide mode can be overridden.\n       */\n      this.defaultHideMode = true;\n      this.splitViewCount = 1;\n      this._views$ = new BehaviorSubject([]);\n    }\n    /**\n     * Adds a view to the list of views. The view is initialized with the `SplitViewState`\n     * state. If no state is provided, the state is created with the hidden property. The hidden\n     * property is provided by the `defaultHideMode`, unless it's the first view (position: 0).\n     */\n    add(position, initialState) {\n      const state = Object.assign({\n        hidden: position === 0 ? false : this.defaultHideMode\n      }, initialState);\n      if (!this.views[position]) {\n        this.views[position] = state;\n        this.updateState(position, state.hidden);\n        this._views$.next(this.views);\n      }\n    }\n    /**\n     * The split view is based on a number of views that can be used next to each other.\n     * When the number changes (i.e. if the screen goes from wide to small), the visibility state\n     * of the views should be updated.\n     */\n    updateSplitView(splitViewCount) {\n      if (splitViewCount !== this.splitViewCount) {\n        this.splitViewCount = splitViewCount;\n        this.updateState();\n      }\n    }\n    /**\n     * Returns an observable with the active view number. The active view number\n     * represents the last visible view.\n     */\n    getActiveView() {\n      return this._views$.pipe(map(views => this.getActive(views)), distinctUntilChanged());\n    }\n    /**\n     * Returns an observable with the SplitViewState for the given view position.\n     */\n    getViewState(position) {\n      return this._views$.pipe(map(views => views[position]),\n      // we must filter here, since outlet driven views will destroyed the view\n      filter(view => Boolean(view)));\n    }\n    /**\n     * Removes a view from the list of views.\n     *\n     * Removing a view is different from hiding a view. Removing a view is typically done\n     * when a component is destroyed.\n     *\n     * When the view is removed, the SplitViewState is updated to reflect that new organization\n     * of views.\n     */\n    remove(position) {\n      const activePosition = this.getActive(this.views);\n      this._views$.next(this.views.splice(0, position));\n      if (activePosition >= position) {\n        this.updateState(position);\n      }\n    }\n    /**\n     * Returns the next view position. This is useful for views that do not want to be bothered\n     * with controlling view numbers.\n     */\n    get nextPosition() {\n      return this.views.length || 0;\n    }\n    /**\n     * Toggles the visibility of the views based on the given view position. If the view\n     * is already visible, we close the view and active the former view. Unless the hide flag\n     * is used, to force the view.\n     *\n     * The view state of other views in the split view are updated as well.\n     *\n     * @param position The zero-based position number of the view.\n     * @param forceHide The (optional) hide state for the view position.\n     */\n    toggle(position, forceHide) {\n      // add the view if it hasn't been added before.\n      if (!this.views[position]) {\n        this.add(position, {\n          hidden: forceHide !== null && forceHide !== void 0 ? forceHide : false\n        });\n      }\n      // If the position is already visible, we move to a previous position. Only if the hide\n      // state is forced, we keep the current position.\n      if (this.views[position] && forceHide === undefined && !this.views[position].hidden) {\n        position--;\n      }\n      this.updateState(position, forceHide === true);\n    }\n    /**\n     * Updates the hidden state of all the views.\n     */\n    updateState(position, hide) {\n      const views = [...this.views];\n      if (hide !== undefined && views[position]) {\n        views[position].hidden = hide;\n      }\n      let lastVisible = views.length - [...views].reverse().findIndex(view => !view.hidden) - 1;\n      if (lastVisible === views.length) {\n        if (position) {\n          // When there's only 1 view (mobile), we might not find any active\n          // if the user navigates back.\n          lastVisible = position - 1;\n        } else {\n          lastVisible = views.length - 1;\n        }\n      }\n      views.forEach((view, pos) => {\n        if (view && pos !== position) {\n          // hide other views that are outside the split view\n          view.hidden = pos > lastVisible || pos < lastVisible - (this.splitViewCount - 1);\n        }\n      });\n      this._views$.next(views);\n    }\n    /**\n     * Returns the active view count for the list of views.\n     */\n    getActive(views) {\n      // we reverse the list to find the last visible view\n      const l = [...views].reverse().findIndex(view => !view.hidden);\n      const last = l === -1 ? 0 : views.length - l - 1;\n      return last;\n    }\n    /**\n     * Utility method that resolves all views from the subject.\n     */\n    get views() {\n      return this._views$.value;\n    }\n  }\n  SplitViewService.ɵfac = function SplitViewService_Factory(t) {\n    return new (t || SplitViewService)();\n  };\n  SplitViewService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: SplitViewService,\n    factory: SplitViewService.ɵfac\n  });\n  return SplitViewService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * The split-view component supports an unlimited number of nested views. The component\n * is a host to those view components and doesn't add any restrictions to it's content;\n * content is projected as-is.\n *\n * ```html\n * <cx-split-view>\n *   <cx-view></cx-view>\n *   <cx-view></cx-view>\n *   <any-wrapper>\n *     <cx-view></cx-view>\n *   </any-wrapper>\n * </cx-split-view>\n * ```\n *\n * The split view component is only concerned with tracking the underlying _visible_\n * view components, so that the `lastVisibleView` can be updated accordingly. The actual\n * visibility of views is controlled by CSS. To allow for maximum flexibility, the CSS\n * implementation is using CSS variables. The `lastVisibleView` is bind to the\n * `--cx-active-view` on the host, so that all descendants views will inherit the\n * property conveniently.\n */\nlet SplitViewComponent = /*#__PURE__*/(() => {\n  class SplitViewComponent {\n    constructor(splitService, breakpointService, elementRef) {\n      this.splitService = splitService;\n      this.breakpointService = breakpointService;\n      this.elementRef = elementRef;\n      this.subscription = new Subscription();\n      /**\n       * Indicates the last visible view in the range of views that is visible. This\n       * is bind to a css variable `--cx-active-view` so that the experience\n       * can be fully controlled by css.\n       */\n      this.lastVisibleView = 1;\n    }\n    /**\n     * Sets the default hide mode for views. This mode is useful in case views are dynamically being created,\n     * for example when they are created by router components.\n     *\n     * The mode defaults to true, unless this is the first view; the first view is never hidden.\n     */\n    set hideMode(mode) {\n      this.splitService.defaultHideMode = mode;\n    }\n    ngOnInit() {\n      this.subscription.add(this.splitService.getActiveView().subscribe(lastVisible => this.lastVisibleView = lastVisible + 1));\n      this.subscription.add(this.breakpointService.breakpoint$.subscribe(() => {\n        this.splitService.updateSplitView(this.splitViewCount);\n      }));\n    }\n    /**\n     * Returns the maximum number of views per split-view. The number is based on the\n     * CSS custom property `--cx-max-views`.\n     */\n    get splitViewCount() {\n      return Number(getComputedStyle(this.elementRef.nativeElement).getPropertyValue('--cx-max-views'));\n    }\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n    }\n  }\n  SplitViewComponent.ɵfac = function SplitViewComponent_Factory(t) {\n    return new (t || SplitViewComponent)(i0.ɵɵdirectiveInject(SplitViewService), i0.ɵɵdirectiveInject(BreakpointService), i0.ɵɵdirectiveInject(i0.ElementRef));\n  };\n  SplitViewComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: SplitViewComponent,\n    selectors: [[\"cx-split-view\"]],\n    hostVars: 3,\n    hostBindings: function SplitViewComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵattribute(\"active-view\", ctx.lastVisibleView);\n        i0.ɵɵstyleProp(\"--cx-active-view\", ctx.lastVisibleView);\n      }\n    },\n    inputs: {\n      hideMode: \"hideMode\"\n    },\n    features: [i0.ɵɵProvidersFeature([SplitViewService])],\n    ngContentSelectors: _c1,\n    decls: 1,\n    vars: 0,\n    template: function SplitViewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵprojection(0);\n      }\n    },\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return SplitViewComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * The view component is part of the `SplitViewComponent`. The view\n * contains the navigable content that should be split up. It maintains\n * a view position and allows to show or hide the view.\n *\n * The ViewComponent interacts with the `SplitViewService` for handing over the\n * view state, so that the overarching `SplitViewComponent` can manage the\n * overall experience.\n */\nlet ViewComponent = /*#__PURE__*/(() => {\n  class ViewComponent {\n    constructor(splitService, elementRef, cd) {\n      this.splitService = splitService;\n      this.elementRef = elementRef;\n      this.cd = cd;\n      /**\n       * The disappeared flag is added to the\n       */\n      this.disappeared = true;\n      /**\n       * An update of the view visibility is emitted to the hiddenChange output.\n       */\n      this.hiddenChange = new EventEmitter();\n    }\n    /**\n     * The hidden input is used to set the initial visible state of the view.\n     * The hidden state defaults to false.\n     *\n     * The hidden input supports 2-way binding, see `hiddenChange` property.\n     */\n    set hidden(hidden) {\n      this._hidden = hidden;\n      this.splitService.toggle(this.viewPosition, hidden);\n    }\n    ngOnInit() {\n      const hidden = this._hidden ? {\n        hidden: this._hidden\n      } : {};\n      this.splitService.add(this.viewPosition, hidden);\n      this.subscription = this.splitService.getViewState(this.viewPosition)\n      // delay the disappeared state, so that the (CSS driven) animation has time to finish\n      .pipe(delayWhen(view => timer(view.hidden ? this.duration * 1.25 : 0))).subscribe(view => {\n        this.hiddenChange.emit(view.hidden);\n        this._hidden = view.hidden;\n        this.disappeared = view.hidden;\n        this.cd.markForCheck();\n      });\n    }\n    /**\n     * Toggles the visibility of the view.\n     *\n     * An optional force flag can be used to explicitly show or hide view component.\n     */\n    toggle(force) {\n      this.splitService.toggle(this.viewPosition, force);\n    }\n    /**\n     * Returns the position for the view.\n     *\n     * The position is either taken from the input `position` or generated by the `SplitService`.\n     */\n    get viewPosition() {\n      if (!(Number(this.position) >= 0)) {\n        this.position = this.splitService.nextPosition.toString();\n      }\n      return Number(this.position);\n    }\n    /**\n     * Returns the duration in milliseconds. The duration is based on the CSS custom property\n     * `--cx-transition-duration`. Defaults to 300 milliseconds.\n     */\n    get duration() {\n      const duration = getComputedStyle(this.elementRef.nativeElement).getPropertyValue('--cx-transition-duration').trim();\n      if (duration.indexOf('ms') > -1) {\n        return Number(duration.split('ms')[0]);\n      } else if (duration.indexOf('s') > -1) {\n        return Number(duration.split('s')[0]) * 1000;\n      } else {\n        return 300;\n      }\n    }\n    /**\n     * The view is removed from the `SplitService` so that the view no longer\n     * plays a role in the overall split view.\n     */\n    ngOnDestroy() {\n      var _a;\n      this.splitService.remove(this.viewPosition);\n      (_a = this.subscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n    }\n  }\n  ViewComponent.ɵfac = function ViewComponent_Factory(t) {\n    return new (t || ViewComponent)(i0.ɵɵdirectiveInject(SplitViewService), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  ViewComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ViewComponent,\n    selectors: [[\"cx-view\"]],\n    hostVars: 4,\n    hostBindings: function ViewComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵattribute(\"position\", ctx.position)(\"disappeared\", ctx.disappeared);\n        i0.ɵɵstyleProp(\"--cx-view-position\", ctx.position);\n      }\n    },\n    inputs: {\n      position: \"position\",\n      hidden: \"hidden\"\n    },\n    outputs: {\n      hiddenChange: \"hiddenChange\"\n    },\n    ngContentSelectors: _c1,\n    decls: 1,\n    vars: 0,\n    template: function ViewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵprojection(0);\n      }\n    },\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ViewComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * The split-view component supports an unlimited number of nested views. Nested views are rendered\n * next to each other. The views can be rendered next to each other, but the max number of visible\n * views can be limisted as well. This is configurable in the CSS layer, so that the max number of views\n * per split-view can be different for each component.\n *\n * The basic structure of the split-view component is shown below:\n *\n *\n * ```\n * <cx-split-view>\n * </cx-split-view>\n * ```\n *\n * The UX pattern used for the split-view is driven by an initial view, which gets splitted into\n * more views as soon as the user starts interacting with the initial and subsequantial views.\n * The views can be driven by routes, which means that you can navigate through the splitted views\n * by using the browser history as well as share or bookmark splitted views.\n *\n * The UI is implemented in the style layer, with only a few generic style rules. Most of the split\n * view style is driven by CSS properties, so that alternative split-view styles can be introduced\n * per page or component.\n *\n * The max number of views per split-view on mobile is limited to 1 by default, where as on tablet\n * (and higher) it is set to 2. Spartacus has a pretty narrow layout, which is why 2 is maximum,\n * but customers could alter the layout to bring in more views in the same split-view at the time.\n *\n */\nlet SplitViewModule = /*#__PURE__*/(() => {\n  class SplitViewModule {}\n  SplitViewModule.ɵfac = function SplitViewModule_Factory(t) {\n    return new (t || SplitViewModule)();\n  };\n  SplitViewModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: SplitViewModule\n  });\n  SplitViewModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, RouterModule]]\n  });\n  return SplitViewModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet GlobalMessageComponent = /*#__PURE__*/(() => {\n  class GlobalMessageComponent {\n    constructor(globalMessageService) {\n      this.globalMessageService = globalMessageService;\n      this.iconTypes = ICON_TYPE;\n      this.messageType = GlobalMessageType;\n    }\n    ngOnInit() {\n      this.messages$ = this.globalMessageService.get();\n    }\n    clear(type, index) {\n      this.globalMessageService.remove(type, index);\n    }\n  }\n  GlobalMessageComponent.ɵfac = function GlobalMessageComponent_Factory(t) {\n    return new (t || GlobalMessageComponent)(i0.ɵɵdirectiveInject(i1.GlobalMessageService));\n  };\n  GlobalMessageComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: GlobalMessageComponent,\n    selectors: [[\"cx-global-message\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [\"class\", \"alert alert-success\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"alert alert-info\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"alert alert-warning\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"alert alert-danger\", 4, \"ngFor\", \"ngForOf\"], [1, \"alert\", \"alert-success\"], [1, \"alert-icon\"], [3, \"type\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [1, \"alert\", \"alert-info\"], [1, \"alert\", \"alert-warning\"], [1, \"alert\", \"alert-danger\"]],\n    template: function GlobalMessageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, GlobalMessageComponent_div_0_Template, 5, 4, \"div\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.messages$));\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, IconComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return GlobalMessageComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet GlobalMessageComponentModule = /*#__PURE__*/(() => {\n  class GlobalMessageComponentModule {}\n  GlobalMessageComponentModule.ɵfac = function GlobalMessageComponentModule_Factory(t) {\n    return new (t || GlobalMessageComponentModule)();\n  };\n  GlobalMessageComponentModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: GlobalMessageComponentModule\n  });\n  GlobalMessageComponentModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, IconModule, I18nModule]]\n  });\n  return GlobalMessageComponentModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MessageComponent = /*#__PURE__*/(() => {\n  class MessageComponent {\n    constructor() {\n      this.showBody = false;\n      this.isVisibleCloseButton = true;\n      this.closeMessage = new EventEmitter();\n      this.buttonAction = new EventEmitter();\n      this.iconTypes = ICON_TYPE;\n    }\n    get getCssClassesForMessage() {\n      return {\n        'cx-message-success': this.type === GlobalMessageType.MSG_TYPE_CONFIRMATION,\n        'cx-message-info': this.type === GlobalMessageType.MSG_TYPE_INFO,\n        'cx-message-warning': this.type === GlobalMessageType.MSG_TYPE_WARNING,\n        'cx-message-danger': this.type === GlobalMessageType.MSG_TYPE_ERROR\n      };\n    }\n    get getIconType() {\n      switch (this.type) {\n        case GlobalMessageType.MSG_TYPE_CONFIRMATION:\n          return ICON_TYPE.SUCCESS;\n        case GlobalMessageType.MSG_TYPE_WARNING:\n          return ICON_TYPE.WARNING;\n        case GlobalMessageType.MSG_TYPE_ERROR:\n          return ICON_TYPE.ERROR;\n        case GlobalMessageType.MSG_TYPE_INFO:\n          return ICON_TYPE.INFO;\n      }\n    }\n  }\n  MessageComponent.ɵfac = function MessageComponent_Factory(t) {\n    return new (t || MessageComponent)();\n  };\n  MessageComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: MessageComponent,\n    selectors: [[\"cx-message\"]],\n    inputs: {\n      text: \"text\",\n      actionButtonText: \"actionButtonText\",\n      accordionText: \"accordionText\",\n      showBody: \"showBody\",\n      isVisibleCloseButton: \"isVisibleCloseButton\",\n      type: \"type\"\n    },\n    outputs: {\n      closeMessage: \"closeMessage\",\n      buttonAction: \"buttonAction\"\n    },\n    ngContentSelectors: _c1,\n    decls: 11,\n    vars: 7,\n    consts: [[1, \"cx-message\", 3, \"ngClass\"], [1, \"cx-message-content\"], [1, \"cx-message-header\"], [1, \"cx-message-icon\"], [3, \"type\"], [1, \"cx-message-text\"], [\"class\", \"cx-message-accordion-button link cx-action-link\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-link cx-action-link\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"close\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"cx-message-body\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"cx-message-accordion-button\", \"link\", \"cx-action-link\", 3, \"click\"], [1, \"cx-message-accordion-icon\", 3, \"type\"], [\"type\", \"button\", 1, \"btn\", \"btn-link\", \"cx-action-link\", 3, \"click\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [1, \"cx-message-body\"]],\n    template: function MessageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"span\", 3);\n        i0.ɵɵelement(4, \"cx-icon\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"span\", 5);\n        i0.ɵɵtext(6);\n        i0.ɵɵtemplate(7, MessageComponent_button_7_Template, 3, 2, \"button\", 6);\n        i0.ɵɵtemplate(8, MessageComponent_button_8_Template, 2, 1, \"button\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(9, MessageComponent_button_9_Template, 2, 1, \"button\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(10, MessageComponent_div_10_Template, 2, 0, \"div\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngClass\", ctx.getCssClassesForMessage);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"type\", ctx.getIconType);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.text, \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.accordionText);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.actionButtonText);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isVisibleCloseButton);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showBody || !ctx.accordionText);\n      }\n    },\n    directives: [i3.NgClass, IconComponent, i3.NgIf],\n    encapsulation: 2\n  });\n  return MessageComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MessageComponentModule = /*#__PURE__*/(() => {\n  class MessageComponentModule {}\n  MessageComponentModule.ɵfac = function MessageComponentModule_Factory(t) {\n    return new (t || MessageComponentModule)();\n  };\n  MessageComponentModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: MessageComponentModule\n  });\n  MessageComponentModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, IconModule, I18nModule]]\n  });\n  return MessageComponentModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PromotionsModule = /*#__PURE__*/(() => {\n  class PromotionsModule {}\n  PromotionsModule.ɵfac = function PromotionsModule_Factory(t) {\n    return new (t || PromotionsModule)();\n  };\n  PromotionsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: PromotionsModule\n  });\n  PromotionsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule]]\n  });\n  return PromotionsModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst LABELS = {\n  [LANGUAGE_CONTEXT_ID]: 'Language',\n  [CURRENCY_CONTEXT_ID]: 'Currency'\n};\nlet SiteContextComponentService = /*#__PURE__*/(() => {\n  class SiteContextComponentService {\n    constructor(componentData, contextServiceMap, injector) {\n      this.componentData = componentData;\n      this.contextServiceMap = contextServiceMap;\n      this.injector = injector;\n    }\n    getItems(context) {\n      return this.getService(context).pipe(switchMap(service => service.getAll()), switchMap(items => this.getContext(context).pipe(switchMap(ctx => {\n        const itemsCopy = [];\n        for (const item of items) {\n          itemsCopy.push(Object.assign(Object.assign({}, item), {\n            label: this.getOptionLabel(item, ctx)\n          }));\n        }\n        return of(itemsCopy);\n      }))));\n    }\n    getActiveItem(context) {\n      return this.getService(context).pipe(switchMap(service => service.getActive()));\n    }\n    getLabel(context) {\n      return this.getContext(context).pipe(map(ctx => {\n        return LABELS[ctx];\n      }));\n    }\n    setActive(value, context) {\n      this.getService(context).pipe(take(1)).subscribe(service => {\n        service.setActive(value);\n      });\n    }\n    getService(context) {\n      return this.getContext(context).pipe(map(ctx => ctx ? this.getInjectedService(ctx) : undefined), filter(s => !!s));\n    }\n    getContext(context) {\n      if (context) {\n        return of(context);\n      } else if (this.componentData) {\n        return this.componentData.data$.pipe(map(data => data === null || data === void 0 ? void 0 : data.context), map(ctx => {\n          switch (ctx) {\n            case 'LANGUAGE':\n              return LANGUAGE_CONTEXT_ID;\n            case 'CURRENCY':\n              return CURRENCY_CONTEXT_ID;\n            default:\n              return ctx;\n          }\n        }));\n      }\n    }\n    getInjectedService(context) {\n      return this.injector.get(this.contextServiceMap[context], null);\n    }\n    getOptionLabel(item, context) {\n      switch (context) {\n        case LANGUAGE_CONTEXT_ID:\n          return item.nativeName;\n        case CURRENCY_CONTEXT_ID:\n          return item.symbol + ' ' + item.isocode;\n        default:\n          return item.isocode;\n      }\n    }\n  }\n  SiteContextComponentService.ɵfac = function SiteContextComponentService_Factory(t) {\n    return new (t || SiteContextComponentService)(i0.ɵɵinject(CmsComponentData, 8), i0.ɵɵinject(i1.ContextServiceMap), i0.ɵɵinject(i0.Injector));\n  };\n  SiteContextComponentService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: SiteContextComponentService,\n    factory: SiteContextComponentService.ɵfac\n  });\n  return SiteContextComponentService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet SiteContextSelectorComponent = /*#__PURE__*/(() => {\n  class SiteContextSelectorComponent {\n    constructor(componentService) {\n      this.componentService = componentService;\n      this.iconTypes = ICON_TYPE;\n    }\n    get items$() {\n      return this.componentService.getItems(this.context);\n    }\n    get activeItem$() {\n      return this.componentService.getActiveItem(this.context);\n    }\n    set active(value) {\n      this.componentService.setActive(value, this.context);\n    }\n    get label$() {\n      return this.componentService.getLabel(this.context);\n    }\n  }\n  SiteContextSelectorComponent.ɵfac = function SiteContextSelectorComponent_Factory(t) {\n    return new (t || SiteContextSelectorComponent)(i0.ɵɵdirectiveInject(SiteContextComponentService));\n  };\n  SiteContextSelectorComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: SiteContextSelectorComponent,\n    selectors: [[\"cx-site-context-selector\"]],\n    inputs: {\n      context: \"context\"\n    },\n    decls: 3,\n    vars: 5,\n    consts: [[4, \"ngIf\"], [3, \"change\"], [3, \"value\", \"selected\", 4, \"ngFor\", \"ngForOf\"], [1, \"small\", 3, \"type\"], [3, \"value\", \"selected\"]],\n    template: function SiteContextSelectorComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, SiteContextSelectorComponent_label_0_Template, 7, 5, \"label\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵpipe(2, \"async\");\n      }\n      if (rf & 2) {\n        let tmp_0_0;\n        i0.ɵɵproperty(\"ngIf\", ((tmp_0_0 = i0.ɵɵpipeBind1(1, 1, ctx.items$)) == null ? null : tmp_0_0.length) > 1 && i0.ɵɵpipeBind1(2, 3, ctx.items$));\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, IconComponent],\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return SiteContextSelectorComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet LanguageCurrencyComponent = /*#__PURE__*/(() => {\n  class LanguageCurrencyComponent {}\n  LanguageCurrencyComponent.ɵfac = function LanguageCurrencyComponent_Factory(t) {\n    return new (t || LanguageCurrencyComponent)();\n  };\n  LanguageCurrencyComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: LanguageCurrencyComponent,\n    selectors: [[\"cx-language-currency-selector\"]],\n    decls: 2,\n    vars: 0,\n    consts: [[\"context\", \"language\"], [\"context\", \"currency\"]],\n    template: function LanguageCurrencyComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"cx-site-context-selector\", 0);\n        i0.ɵɵelement(1, \"cx-site-context-selector\", 1);\n      }\n    },\n    directives: [SiteContextSelectorComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return LanguageCurrencyComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet SiteContextSelectorModule = /*#__PURE__*/(() => {\n  class SiteContextSelectorModule {}\n  SiteContextSelectorModule.ɵfac = function SiteContextSelectorModule_Factory(t) {\n    return new (t || SiteContextSelectorModule)();\n  };\n  SiteContextSelectorModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: SiteContextSelectorModule\n  });\n  SiteContextSelectorModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        CMSSiteContextComponent: {\n          component: SiteContextSelectorComponent,\n          providers: [{\n            provide: SiteContextComponentService,\n            useClass: SiteContextComponentService,\n            deps: [CmsComponentData, ContextServiceMap, Injector]\n          }]\n        },\n        LanguageCurrencyComponent: {\n          component: LanguageCurrencyComponent\n        }\n      }\n    }), SiteContextComponentService],\n    imports: [[CommonModule, RouterModule, SiteContextModule, IconModule]]\n  });\n  return SiteContextSelectorModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nvar SiteContextType = /*#__PURE__*/(() => {\n  (function (SiteContextType) {\n    SiteContextType[\"LANGUAGE\"] = \"LANGUAGE\";\n    SiteContextType[\"CURRENCY\"] = \"CURRENCY\";\n  })(SiteContextType || (SiteContextType = {}));\n  return SiteContextType;\n})();\n/**\n * Star rating component can be used to view existing ratings as well\n * as create new ratings. The component can be used for any ratings.\n */let StarRatingComponent = /*#__PURE__*/(() => {\n  class StarRatingComponent {\n    constructor() {\n      this.initialRate = 0;\n      this.icon = ICON_TYPE.STAR;\n      /**\n       * The rating component can be used in disabled mode,\n       * so that the interaction is not provided.\n       *\n       * Defaults to true.\n       */\n      this.disabled = true;\n      /**\n       * The rating is used to color the rating stars. It can have a\n       * precise number. The rating number is used for a CSS custom property\n       * (AKA css variable) value. The actually coloring is done in CSS.\n       */\n      this.rating = this.initialRate;\n      /**\n       * Emits the given rating when the user clicks on a star.\n       */\n      // eslint-disable-next-line @angular-eslint/no-output-native\n      this.change = new EventEmitter();\n    }\n    setRate(value) {\n      if (this.disabled) {\n        return;\n      }\n      this.rating = value;\n    }\n    reset() {\n      var _a;\n      if (this.disabled) {\n        return;\n      }\n      this.rating = (_a = this.initialRate) !== null && _a !== void 0 ? _a : 0;\n    }\n    saveRate(rating) {\n      if (this.disabled) {\n        return;\n      }\n      this.initialRate = rating;\n      this.setRate(rating);\n      this.change.emit(rating);\n    }\n  }\n  StarRatingComponent.ɵfac = function StarRatingComponent_Factory(t) {\n    return new (t || StarRatingComponent)();\n  };\n  StarRatingComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: StarRatingComponent,\n    selectors: [[\"cx-star-rating\"]],\n    hostVars: 3,\n    hostBindings: function StarRatingComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"mouseout\", function StarRatingComponent_mouseout_HostBindingHandler() {\n          return ctx.reset();\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵattribute(\"disabled\", ctx.disabled);\n        i0.ɵɵstyleProp(\"--star-fill\", ctx.rating);\n      }\n    },\n    inputs: {\n      disabled: \"disabled\",\n      rating: \"rating\"\n    },\n    outputs: {\n      change: \"change\"\n    },\n    decls: 1,\n    vars: 2,\n    consts: [[\"class\", \"star\", 3, \"type\", \"mouseover\", \"click\", \"keydown.space\", 4, \"ngFor\", \"ngForOf\"], [1, \"star\", 3, \"type\", \"mouseover\", \"click\", \"keydown.space\"]],\n    template: function StarRatingComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, StarRatingComponent_cx_icon_0_Template, 1, 2, \"cx-icon\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpureFunction0(1, _c19));\n      }\n    },\n    directives: [i3.NgForOf, IconComponent],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return StarRatingComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet StarRatingModule = /*#__PURE__*/(() => {\n  class StarRatingModule {}\n  StarRatingModule.ɵfac = function StarRatingModule_Factory(t) {\n    return new (t || StarRatingModule)();\n  };\n  StarRatingModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: StarRatingModule\n  });\n  StarRatingModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, IconModule]]\n  });\n  return StarRatingModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TableDataCellComponent = /*#__PURE__*/(() => {\n  class TableDataCellComponent {\n    constructor(outlet) {\n      this.outlet = outlet;\n    }\n    get value() {\n      return this.model[this.field];\n    }\n    get model() {\n      var _a;\n      return (_a = this.outlet) === null || _a === void 0 ? void 0 : _a.context;\n    }\n    get field() {\n      var _a, _b;\n      return (_b = (_a = this.outlet) === null || _a === void 0 ? void 0 : _a.context) === null || _b === void 0 ? void 0 : _b._field;\n    }\n  }\n  TableDataCellComponent.ɵfac = function TableDataCellComponent_Factory(t) {\n    return new (t || TableDataCellComponent)(i0.ɵɵdirectiveInject(OutletContextData));\n  };\n  TableDataCellComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TableDataCellComponent,\n    selectors: [[\"cx-table-data-cell\"]],\n    hostVars: 1,\n    hostBindings: function TableDataCellComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵattribute(\"title\", ctx.value);\n      }\n    },\n    decls: 1,\n    vars: 1,\n    template: function TableDataCellComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtext(0);\n      }\n      if (rf & 2) {\n        i0.ɵɵtextInterpolate(ctx.value);\n      }\n    },\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TableDataCellComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TableHeaderCellComponent = /*#__PURE__*/(() => {\n  class TableHeaderCellComponent {\n    constructor(outlet) {\n      this.outlet = outlet;\n    }\n    /**\n     * Returns the static label for the given field, if available.\n     */\n    get header() {\n      var _a;\n      if (typeof ((_a = this.fieldOptions) === null || _a === void 0 ? void 0 : _a.label) === 'string') {\n        return this.fieldOptions.label;\n      }\n    }\n    /**\n     * Returns the localized label for the given field.\n     *\n     * The localized label is either driven by the configured `label.i18nKey`\n     * or concatenated by the table `type` and field `key`:\n     *\n     * `[tableType].[fieldKey]`\n     *\n     * The localized header can be translated with the `cxTranslate` pipe or `TranslationService`.\n     */\n    get localizedHeader() {\n      var _a, _b;\n      return ((_b = (_a = this.fieldOptions) === null || _a === void 0 ? void 0 : _a.label) === null || _b === void 0 ? void 0 : _b.i18nKey) || `${this.i18nRoot}.${this.field}`;\n    }\n    get fieldOptions() {\n      var _a, _b, _c;\n      return (_c = (_b = (_a = this.outlet) === null || _a === void 0 ? void 0 : _a.context._options) === null || _b === void 0 ? void 0 : _b.cells) === null || _c === void 0 ? void 0 : _c[this.field];\n    }\n    get field() {\n      var _a, _b;\n      return (_b = (_a = this.outlet) === null || _a === void 0 ? void 0 : _a.context) === null || _b === void 0 ? void 0 : _b._field;\n    }\n    get type() {\n      var _a, _b;\n      return (_b = (_a = this.outlet) === null || _a === void 0 ? void 0 : _a.context) === null || _b === void 0 ? void 0 : _b._type;\n    }\n    get i18nRoot() {\n      var _a, _b;\n      return (_b = (_a = this.outlet) === null || _a === void 0 ? void 0 : _a.context) === null || _b === void 0 ? void 0 : _b._i18nRoot;\n    }\n  }\n  TableHeaderCellComponent.ɵfac = function TableHeaderCellComponent_Factory(t) {\n    return new (t || TableHeaderCellComponent)(i0.ɵɵdirectiveInject(OutletContextData));\n  };\n  TableHeaderCellComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TableHeaderCellComponent,\n    selectors: [[\"cx-table-header-cell\"]],\n    decls: 2,\n    vars: 3,\n    template: function TableHeaderCellComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtext(0);\n        i0.ɵɵpipe(1, \"cxTranslate\");\n      }\n      if (rf & 2) {\n        i0.ɵɵtextInterpolate(ctx.header || i0.ɵɵpipeBind1(1, 1, ctx.localizedHeader));\n      }\n    },\n    pipes: [i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TableHeaderCellComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst defaultTableConfig = {\n  tableOptions: {\n    headerComponent: TableHeaderCellComponent,\n    dataComponent: TableDataCellComponent\n  }\n};\n\n/**\n * The `TableConfig` provides a table configurations for specific table types. You can define\n * an all-screen table structure as well as a breakpoint specific table structure. The various\n * table structures are merged from small to large screen configurations, depending on the users\n * screen size.\n *\n * The `table.type` is used as a key to distinguish the various table configurations in the application.\n */\nlet TableConfig = /*#__PURE__*/(() => {\n  class TableConfig {}\n  TableConfig.ɵfac = function TableConfig_Factory(t) {\n    return new (t || TableConfig)();\n  };\n  TableConfig.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TableConfig,\n    factory: function TableConfig_Factory(t) {\n      let r = null;\n      if (t) {\n        r = new (t || TableConfig)();\n      } else {\n        r = i0.ɵɵinject(Config);\n      }\n      return r;\n    },\n    providedIn: 'root'\n  });\n  return TableConfig;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TableDataCellModule = /*#__PURE__*/(() => {\n  class TableDataCellModule {}\n  TableDataCellModule.ɵfac = function TableDataCellModule_Factory(t) {\n    return new (t || TableDataCellModule)();\n  };\n  TableDataCellModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TableDataCellModule\n  });\n  TableDataCellModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule]]\n  });\n  return TableDataCellModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TableHeaderCellModule = /*#__PURE__*/(() => {\n  class TableHeaderCellModule {}\n  TableHeaderCellModule.ɵfac = function TableHeaderCellModule_Factory(t) {\n    return new (t || TableHeaderCellModule)();\n  };\n  TableHeaderCellModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TableHeaderCellModule\n  });\n  TableHeaderCellModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, I18nModule]]\n  });\n  return TableHeaderCellModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * The table renderer service adds a component for each table cells (th and td)\n * based on a fine grained configuration. Each table type can configure both global\n * components for headers and cells as well as individual components for field\n * specific cells.\n *\n * The components are added to the outlet slots for the corresponding cells. The table\n * structure and data is added to the outlet context.\n */\nlet TableRendererService = /*#__PURE__*/(() => {\n  class TableRendererService {\n    constructor(outletService, componentFactoryResolver, config) {\n      this.outletService = outletService;\n      this.componentFactoryResolver = componentFactoryResolver;\n      this.config = config;\n      // keep a list of outletRefs to avoid recreation\n      this.outletRefs = new Map();\n    }\n    /**\n     * Adds the configured table component for the header and data.\n     */\n    add(structure) {\n      var _a;\n      (_a = structure === null || structure === void 0 ? void 0 : structure.cells) === null || _a === void 0 ? void 0 : _a.forEach(field => {\n        const thRenderer = this.getHeaderRenderer(structure, field);\n        if (thRenderer) {\n          const ref = this.getHeaderOutletRef(structure.type, field);\n          this.render(ref, thRenderer);\n        }\n        const tdRenderer = this.getDataRenderer(structure, field);\n        if (tdRenderer) {\n          const ref = this.getDataOutletRef(structure.type, field);\n          this.render(ref, tdRenderer);\n        }\n      });\n    }\n    render(outletRef, renderer) {\n      if (this.outletRefs.has(outletRef)) {\n        return;\n      }\n      this.outletRefs.set(outletRef, true);\n      const template = this.componentFactoryResolver.resolveComponentFactory(renderer);\n      this.outletService.add(outletRef, template);\n    }\n    /**\n     * Returns the header render component for the given field.\n     */\n    getHeaderRenderer(structure, field) {\n      var _a, _b, _c, _d, _e;\n      return ((_c = (_b = (_a = structure.options) === null || _a === void 0 ? void 0 : _a.cells) === null || _b === void 0 ? void 0 : _b[field]) === null || _c === void 0 ? void 0 : _c.headerComponent) || ((_d = structure.options) === null || _d === void 0 ? void 0 : _d.headerComponent) || ((_e = this.config.tableOptions) === null || _e === void 0 ? void 0 : _e.headerComponent);\n    }\n    /**\n     * Returns the data render component for the given field.\n     */\n    getDataRenderer(structure, field) {\n      var _a, _b, _c, _d, _e;\n      return ((_c = (_b = (_a = structure.options) === null || _a === void 0 ? void 0 : _a.cells) === null || _b === void 0 ? void 0 : _b[field]) === null || _c === void 0 ? void 0 : _c.dataComponent) || ((_d = structure.options) === null || _d === void 0 ? void 0 : _d.dataComponent) || ((_e = this.config.tableOptions) === null || _e === void 0 ? void 0 : _e.dataComponent);\n    }\n    /**\n     * Returns the header (th) outlet reference for the given field.\n     *\n     * The outlet reference is generated as:\n     * `table.[tableType].header.[field]`\n     */\n    getHeaderOutletRef(type, field) {\n      return `table.${type}.header.${field}`;\n    }\n    /**\n     * Returns the header (th) outlet context for the given field.\n     */\n    getHeaderOutletContext(type, options, i18nRoot, field) {\n      return {\n        _type: type,\n        _options: options,\n        _field: field,\n        _i18nRoot: i18nRoot\n      };\n    }\n    /**\n     * Returns the data (td) outlet reference for the given field.\n     *\n     * The field is generated as:\n     * `table.[tableType].data.[tableField]`\n     */\n    getDataOutletRef(type, field) {\n      return `table.${type}.data.${field}`;\n    }\n    /**\n     * Returns the data (td) outlet context for the given field.\n     */\n    getDataOutletContext(type, options, i18nRoot, field, data) {\n      return Object.assign(Object.assign({}, data), {\n        _type: type,\n        _options: options,\n        _field: field,\n        _i18nRoot: i18nRoot\n      });\n    }\n  }\n  TableRendererService.ɵfac = function TableRendererService_Factory(t) {\n    return new (t || TableRendererService)(i0.ɵɵinject(OutletService), i0.ɵɵinject(i0.ComponentFactoryResolver), i0.ɵɵinject(TableConfig));\n  };\n  TableRendererService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TableRendererService,\n    factory: TableRendererService.ɵfac,\n    providedIn: 'root'\n  });\n  return TableRendererService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Layout orientation for the table configuration.\n */\nvar TableLayout = /*#__PURE__*/(() => {\n  (function (TableLayout) {\n    /**\n     * Renders the table vertically, with a heading on top of the table.\n     *\n     * Vertical layout is most common and the default layout.\n     */\n    TableLayout[TableLayout[\"VERTICAL\"] = 1] = \"VERTICAL\";\n    /**\n     * Stacks items in a tables by generating a `tbody` for each item.\n     */\n    TableLayout[TableLayout[\"VERTICAL_STACKED\"] = 2] = \"VERTICAL_STACKED\";\n    /**\n     * Horizontal oriented table layout renders the table headers in the first column of the table.\n     */\n    TableLayout[TableLayout[\"HORIZONTAL\"] = 3] = \"HORIZONTAL\";\n  })(TableLayout || (TableLayout = {}));\n  return TableLayout;\n})();\n/**\n * The table component provides a generic table DOM structure, with 3 layout types:\n * horizontal, vertical and _stacked vertical_ layout. The layout is driven by the\n * table structure.\n *\n * The implementation is fairly \"dumb\" and only renders string based content for TH\n * and TD elements. The actual cell rendering is delegated to a (configurable) cell\n * component. Additionally, each cell is registered as an outlet, so that customizations\n * can be done by both outlet templates and components.\n *\n * The outlet references are concatenated from the table `type` and header `key`. The\n * following snippet shows an outlet generated for a table header, for the table type\n * \"cost-center\" with a header key \"name\":\n *\n * ```\n * <th>\n *   <template cxOutlet=\"table.cost-center.header.name\">\n *   </template>\n * </th>\n * ```\n *\n * Similarly, the data cells (`<td>`) are generated with the outlet template reference\n * `table.cost-center.data.name`.\n */let TableComponent = /*#__PURE__*/(() => {\n  class TableComponent {\n    constructor(rendererService) {\n      this.rendererService = rendererService;\n      this.launch = new EventEmitter();\n    }\n    set structure(structure) {\n      this._structure = structure;\n      this.init();\n    }\n    get structure() {\n      return this._structure;\n    }\n    init() {\n      this.verticalLayout = !this.layout || this.layout === TableLayout.VERTICAL;\n      this.verticalStackedLayout = this.layout === TableLayout.VERTICAL_STACKED;\n      this.horizontalLayout = this.layout === TableLayout.HORIZONTAL;\n      this.rendererService.add(this.structure);\n      this.addTableDebugInfo();\n    }\n    launchItem(item) {\n      this.launch.emit(item);\n    }\n    /**\n     * Indicates whether the given item is the current item.\n     *\n     * The current item is driven by the `currentItem`, that holds a\n     * property and value to compare.\n     */\n    isCurrentItem(item) {\n      var _a, _b;\n      if (!this.currentItem || !this.currentItem.value) {\n        return false;\n      }\n      return ((_a = this.currentItem) === null || _a === void 0 ? void 0 : _a.value) === (item === null || item === void 0 ? void 0 : item[(_b = this.currentItem) === null || _b === void 0 ? void 0 : _b.property]);\n    }\n    /**\n     * Returns the header (th) outlet reference for the given field.\n     */\n    getHeaderOutletRef(field) {\n      return this.rendererService.getHeaderOutletRef(this.type, field);\n    }\n    /**\n     * Returns the header (th) outlet context for the given field.\n     */\n    getHeaderOutletContext(field) {\n      return this.rendererService.getHeaderOutletContext(this.type, this.options, this.i18nRoot, field);\n    }\n    /**\n     * Returns the data (td) outlet reference for the given field.\n     */\n    getDataOutletRef(field) {\n      return this.rendererService.getDataOutletRef(this.type, field);\n    }\n    /**\n     * Returns the data (td) outlet context for the given field.\n     */\n    getDataOutletContext(field, data) {\n      return this.rendererService.getDataOutletContext(this.type, this.options, this.i18nRoot, field, data);\n    }\n    trackData(_i, item) {\n      return JSON.stringify(item);\n    }\n    /**\n     * Generates the table type into the UI in devMode, so that developers\n     * can easily get the notion of the table type.\n     */\n    addTableDebugInfo() {\n      if (isDevMode() && this.type) {\n        this.tableType = this.type;\n      }\n    }\n    /**\n     * Helper method to return the deeply nested orientation configuration.\n     */\n    get layout() {\n      var _a, _b;\n      return (_b = (_a = this.structure) === null || _a === void 0 ? void 0 : _a.options) === null || _b === void 0 ? void 0 : _b.layout;\n    }\n    /**\n     * Helper method to return the deeply nested type.\n     */\n    get type() {\n      var _a;\n      return (_a = this.structure) === null || _a === void 0 ? void 0 : _a.type;\n    }\n    get options() {\n      var _a;\n      return (_a = this.structure) === null || _a === void 0 ? void 0 : _a.options;\n    }\n  }\n  TableComponent.ɵfac = function TableComponent_Factory(t) {\n    return new (t || TableComponent)(i0.ɵɵdirectiveInject(TableRendererService));\n  };\n  TableComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TableComponent,\n    selectors: [[\"cx-table\"]],\n    hostVars: 7,\n    hostBindings: function TableComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵattribute(\"__cx-table-type\", ctx.tableType);\n        i0.ɵɵclassProp(\"horizontal\", ctx.horizontalLayout)(\"vertical\", ctx.verticalLayout)(\"vertical-stacked\", ctx.verticalStackedLayout);\n      }\n    },\n    inputs: {\n      structure: \"structure\",\n      data: \"data\",\n      i18nRoot: \"i18nRoot\",\n      currentItem: \"currentItem\"\n    },\n    outputs: {\n      launch: \"launch\"\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[4, \"ngIf\"], [3, \"is-current\", \"click\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [3, \"click\"], [3, \"class\", 4, \"ngFor\", \"ngForOf\"], [3, \"cxOutlet\", \"cxOutletContext\"], [\"scope\", \"col\", 3, \"class\", 4, \"ngFor\", \"ngForOf\"], [\"scope\", \"col\"]],\n    template: function TableComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TableComponent_table_0_Template, 4, 3, \"table\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.structure);\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, OutletDirective],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TableComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * The TableModule provides a table component that is driven by (responsible) configuration.\n */\nlet TableModule = /*#__PURE__*/(() => {\n  class TableModule {}\n  TableModule.ɵfac = function TableModule_Factory(t) {\n    return new (t || TableModule)();\n  };\n  TableModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TableModule\n  });\n  TableModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideConfig(defaultTableConfig)],\n    imports: [[CommonModule, OutletModule, TableHeaderCellModule, TableDataCellModule]]\n  });\n  return TableModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Responsive table service.\n *\n * The `TableService` is used to build a `TableStructure` by configuration. The configuration\n * allows for breakpoint specific configuration, so that the table can differentiate for\n * various screen sizes.\n *\n * While there are some global options, the configuration is mainly driven by the table _type_.\n *\n * If there is no table configuration for the given type found, a table header structure\n * is generated based on the actual data (if available) or randomly by generating 5 random headers.\n */\nlet TableService = /*#__PURE__*/(() => {\n  class TableService {\n    constructor(breakpointService, config) {\n      this.breakpointService = breakpointService;\n      this.config = config;\n    }\n    /**\n     * Builds the table structure.\n     *\n     * @param tableType The table type is used  to find the specific table configuration.\n     * @param defaultStructure (optional) Default table structure that contains fallback options. More specific options are merged with the default structure.\n     * @param data$ (optional) The actual data can be passed in to generate the table structure based on actual data.\n     */\n    buildStructure(tableType, defaultStructure) {\n      if (this.hasTableConfig(tableType)) {\n        return this.buildStructureFromConfig(tableType, defaultStructure);\n      } else {\n        return this.buildRandomStructure(tableType);\n      }\n    }\n    /**\n     * Returns the table structure by configuration. The configuration can be\n     * breakpoint-driven, which means that an alternative header structure can\n     * be created per screen size.\n     *\n     * The breakpoint is resolved by teh `BreakpointService`.\n     */\n    buildStructureFromConfig(type, defaultStructure) {\n      return this.breakpointService.breakpoint$.pipe(map(breakpoint => Object.assign(Object.assign({}, this.getTableConfig(type, breakpoint, defaultStructure)), {\n        type\n      })));\n    }\n    /**\n     * Finds all applicable table configuration for the given type and breakpoint.\n     * The default table configuration is merged with all relevant breakpoint\n     * configurations.\n     *\n     * This allows to have some default configurations that apply to all screens, and\n     * add configuration options for some screens.\n     */\n    getTableConfig(type, breakpoint, defaultStructure) {\n      var _a, _b;\n      if (!((_a = this.config.table) === null || _a === void 0 ? void 0 : _a[type])) {\n        return null;\n      }\n      const relevant = this.findRelevantBreakpoints(breakpoint);\n      const closestBreakpoint = [...relevant].reverse().find(br => {\n        var _a;\n        return !!((_a = this.config.table[type][br]) === null || _a === void 0 ? void 0 : _a.cells);\n      });\n      const cells = ((_b = this.config.table[type][closestBreakpoint]) === null || _b === void 0 ? void 0 : _b.cells) || this.config.table[type].cells || (defaultStructure === null || defaultStructure === void 0 ? void 0 : defaultStructure.cells);\n      // add all default table configurations\n      let options = Object.assign(Object.assign({}, defaultStructure === null || defaultStructure === void 0 ? void 0 : defaultStructure.options), this.config.table[type].options);\n      // We merge all table options for smaller breakpoints into the global\n      // options, so we inherit options.\n      relevant.forEach(br => {\n        var _a, _b, _c;\n        options = Object.assign(Object.assign(Object.assign({}, options), (_a = defaultStructure === null || defaultStructure === void 0 ? void 0 : defaultStructure[br]) === null || _a === void 0 ? void 0 : _a.options), (_c = (_b = this.config.table[type]) === null || _b === void 0 ? void 0 : _b[br]) === null || _c === void 0 ? void 0 : _c.options);\n      });\n      return {\n        cells,\n        options\n      };\n    }\n    /**\n     * Generates the table structure by the help of the first data row.\n     */\n    buildStructureFromData(type, data$) {\n      this.logWarning(`No table configuration found to render table with type \"${type}\". The table header for \"${type}\" is generated by the help of the first data item`);\n      return data$.pipe(map(data => {\n        const cells = Object.keys(data === null || data === void 0 ? void 0 : data[0]).map(key => key);\n        return {\n          type,\n          cells\n        };\n      }));\n    }\n    /**\n     * As a last resort, the table structure is randomly created. The random structure\n     * contains 5 headers, so that some of the unknown data is visualized.\n     */\n    buildRandomStructure(type) {\n      this.logWarning(`No data available for \"${type}\", a random structure is generated (with hidden table headers).`);\n      return of({\n        type,\n        cells: ['unknown', 'unknown', 'unknown', 'unknown', 'unknown']\n      });\n    }\n    /**\n     * Finds all the breakpoints can contribute to the table configuration, from small\n     * to current.\n     *\n     * For example, if the current breakpoint is `MD`, this returns `[XS, SM, MD]`.\n     */\n    findRelevantBreakpoints(breakpoint) {\n      const current = this.breakpointService.breakpoints.indexOf(breakpoint);\n      return this.breakpointService.breakpoints.slice(0, current + 1);\n    }\n    /**\n     * Indicates if the there is a configuration for the table available.\n     */\n    hasTableConfig(tableType) {\n      var _a;\n      return !!((_a = this.config.table) === null || _a === void 0 ? void 0 : _a[tableType]);\n    }\n    /**\n     * Logs a message in the console to increase developer experience.\n     *\n     * The message is only logged in dev mode.\n     */\n    logWarning(message) {\n      if (isDevMode()) {\n        console.warn(message);\n      }\n    }\n  }\n  TableService.ɵfac = function TableService_Factory(t) {\n    return new (t || TableService)(i0.ɵɵinject(BreakpointService), i0.ɵɵinject(TableConfig));\n  };\n  TableService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: TableService,\n    factory: TableService.ɵfac,\n    providedIn: 'root'\n  });\n  return TableService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ViewConfig = /*#__PURE__*/(() => {\n  class ViewConfig {}\n  ViewConfig.ɵfac = function ViewConfig_Factory(t) {\n    return new (t || ViewConfig)();\n  };\n  ViewConfig.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ViewConfig,\n    factory: function ViewConfig_Factory(t) {\n      let r = null;\n      if (t) {\n        r = new (t || ViewConfig)();\n      } else {\n        r = i0.ɵɵinject(Config);\n      }\n      return r;\n    },\n    providedIn: 'root'\n  });\n  return ViewConfig;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/*\n * Supplements the anchor links that contain only the hash fragment in the `href` attribute,\n * (e.g. `<a href=\"#someId\">`), by prepending the current location (path and query params),\n * so it becomes a link to a full url\n * e.g. `<a href=\"https://domain.com/current/path?and=query-params#someId\">`.\n *\n * This helps to avoid the undesirable navigation to the homepage URL (`/#someId`)\n * when clicking the original link.\n *\n * It's useful for example for cms-provided content passed to the [innerHTML] directive.\n */\nlet SupplementHashAnchorsPipe = /*#__PURE__*/(() => {\n  class SupplementHashAnchorsPipe {\n    constructor(renderer, winRef) {\n      this.renderer = renderer;\n      this.winRef = winRef;\n    }\n    getPath(anchorId) {\n      const currentUrlWithoutFragment = this.winRef.location.href.replace(/#.*$/, '');\n      return `${currentUrlWithoutFragment}${anchorId}`;\n    }\n    transform(html) {\n      const template = this.renderer.createElement('template');\n      template.innerHTML = html.trim();\n      const linkNodes = template.content.querySelectorAll('a');\n      Array.from(linkNodes).forEach(link => {\n        const href = link.getAttribute('href');\n        if ((href === null || href === void 0 ? void 0 : href.indexOf('#')) === 0) {\n          this.renderer.setProperty(link, 'href', this.getPath(href));\n        }\n      });\n      return template.innerHTML;\n    }\n  }\n  SupplementHashAnchorsPipe.ɵfac = function SupplementHashAnchorsPipe_Factory(t) {\n    return new (t || SupplementHashAnchorsPipe)(i0.ɵɵdirectiveInject(i0.Renderer2, 16), i0.ɵɵdirectiveInject(i1.WindowRef, 16));\n  };\n  SupplementHashAnchorsPipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"cxSupplementHashAnchors\",\n    type: SupplementHashAnchorsPipe,\n    pure: true\n  });\n  return SupplementHashAnchorsPipe;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet SupplementHashAnchorsModule = /*#__PURE__*/(() => {\n  class SupplementHashAnchorsModule {}\n  SupplementHashAnchorsModule.ɵfac = function SupplementHashAnchorsModule_Factory(t) {\n    return new (t || SupplementHashAnchorsModule)();\n  };\n  SupplementHashAnchorsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: SupplementHashAnchorsModule\n  });\n  SupplementHashAnchorsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return SupplementHashAnchorsModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FileDownloadService = /*#__PURE__*/(() => {\n  class FileDownloadService {\n    /**\n     * Triggers the browser downloading of the file from the given URL.\n     *\n     * @param {string} url URL to file.\n     * @param {string} [fileName] The optional parameter for defining filename\n     * (including the extension) when saving the file.\n     */\n    download(url, fileName) {\n      const link = document.createElement('a');\n      link.setAttribute('href', url);\n      link.setAttribute('download', `${fileName}`);\n      link.style.visibility = 'hidden';\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n    }\n  }\n  FileDownloadService.ɵfac = function FileDownloadService_Factory(t) {\n    return new (t || FileDownloadService)();\n  };\n  FileDownloadService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: FileDownloadService,\n    factory: FileDownloadService.ɵfac,\n    providedIn: 'root'\n  });\n  return FileDownloadService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ExportCsvFileService = /*#__PURE__*/(() => {\n  class ExportCsvFileService {\n    constructor(fileDownloadService) {\n      this.fileDownloadService = fileDownloadService;\n    }\n    /**\n     * Converts array of objects into CSV data structure.\n     *\n     * @param objectsArray Array of objects which should be converted to CSV.\n     * @param separator Separator for CSV data.\n     * @returns Processed string ready to be saved into file.\n     */\n    convert(objectsArray, separator) {\n      return objectsArray.reduce((csvString, row) => {\n        const line = row.reduce((currentLine, column) => {\n          currentLine += currentLine !== '' ? separator : '';\n          const cell = column.includes(separator) ? `\"${column}\"` : column;\n          return `${currentLine}${cell}`;\n        }, '');\n        return `${csvString}${line}\\r\\n`;\n      }, '');\n    }\n    /**\n     * Creates and download CSV file.\n     *\n     * @param objectsArray Array of objects which should be converted to CSV.\n     * @param separator Separator for CSV data.\n     * @param fileOptions Exported file options.\n     */\n    download(objectsArray, separator, fileOptions) {\n      const {\n        fileName,\n        type,\n        extension\n      } = fileOptions;\n      const fileContent = this.convert(objectsArray, separator);\n      const blob = new Blob([fileContent], {\n        type\n      });\n      const url = URL.createObjectURL(blob);\n      this.fileDownloadService.download(url, `${fileName}.${extension}`);\n    }\n  }\n  ExportCsvFileService.ɵfac = function ExportCsvFileService_Factory(t) {\n    return new (t || ExportCsvFileService)(i0.ɵɵinject(FileDownloadService));\n  };\n  ExportCsvFileService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ExportCsvFileService,\n    factory: ExportCsvFileService.ɵfac,\n    providedIn: 'root'\n  });\n  return ExportCsvFileService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FileReaderService = /*#__PURE__*/(() => {\n  class FileReaderService {\n    /**\n     * Load text file\n     *\n     * @param file text file to extract the data\n     * @returns Observable from file reader\n     */\n    loadTextFile(file) {\n      return new Observable(observer => {\n        const fileReader = new FileReader();\n        fileReader.readAsText(file);\n        fileReader.onload = () => {\n          observer.next(fileReader.result);\n          observer.complete();\n        };\n        fileReader.onerror = error => {\n          fileReader.abort();\n          observer.error(error);\n        };\n      });\n    }\n  }\n  FileReaderService.ɵfac = function FileReaderService_Factory(t) {\n    return new (t || FileReaderService)();\n  };\n  FileReaderService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: FileReaderService,\n    factory: FileReaderService.ɵfac,\n    providedIn: 'root'\n  });\n  return FileReaderService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ImportCsvFileService = /*#__PURE__*/(() => {\n  class ImportCsvFileService {\n    constructor(fileReaderService) {\n      this.fileReaderService = fileReaderService;\n    }\n    /**\n     * Load CSV file.\n     *\n     * @param file File we want to load as CSV.\n     * @param separator Separator for CSV data.\n     * @return {Observable<string[][]>} Imported file\n     */\n    loadFile(file, separator) {\n      return this.fileReaderService.loadTextFile(file).pipe(map(res => this.parse(res, separator)));\n    }\n    /**\n     * Combined csv validation\n     *\n     * @param file File we want to load as CSV.\n     * @param separator Separator for CSV data.\n     * @param isDataParsable (optional) Callback for verify that structure type is proper.\n     * @param maxEntries (optional) Limitation for maximum entries count.\n     * @return {Observable<CsvFileValidationErrors | null>} Result of validation\n     */\n    validateFile(file, {\n      separator,\n      isDataParsable,\n      maxEntries\n    }) {\n      const errors = {};\n      return this.fileReaderService.loadTextFile(file).pipe(tap(data => {\n        this.validateEmpty(data, errors);\n      }), map(res => this.parse(res, separator)), tap(data => {\n        this.validateNotParsable(data, errors, isDataParsable);\n        this.validateTooManyEntries(data, errors, maxEntries);\n      }), catchError(errors => of(errors)), map(() => Object.keys(errors).length === 0 ? null : errors));\n    }\n    /**\n     * Processes the CSV data\n     *\n     * @param csvString raw extracted data from CSV\n     * @param separator for csv data\n     * @param ignoreHeader (optional) flag allows for ignore headers row while reading\n     * @returns {string[][]} Parsed file\n     */\n    parse(csvString, separator, ignoreHeader = true) {\n      return csvString.split('\\n').map(row => row.split(separator).map(cell => cell.replace(/\"/g, ''))).filter((value, index) => !(ignoreHeader && index === 0) && value[0] !== '');\n    }\n    validateEmpty(data, errors) {\n      if (data.toString().length === 0) {\n        errors.empty = true;\n        throw errors;\n      }\n    }\n    validateTooManyEntries(data, errors, maxEntries) {\n      if (maxEntries && data.length > maxEntries) {\n        errors.tooManyEntries = {\n          maxEntries\n        };\n        throw errors;\n      }\n    }\n    validateNotParsable(data, errors, isDataParsable) {\n      if (isDataParsable && !isDataParsable(data)) {\n        errors.notParsable = true;\n        throw errors;\n      }\n    }\n  }\n  ImportCsvFileService.ɵfac = function ImportCsvFileService_Factory(t) {\n    return new (t || ImportCsvFileService)(i0.ɵɵinject(FileReaderService));\n  };\n  ImportCsvFileService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ImportCsvFileService,\n    factory: ImportCsvFileService.ɵfac,\n    providedIn: 'root'\n  });\n  return ImportCsvFileService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FilesFormValidators = /*#__PURE__*/(() => {\n  class FilesFormValidators {\n    /**\n     * Checks max size of file\n     *\n     * @param {number} maxSize Max size [MB]\n     * @returns Uses 'tooLarge' validator error with maxSize property\n     * @memberOf FilesFormValidators\n     */\n    maxSize(maxSize) {\n      return control => {\n        const errors = {};\n        if (maxSize) {\n          const files = Array.from(control.value);\n          files.forEach(file => {\n            var _a, _b;\n            if (file.size > maxSize * 1000000) {\n              const invalidFiles = (_b = (_a = errors.tooLarge) === null || _a === void 0 ? void 0 : _a.invalidFiles) !== null && _b !== void 0 ? _b : [];\n              errors.tooLarge = {\n                maxSize,\n                invalidFiles: [...invalidFiles, file.name]\n              };\n            }\n          });\n        }\n        return Object.keys(errors).length === 0 ? null : errors;\n      };\n    }\n  }\n  FilesFormValidators.ɵfac = function FilesFormValidators_Factory(t) {\n    return new (t || FilesFormValidators)();\n  };\n  FilesFormValidators.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: FilesFormValidators,\n    factory: FilesFormValidators.ɵfac,\n    providedIn: 'root'\n  });\n  return FilesFormValidators;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass CustomFormValidators {\n  /**\n   * Checks control's value with predefined email regexp\n   *\n   * NOTE: Use it as a control validator\n   *\n   * @static\n   * @param {AbstractControl} control\n   * @returns {(ValidationErrors | null)} Uses 'cxInvalidEmail' validator error\n   * @memberof CustomFormValidators\n   */\n  static emailValidator(control) {\n    const email = control.value;\n    return email && (!email.length || email.match(EMAIL_PATTERN)) ? null : {\n      cxInvalidEmail: true\n    };\n  }\n  /**\n   * Checks control's value with predefined password regexp\n   *\n   * NOTE: Use it as a control validator\n   *\n   * @static\n   * @param {AbstractControl} control\n   * @returns {(ValidationErrors | null)} Uses 'cxInvalidPassword' validator error\n   * @memberof CustomFormValidators\n   */\n  static passwordValidator(control) {\n    const password = control.value;\n    return password && (!password.length || password.match(PASSWORD_PATTERN)) ? null : {\n      cxInvalidPassword: true\n    };\n  }\n  /**\n   * Checks if control's value is between 1 and 5\n   *\n   * NOTE: Use it as a control validator\n   *\n   * @static\n   * @param {AbstractControl} control\n   * @returns {(ValidationErrors | null)} Uses 'cxStarRatingEmpty' validator error\n   * @memberof CustomFormValidators\n   */\n  static starRatingEmpty(control) {\n    const rating = control.value;\n    return rating >= 1 && rating <= 5 ? null : {\n      cxStarRatingEmpty: true\n    };\n  }\n  /**\n   * Checks if two password controls match\n   *\n   * NOTE: Use it as a form validator and pass password control names as parameters\n   *\n   * @static\n   * @param {string} password First password control name\n   * @param {string} passwordConfirmation Second password control name\n   * @returns Uses 'cxPasswordsMustMatch' validator error\n   * @memberof CustomFormValidators\n   */\n  static passwordsMustMatch(password, passwordConfirmation) {\n    const validator = formGroup => controlsMustMatch(formGroup, password, passwordConfirmation, 'cxPasswordsMustMatch');\n    return validator;\n  }\n  /**\n   * Checks if two email controls match\n   *\n   * NOTE: Use it as a form validator and pass email control names as parameters\n   *\n   * @static\n   * @param {string} email First email control name\n   * @param {string} emailConfirmation Second email control name\n   * @returns Uses 'cxEmailsMustMatch' validator error\n   * @memberof CustomFormValidators\n   */\n  static emailsMustMatch(email, emailConfirmation) {\n    const validator = formGroup => controlsMustMatch(formGroup, email, emailConfirmation, 'cxEmailsMustMatch');\n    return validator;\n  }\n  /**\n   * Checks if control's value is euqal or greater than 0\n   *\n   * NOTE: Use it as a control validator\n   *\n   * @static\n   * @param {AbstractControl} control\n   * @returns {(ValidationErrors | null)} Uses 'cxNegativeAmount' validator error\n   * @memberof CustomFormValidators\n   */\n  static mustBePositive(control) {\n    const amount = control.value;\n    return amount >= 0 ? null : {\n      cxNegativeAmount: true\n    };\n  }\n  /**\n   * Checks if control's value does not contain any special characters\n   *\n   * NOTE: Use it as a control validator\n   *\n   * @static\n   * @param {AbstractControl} control\n   * @returns {(ValidationErrors | null)} Uses 'cxContainsSpecialCharacters' validator error\n   * @memberof CustomFormValidators\n   */\n  static noSpecialCharacters(control) {\n    const forbiddenChars = ['/'];\n    const str = String(control.value);\n    const containsSpecialChars = forbiddenChars.some(char => str.includes(char));\n    return !containsSpecialChars ? null : {\n      cxContainsSpecialCharacters: true\n    };\n  }\n  /**\n   * Checks if control's value passes pattern\n   *\n   * NOTE: Use it as a control validator\n   *\n   * @static\n   * @param {(date: string) => boolean} isValidFormat Pattern verification function\n   * @returns {(control: AbstractControl): ValidationErrors | null} Uses 'pattern' validator error\n   * @memberof CustomFormValidators\n   */\n  static patternValidation(isValidFormat) {\n    const validator = control => {\n      const errors = {};\n      if (control.value && control.value !== '' && !isValidFormat(control.value)) {\n        errors.pattern = true;\n      }\n      return Object.keys(errors).length === 0 ? null : errors;\n    };\n    return validator;\n  }\n  /**\n   * Checks if two email controls match\n   *\n   * NOTE: Use it as a form validator and pass dates for range\n   *\n   * @static\n   * @param {string} startDateKey First date control name\n   * @param {string} endDateKey Second date control name\n   * @param {(value: string) => Date} getDate Converting function\n   * @returns Uses 'min' and 'max validator error\n   * @memberof CustomFormValidators\n   */\n  static dateRange(startDateKey, endDateKey, getDate) {\n    const validator = formGroup => {\n      var _a, _b;\n      const startDateControl = formGroup.controls[startDateKey];\n      const endDateControl = formGroup.controls[endDateKey];\n      const startDate = getDate(startDateControl.value);\n      const endDate = getDate(endDateControl.value);\n      if (!((_a = startDateControl.errors) === null || _a === void 0 ? void 0 : _a.pattern)) {\n        if (startDate > endDate) {\n          startDateControl.setErrors({\n            max: true\n          });\n        }\n      }\n      if (!((_b = endDateControl.errors) === null || _b === void 0 ? void 0 : _b.pattern)) {\n        if (endDate < startDate) {\n          endDateControl.setErrors({\n            min: true\n          });\n        }\n      }\n      return null;\n    };\n    return validator;\n  }\n}\n/**\n * Generic function for validators, which checks if two passed controls match.\n *\n * @param formGroup\n * @param firstControlName First control to check\n * @param secondControlName Second control to check\n * @param errorName Error which will be returned by validator\n */\nfunction controlsMustMatch(formGroup, firstControlName, secondControlName, errorName) {\n  const firstControl = formGroup.controls[firstControlName];\n  const secondControl = formGroup.controls[secondControlName];\n  if (secondControl.errors && !secondControl.errors[errorName]) {\n    return;\n  }\n  secondControl.setErrors(firstControl.value !== secondControl.value ? {\n    [errorName]: true\n  } : null);\n}\nconst titleScores = {\n  mr: 1,\n  mrs: 2,\n  miss: 3,\n  ms: 4,\n  dr: 5,\n  rev: 6\n};\nfunction sortTitles(title1, title2) {\n  if (!titleScores[title1.code] || !titleScores[title2.code]) {\n    return 1;\n  } else {\n    return titleScores[title1.code] - titleScores[title2.code];\n  }\n}\nlet AppliedCouponsComponent = /*#__PURE__*/(() => {\n  class AppliedCouponsComponent {\n    constructor(cartVoucherService) {\n      this.cartVoucherService = cartVoucherService;\n      this.cartIsLoading = false;\n      this.isReadOnly = false;\n      this.iconTypes = ICON_TYPE;\n    }\n    get sortedVouchers() {\n      this.vouchers = this.vouchers || [];\n      return this.vouchers.slice().sort((a, b) => {\n        return a.code.localeCompare(b.code);\n      });\n    }\n    removeVoucher(voucherId) {\n      this.cartVoucherService.removeVoucher(voucherId);\n    }\n  }\n  AppliedCouponsComponent.ɵfac = function AppliedCouponsComponent_Factory(t) {\n    return new (t || AppliedCouponsComponent)(i0.ɵɵdirectiveInject(i1.CartVoucherService));\n  };\n  AppliedCouponsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: AppliedCouponsComponent,\n    selectors: [[\"cx-applied-coupons\"]],\n    inputs: {\n      vouchers: \"vouchers\",\n      cartIsLoading: \"cartIsLoading\",\n      isReadOnly: \"isReadOnly\"\n    },\n    decls: 3,\n    vars: 2,\n    consts: [[4, \"ngIf\", \"ngIfElse\"], [\"editableCoupons\", \"\"], [4, \"ngIf\"], [\"class\", \"coupon-summary cx-coupon-card textonly\", \"role\", \"filter\", 4, \"ngFor\", \"ngForOf\"], [1, \"cx-applied-coupon-title\"], [\"role\", \"filter\", 1, \"coupon-summary\", \"cx-coupon-card\", \"textonly\"], [1, \"cx-applied-coupon-code\"], [1, \"row\"], [\"class\", \"col-sm-12 col-md-6 col-lg-12 cx-coupon-card-grid\", \"role\", \"filter\", 4, \"ngFor\", \"ngForOf\"], [\"role\", \"filter\", 1, \"col-sm-12\", \"col-md-6\", \"col-lg-12\", \"cx-coupon-card-grid\"], [1, \"cx-coupon-apply\", \"cx-coupon-card\", \"cx-coupon-list-wrap\"], [1, \"cx-cart-coupon-code\"], [\"type\", \"button\", 1, \"close\", 3, \"disabled\", \"click\"], [\"aria-hidden\", \"true\"], [3, \"type\"]],\n    template: function AppliedCouponsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, AppliedCouponsComponent_div_0_Template, 3, 2, \"div\", 0);\n        i0.ɵɵtemplate(1, AppliedCouponsComponent_ng_template_1_Template, 2, 1, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isReadOnly)(\"ngIfElse\", _r1);\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, IconComponent],\n    pipes: [i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return AppliedCouponsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CartCouponComponent = /*#__PURE__*/(() => {\n  class CartCouponComponent {\n    constructor(cartVoucherService, formBuilder, customerCouponService, activeCartService) {\n      this.cartVoucherService = cartVoucherService;\n      this.formBuilder = formBuilder;\n      this.customerCouponService = customerCouponService;\n      this.activeCartService = activeCartService;\n      this.MAX_CUSTOMER_COUPON_PAGE = 100;\n      this.ignoreCloseEvent = false;\n      this.subscription = new Subscription();\n      this.couponBoxIsActive = false;\n    }\n    ngOnInit() {\n      if (this.customerCouponService) {\n        this.customerCouponService.loadCustomerCoupons(this.MAX_CUSTOMER_COUPON_PAGE);\n      }\n      this.cart$ = combineLatest([this.activeCartService.getActive(), this.activeCartService.getActiveCartId(), this.customerCouponService.getCustomerCoupons(this.MAX_CUSTOMER_COUPON_PAGE)]).pipe(tap(([cart, activeCardId, customerCoupons]) => {\n        this.cartId = activeCardId;\n        this.getApplicableCustomerCoupons(cart, customerCoupons.coupons);\n      }), map(([cart]) => cart));\n      this.cartIsLoading$ = this.activeCartService.isStable().pipe(map(loaded => !loaded));\n      this.cartVoucherService.resetAddVoucherProcessingState();\n      this.couponForm = this.formBuilder.group({\n        couponCode: ['', [Validators.required]]\n      });\n      // TODO(#7241): Replace process subscriptions with event listeners and drop process for ADD_VOUCHER\n      this.subscription.add(this.cartVoucherService.getAddVoucherResultSuccess().subscribe(success => {\n        this.onSuccess(success);\n      }));\n      // TODO(#7241): Replace process subscriptions with event listeners and drop process for ADD_VOUCHER\n      this.subscription.add(this.cartVoucherService.getAddVoucherResultError().subscribe(error => {\n        this.onError(error);\n      }));\n    }\n    onError(error) {\n      if (error) {\n        this.customerCouponService.loadCustomerCoupons(this.MAX_CUSTOMER_COUPON_PAGE);\n        this.cartVoucherService.resetAddVoucherProcessingState();\n      }\n    }\n    onSuccess(success) {\n      if (success) {\n        this.couponForm.reset();\n        this.cartVoucherService.resetAddVoucherProcessingState();\n      }\n    }\n    getApplicableCustomerCoupons(cart, coupons) {\n      this.applicableCoupons = coupons || [];\n      if (cart.appliedVouchers) {\n        cart.appliedVouchers.forEach(appliedVoucher => {\n          this.applicableCoupons = this.applicableCoupons.filter(coupon => coupon.couponId !== appliedVoucher.code);\n        });\n      }\n    }\n    applyVoucher() {\n      if (this.couponForm.valid) {\n        this.cartVoucherService.addVoucher(this.couponForm.value.couponCode, this.cartId);\n      } else {\n        this.couponForm.markAllAsTouched();\n      }\n    }\n    applyCustomerCoupon(couponId) {\n      this.cartVoucherService.addVoucher(couponId, this.cartId);\n      this.couponBoxIsActive = false;\n    }\n    close(event) {\n      if (!this.ignoreCloseEvent) {\n        this.couponBoxIsActive = false;\n        if (event && event.target) {\n          event.target.blur();\n        }\n      }\n      this.ignoreCloseEvent = false;\n    }\n    disableClose() {\n      this.ignoreCloseEvent = true;\n    }\n    ngOnDestroy() {\n      if (this.subscription) {\n        this.subscription.unsubscribe();\n      }\n      this.cartVoucherService.resetAddVoucherProcessingState();\n    }\n  }\n  CartCouponComponent.ɵfac = function CartCouponComponent_Factory(t) {\n    return new (t || CartCouponComponent)(i0.ɵɵdirectiveInject(i1.CartVoucherService), i0.ɵɵdirectiveInject(i3$1.FormBuilder), i0.ɵɵdirectiveInject(i1.CustomerCouponService), i0.ɵɵdirectiveInject(i1.ActiveCartService));\n  };\n  CartCouponComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CartCouponComponent,\n    selectors: [[\"cx-cart-coupon\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [1, \"cx-cart-coupon-title\"], [1, \"form-group\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"cx-cart-coupon-container\"], [\"aria-required\", \"true\", \"type\", \"text\", \"formControlName\", \"couponCode\", 1, \"form-control\", \"input-coupon-code\", 3, \"placeholder\"], [\"type\", \"submit\", 1, \"btn\", \"btn-block\", \"btn-action\", \"apply-coupon-button\", 3, \"disabled\"], [\"aria-live\", \"assertive\", \"aria-atomic\", \"true\", 3, \"control\"], [3, \"vouchers\", \"cartIsLoading\", \"isReadOnly\"], [1, \"cx-available-coupon\"], [1, \"title\", \"cx-cart-coupon-title\"], [1, \"message\"], [1, \"scroll\"], [\"class\", \"coupons card\", 4, \"ngFor\", \"ngForOf\"], [1, \"coupons\", \"card\"], [1, \"coupon-id\", \"link\", 3, \"disabled\", \"click\"]],\n    template: function CartCouponComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CartCouponComponent_ng_container_0_Template, 18, 24, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.cart$));\n      }\n    },\n    directives: [i3.NgIf, i3$1.ɵNgNoValidate, i3$1.NgControlStatusGroup, i3$1.FormGroupDirective, i3$1.DefaultValueAccessor, i3$1.NgControlStatus, i3$1.FormControlName, FormErrorsComponent, AppliedCouponsComponent, i3.NgForOf],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return CartCouponComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CartCouponModule = /*#__PURE__*/(() => {\n  class CartCouponModule {}\n  CartCouponModule.ɵfac = function CartCouponModule_Factory(t) {\n    return new (t || CartCouponModule)();\n  };\n  CartCouponModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: CartCouponModule\n  });\n  CartCouponModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        CartApplyCouponComponent: {\n          component: CartCouponComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, NgSelectModule, FormsModule, ReactiveFormsModule, I18nModule, IconModule, FormErrorsModule]]\n  });\n  return CartCouponModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CartItemListComponent = /*#__PURE__*/(() => {\n  class CartItemListComponent {\n    constructor(activeCartService, selectiveCartService, userIdService, multiCartService) {\n      this.activeCartService = activeCartService;\n      this.selectiveCartService = selectiveCartService;\n      this.userIdService = userIdService;\n      this.multiCartService = multiCartService;\n      this.subscription = new Subscription();\n      this.readonly = false;\n      this.hasHeader = true;\n      this.options = {\n        isSaveForLater: false,\n        optionalBtn: null\n      };\n      this._items = [];\n      this.form = new FormGroup({});\n      this.promotionLocation = PromotionLocation.ActiveCart;\n    }\n    set items(items) {\n      this.resolveItems(items);\n      this.createForm();\n    }\n    get items() {\n      return this._items;\n    }\n    set setLoading(value) {\n      if (!this.readonly) {\n        // Whenever the cart is loading, we disable the complete form\n        // to avoid any user interaction with the cart.\n        value ? this.form.disable({\n          emitEvent: false\n        }) : this.form.enable({\n          emitEvent: false\n        });\n      }\n    }\n    ngOnInit() {\n      var _a;\n      this.subscription.add((_a = this.userIdService) === null || _a === void 0 ? void 0 : _a.getUserId().subscribe(userId => this.userId = userId));\n    }\n    /**\n     * Resolves items passed to component input and updates 'items' field\n     */\n    resolveItems(items) {\n      var _a;\n      if (!items) {\n        this._items = [];\n        return;\n      }\n      // The items we're getting from the input do not have a consistent model.\n      // In case of a `consignmentEntry`, we need to normalize the data from the orderEntry.\n      if (items.every(item => item.hasOwnProperty('orderEntry'))) {\n        this._items = items.map(consignmentEntry => {\n          const entry = Object.assign({}, consignmentEntry.orderEntry);\n          entry.quantity = consignmentEntry.quantity;\n          return entry;\n        });\n      } else {\n        // We'd like to avoid the unnecessary re-renders of unchanged cart items after the data reload.\n        // OCC cart entries don't have any unique identifier that we could use in Angular `trackBy`.\n        // So we update each array element to the new object only when it's any different to the previous one.\n        for (let i = 0; i < Math.max(items.length, this._items.length); i++) {\n          if (JSON.stringify((_a = this._items) === null || _a === void 0 ? void 0 : _a[i]) !== JSON.stringify(items[i])) {\n            if (this._items[i] && this.form) {\n              this.form.removeControl(this.getControlName(this._items[i]));\n            }\n            if (!items[i]) {\n              this._items.splice(i, 1);\n            } else {\n              this._items[i] = items[i];\n            }\n          }\n        }\n      }\n    }\n    /**\n     * Creates form models for list items\n     */\n    createForm() {\n      this._items.forEach(item => {\n        const controlName = this.getControlName(item);\n        const group = new FormGroup({\n          entryNumber: new FormControl(item.entryNumber),\n          quantity: new FormControl(item.quantity, {\n            updateOn: 'blur'\n          })\n        });\n        this.form.addControl(controlName, group);\n        // If we disable form group before adding, disabled status will reset\n        // Which forces us to disable control after including to form object\n        if (!item.updateable || this.readonly) {\n          this.form.controls[controlName].disable();\n        }\n      });\n    }\n    getControlName(item) {\n      return item.entryNumber.toString();\n    }\n    removeEntry(item) {\n      var _a;\n      if (this.selectiveCartService && this.options.isSaveForLater) {\n        this.selectiveCartService.removeEntry(item);\n      } else if (this.cartId && this.userId) {\n        (_a = this.multiCartService) === null || _a === void 0 ? void 0 : _a.removeEntry(this.userId, this.cartId, item.entryNumber);\n      } else {\n        this.activeCartService.removeEntry(item);\n      }\n      delete this.form.controls[this.getControlName(item)];\n    }\n    getControl(item) {\n      return this.form.get(this.getControlName(item)).valueChanges.pipe(\n      // eslint-disable-next-line import/no-deprecated\n      startWith(null), tap(value => {\n        var _a;\n        if (item.updateable && value && !this.readonly) {\n          if (this.selectiveCartService && this.options.isSaveForLater) {\n            this.selectiveCartService.updateEntry(value.entryNumber, value.quantity);\n          } else if (this.cartId && this.userId) {\n            (_a = this.multiCartService) === null || _a === void 0 ? void 0 : _a.updateEntry(this.userId, this.cartId, value.entryNumber, value.quantity);\n          } else {\n            this.activeCartService.updateEntry(value.entryNumber, value.quantity);\n          }\n        }\n      }), map(() => this.form.get(this.getControlName(item))));\n    }\n    ngOnDestroy() {\n      var _a;\n      (_a = this.subscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n    }\n  }\n  CartItemListComponent.ɵfac = function CartItemListComponent_Factory(t) {\n    return new (t || CartItemListComponent)(i0.ɵɵdirectiveInject(i1.ActiveCartService), i0.ɵɵdirectiveInject(i1.SelectiveCartService), i0.ɵɵdirectiveInject(i1.UserIdService), i0.ɵɵdirectiveInject(i1.MultiCartService));\n  };\n  CartItemListComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CartItemListComponent,\n    selectors: [[\"cx-cart-item-list\"]],\n    inputs: {\n      readonly: \"readonly\",\n      hasHeader: \"hasHeader\",\n      options: \"options\",\n      cartId: \"cartId\",\n      items: \"items\",\n      promotionLocation: \"promotionLocation\",\n      setLoading: [\"cartIsLoading\", \"setLoading\"]\n    },\n    decls: 4,\n    vars: 2,\n    consts: [[\"class\", \"d-none d-md-block d-lg-block d-xl-block\", 4, \"ngIf\"], [\"class\", \"cx-item-list-row\", 4, \"ngFor\", \"ngForOf\"], [\"totalHeader\", \"\"], [1, \"d-none\", \"d-md-block\", \"d-lg-block\", \"d-xl-block\"], [1, \"cx-item-list-header\", \"row\"], [1, \"cx-item-list-desc\", \"col-md-5\", \"col-lg-5\", \"col-xl-6\"], [1, \"cx-item-list-price\", \"col-md-3\", \"col-lg-2\", \"col-xl-2\"], [1, \"cx-item-list-qty\", \"col-md-2\", \"col-lg-3\", \"col-xl-2\"], [4, \"ngIf\", \"ngIfElse\"], [1, \"cx-item-list-total\", \"col-md-2\", \"col-lg-2\", \"col-xl-2\"], [1, \"cx-item-list-row\"], [\"class\", \"cx-item-list-items\", 3, \"is-changed\", 4, \"ngIf\"], [1, \"cx-item-list-items\"], [3, \"item\", \"quantityControl\", \"readonly\", \"promotionLocation\", \"options\"]],\n    template: function CartItemListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CartItemListComponent_div_0_Template, 12, 11, \"div\", 0);\n        i0.ɵɵtemplate(1, CartItemListComponent_div_1_Template, 3, 3, \"div\", 1);\n        i0.ɵɵtemplate(2, CartItemListComponent_ng_template_2_Template, 3, 3, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.hasHeader);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.items);\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, CartItemComponent],\n    pipes: [i1.TranslatePipe, i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return CartItemListComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet OrderSummaryComponent = /*#__PURE__*/(() => {\n  class OrderSummaryComponent {}\n  OrderSummaryComponent.ɵfac = function OrderSummaryComponent_Factory(t) {\n    return new (t || OrderSummaryComponent)();\n  };\n  OrderSummaryComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: OrderSummaryComponent,\n    selectors: [[\"cx-order-summary\"]],\n    inputs: {\n      cart: \"cart\"\n    },\n    decls: 5,\n    vars: 5,\n    consts: [[\"class\", \"cx-summary-partials\", 4, \"ngIf\"], [4, \"cxFeatureLevel\"], [1, \"cx-summary-partials\"], [1, \"cx-summary-row\"], [1, \"col-6\", \"cx-summary-label\"], [1, \"col-6\", \"cx-summary-amount\"], [\"class\", \"cx-summary-row\", 4, \"ngIf\", \"ngIfElse\"], [1, \"cx-summary-row\", \"cx-summary-total\"], [\"class\", \"cx-summary-row\", 4, \"ngIf\"], [\"cartWithoutNet\", \"\"], [3, \"vouchers\", \"isReadOnly\"]],\n    template: function OrderSummaryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h3\");\n        i0.ɵɵtext(1);\n        i0.ɵɵpipe(2, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, OrderSummaryComponent_div_3_Template, 24, 17, \"div\", 0);\n        i0.ɵɵtemplate(4, OrderSummaryComponent_ng_container_4_Template, 2, 2, \"ng-container\", 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 3, \"orderCost.orderSummary\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.cart);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"cxFeatureLevel\", \"1.3\");\n      }\n    },\n    directives: [i3.NgIf, i1.FeatureLevelDirective, AppliedCouponsComponent],\n    pipes: [i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return OrderSummaryComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CartItemValidationWarningModule = /*#__PURE__*/(() => {\n  class CartItemValidationWarningModule {}\n  CartItemValidationWarningModule.ɵfac = function CartItemValidationWarningModule_Factory(t) {\n    return new (t || CartItemValidationWarningModule)();\n  };\n  CartItemValidationWarningModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: CartItemValidationWarningModule\n  });\n  CartItemValidationWarningModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, RouterModule, I18nModule, UrlModule, IconModule]]\n  });\n  return CartItemValidationWarningModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CartSharedModule = /*#__PURE__*/(() => {\n  class CartSharedModule {}\n  CartSharedModule.ɵfac = function CartSharedModule_Factory(t) {\n    return new (t || CartSharedModule)();\n  };\n  CartSharedModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: CartSharedModule\n  });\n  CartSharedModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, RouterModule, CartCouponModule, ReactiveFormsModule, UrlModule, NgbModule, PromotionsModule, I18nModule, IconModule, MediaModule, ItemCounterModule, FeaturesConfigModule, ModalModule, OutletModule, CartItemValidationWarningModule]]\n  });\n  return CartSharedModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AddToCartModule = /*#__PURE__*/(() => {\n  class AddToCartModule {}\n  AddToCartModule.ɵfac = function AddToCartModule_Factory(t) {\n    return new (t || AddToCartModule)();\n  };\n  AddToCartModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: AddToCartModule\n  });\n  AddToCartModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        ProductAddToCartComponent: {\n          component: AddToCartComponent,\n          data: {\n            inventoryDisplay: false\n          }\n        }\n      }\n    })],\n    imports: [[CommonModule, ReactiveFormsModule, CartSharedModule, RouterModule, SpinnerModule, PromotionsModule, FeaturesConfigModule, UrlModule, IconModule, I18nModule, ItemCounterModule, KeyboardFocusModule, ModalModule]]\n  });\n  return AddToCartModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AddToWishListComponent = /*#__PURE__*/(() => {\n  class AddToWishListComponent {\n    constructor(wishListService, currentProductService, authService) {\n      this.wishListService = wishListService;\n      this.currentProductService = currentProductService;\n      this.authService = authService;\n      this.product$ = this.currentProductService.getProduct().pipe(filter(isNotNullable), tap(product => this.setStockInfo(product)));\n      this.wishListEntries$ = this.wishListService.getWishList().pipe(filter(wishlist => Boolean(wishlist)), map(wishList => wishList.entries));\n      this.userLoggedIn$ = this.authService.isUserLoggedIn();\n      this.loading$ = this.wishListService.getWishListLoading();\n      this.hasStock = false;\n      this.iconTypes = ICON_TYPE;\n    }\n    add(product) {\n      this.wishListService.addEntry(product.code);\n    }\n    remove(entry) {\n      this.wishListService.removeEntry(entry);\n    }\n    getProductInWishList(product, entries) {\n      const item = entries.find(entry => entry.product.code === product.code);\n      return item;\n    }\n    setStockInfo(product) {\n      this.hasStock = Boolean(product.stock && product.stock.stockLevelStatus !== 'outOfStock');\n    }\n  }\n  AddToWishListComponent.ɵfac = function AddToWishListComponent_Factory(t) {\n    return new (t || AddToWishListComponent)(i0.ɵɵdirectiveInject(i1.WishListService), i0.ɵɵdirectiveInject(CurrentProductService), i0.ɵɵdirectiveInject(i1.AuthService));\n  };\n  AddToWishListComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: AddToWishListComponent,\n    selectors: [[\"cx-add-to-wishlist\"]],\n    decls: 4,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [\"loginPrompt\", \"\"], [4, \"ngIf\", \"ngIfElse\"], [\"addItem\", \"\"], [1, \"btn\", \"btn-link\", \"button-remove\", \"cx-action-link\", 3, \"disabled\", \"click\"], [3, \"type\"], [1, \"button-text\"], [1, \"btn\", \"btn-link\", \"button-add\", \"cx-action-link\", 3, \"disabled\", \"click\"], [1, \"btn\", \"btn-link\", \"button-add-link\", \"cx-action-link\", 3, \"routerLink\"]],\n    template: function AddToWishListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, AddToWishListComponent_ng_container_0_Template, 3, 4, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵtemplate(2, AddToWishListComponent_ng_template_2_Template, 1, 1, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.product$));\n      }\n    },\n    directives: [i3.NgIf, IconComponent, i1$1.RouterLinkWithHref],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe, i1.UrlPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return AddToWishListComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AddToWishListModule = /*#__PURE__*/(() => {\n  class AddToWishListModule {}\n  AddToWishListModule.ɵfac = function AddToWishListModule_Factory(t) {\n    return new (t || AddToWishListModule)();\n  };\n  AddToWishListModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: AddToWishListModule\n  });\n  AddToWishListModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        AddToWishListComponent: {\n          component: AddToWishListComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, I18nModule, IconModule, RouterModule, UrlModule]]\n  });\n  return AddToWishListModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CartValidationWarningsComponent = /*#__PURE__*/(() => {\n  class CartValidationWarningsComponent {\n    constructor(cartValidationStateService) {\n      this.cartValidationStateService = cartValidationStateService;\n      this.iconTypes = ICON_TYPE;\n      this.visibleWarnings = {};\n      this.cartModifications$ = this.cartValidationStateService.cartValidationResult$.pipe(map(modificationList => {\n        const result = modificationList.filter(modification => modification.statusCode === CartValidationStatusCode.NO_STOCK);\n        result.forEach(modification => {\n          var _a, _b;\n          if ((_b = (_a = modification.entry) === null || _a === void 0 ? void 0 : _a.product) === null || _b === void 0 ? void 0 : _b.code) {\n            this.visibleWarnings[modification.entry.product.code] = true;\n          }\n        });\n        return result;\n      }));\n    }\n    removeMessage(cartModification) {\n      var _a, _b;\n      if ((_b = (_a = cartModification.entry) === null || _a === void 0 ? void 0 : _a.product) === null || _b === void 0 ? void 0 : _b.code) {\n        this.visibleWarnings[cartModification.entry.product.code] = false;\n      }\n    }\n  }\n  CartValidationWarningsComponent.ɵfac = function CartValidationWarningsComponent_Factory(t) {\n    return new (t || CartValidationWarningsComponent)(i0.ɵɵdirectiveInject(CartValidationStateService));\n  };\n  CartValidationWarningsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CartValidationWarningsComponent,\n    selectors: [[\"cx-cart-validation-warnings\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngFor\", \"ngForOf\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"], [1, \"alert-icon\"], [3, \"type\"], [3, \"routerLink\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"]],\n    template: function CartValidationWarningsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CartValidationWarningsComponent_ng_container_0_Template, 2, 1, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(1, 1, ctx.cartModifications$));\n      }\n    },\n    directives: [i3.NgForOf, i3.NgIf, IconComponent, i1$1.RouterLinkWithHref],\n    pipes: [i3.AsyncPipe, i1.UrlPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return CartValidationWarningsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CartDetailsComponent = /*#__PURE__*/(() => {\n  class CartDetailsComponent {\n    constructor(activeCartService, selectiveCartService, authService, routingService) {\n      this.activeCartService = activeCartService;\n      this.selectiveCartService = selectiveCartService;\n      this.authService = authService;\n      this.routingService = routingService;\n      this.loggedIn = false;\n      this.promotionLocation = PromotionLocation.ActiveCart;\n    }\n    ngOnInit() {\n      this.cart$ = this.activeCartService.getActive();\n      this.entries$ = this.activeCartService.getEntries().pipe(filter(entries => entries.length > 0));\n      this.selectiveCartEnabled = this.selectiveCartService.isEnabled();\n      this.cartLoaded$ = combineLatest([this.activeCartService.isStable(), this.selectiveCartEnabled ? this.selectiveCartService.isStable() : of(false), this.authService.isUserLoggedIn()]).pipe(tap(([,, loggedIn]) => this.loggedIn = loggedIn), map(([cartLoaded, sflLoaded, loggedIn]) => loggedIn && this.selectiveCartEnabled ? cartLoaded && sflLoaded : cartLoaded));\n    }\n    saveForLater(item) {\n      if (this.loggedIn) {\n        this.activeCartService.removeEntry(item);\n        this.selectiveCartService.addEntry(item.product.code, item.quantity);\n      } else {\n        this.routingService.go({\n          cxRoute: 'login'\n        });\n      }\n    }\n  }\n  CartDetailsComponent.ɵfac = function CartDetailsComponent_Factory(t) {\n    return new (t || CartDetailsComponent)(i0.ɵɵdirectiveInject(i1.ActiveCartService), i0.ɵɵdirectiveInject(i1.SelectiveCartService), i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i1.RoutingService));\n  };\n  CartDetailsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CartDetailsComponent,\n    selectors: [[\"cx-cart-details\"]],\n    decls: 4,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [\"saveForLaterBtn\", \"\"], [\"class\", \"cart-details-wrapper\", 4, \"ngIf\"], [1, \"cart-details-wrapper\"], [4, \"cxFeatureLevel\"], [1, \"cx-total\"], [3, \"promotions\"], [3, \"items\", \"cartIsLoading\", \"promotionLocation\", \"options\"], [\"class\", \"col-md-3 col-lg-3 col-xl-3 cx-sfl-btn\", 4, \"ngIf\"], [1, \"col-md-3\", \"col-lg-3\", \"col-xl-3\", \"cx-sfl-btn\"], [\"type\", \"button\", 1, \"link\", \"cx-action-link\", 3, \"disabled\", \"click\"]],\n    template: function CartDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CartDetailsComponent_ng_container_0_Template, 3, 3, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵtemplate(2, CartDetailsComponent_ng_template_2_Template, 1, 1, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.cart$));\n      }\n    },\n    directives: [i3.NgIf, i1.FeatureLevelDirective, PromotionsComponent, CartItemListComponent, CartValidationWarningsComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return CartDetailsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CartValidationWarningsModule = /*#__PURE__*/(() => {\n  class CartValidationWarningsModule {}\n  CartValidationWarningsModule.ɵfac = function CartValidationWarningsModule_Factory(t) {\n    return new (t || CartValidationWarningsModule)();\n  };\n  CartValidationWarningsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: CartValidationWarningsModule\n  });\n  CartValidationWarningsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, RouterModule, I18nModule, UrlModule, IconModule]]\n  });\n  return CartValidationWarningsModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CartDetailsModule = /*#__PURE__*/(() => {\n  class CartDetailsModule {}\n  CartDetailsModule.ɵfac = function CartDetailsModule_Factory(t) {\n    return new (t || CartDetailsModule)();\n  };\n  CartDetailsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: CartDetailsModule\n  });\n  CartDetailsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        CartComponent: {\n          component: CartDetailsComponent\n        }\n      }\n    })],\n    imports: [[CartSharedModule, CommonModule, CartCouponModule, RouterModule, UrlModule, PromotionsModule, FeaturesConfigModule, I18nModule, CartValidationWarningsModule]]\n  });\n  return CartDetailsModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CartPageLayoutHandler = /*#__PURE__*/(() => {\n  class CartPageLayoutHandler {\n    constructor(activeCartService, selectiveCartService) {\n      this.activeCartService = activeCartService;\n      this.selectiveCartService = selectiveCartService;\n    }\n    handle(slots$, pageTemplate, section) {\n      if (pageTemplate === 'CartPageTemplate' && !section) {\n        return combineLatest([slots$, this.activeCartService.getActive(), this.selectiveCartService.isEnabled() ? this.selectiveCartService.getCart() : of({}), this.activeCartService.getLoading()]).pipe(map(([slots, cart, selectiveCart, loadingCart]) => {\n          const exclude = (arr, args) => arr.filter(item => args.every(arg => arg !== item));\n          return Object.keys(cart).length === 0 && loadingCart ? exclude(slots, ['TopContent', 'CenterRightContentSlot', 'EmptyCartMiddleContent']) : cart.totalItems ? exclude(slots, ['EmptyCartMiddleContent']) : selectiveCart.totalItems ? exclude(slots, ['EmptyCartMiddleContent', 'CenterRightContentSlot']) : exclude(slots, ['TopContent', 'CenterRightContentSlot']);\n        }));\n      }\n      return slots$;\n    }\n  }\n  CartPageLayoutHandler.ɵfac = function CartPageLayoutHandler_Factory(t) {\n    return new (t || CartPageLayoutHandler)(i0.ɵɵinject(i1.ActiveCartService), i0.ɵɵinject(i1.SelectiveCartService));\n  };\n  CartPageLayoutHandler.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: CartPageLayoutHandler,\n    factory: CartPageLayoutHandler.ɵfac,\n    providedIn: 'root'\n  });\n  return CartPageLayoutHandler;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nvar ProductImportStatus = /*#__PURE__*/(() => {\n  (function (ProductImportStatus) {\n    ProductImportStatus[\"SUCCESS\"] = \"success\";\n    ProductImportStatus[\"LOW_STOCK\"] = \"lowStock\";\n    ProductImportStatus[\"NO_STOCK\"] = \"noStock\";\n    ProductImportStatus[\"UNKNOWN_IDENTIFIER\"] = \"unknownIdentifier\";\n    ProductImportStatus[\"UNKNOWN_ERROR\"] = \"unknownError\";\n    ProductImportStatus[\"LIMIT_EXCEEDED\"] = \"limitExceeded\";\n  })(ProductImportStatus || (ProductImportStatus = {}));\n  return ProductImportStatus;\n})();\n/**\n * An abstract class for contexts based on cart (active cart, saved cart) which share part of logic - mainly handle cart actions and map results.\n */\nclass CartOrderEntriesContext {\n  constructor(actionsSubject) {\n    this.actionsSubject = actionsSubject;\n  }\n  addEntries(products) {\n    return this.add(products).pipe(switchMap(cartId => this.getResults(cartId)), take(products.length));\n  }\n  /**\n   * Get emission of add entry results from actions subject\n   *\n   * @param {string} cartId\n   * @returns {Observable<ProductImportInfo>}\n   */\n  getResults(cartId) {\n    return this.actionsSubject.pipe(ofType(CartActions.CART_ADD_ENTRY_SUCCESS, CartActions.CART_ADD_ENTRY_FAIL), filter(action => action.payload.cartId === cartId), map(action => this.mapMessages(action)));\n  }\n  /**\n   * Map actions to summary messages\n   *\n   * @param {CartActions.CartAddEntrySuccess | CartActions.CartAddEntryFail} action\n   * @returns ProductImportInfo\n   */\n  mapMessages(action) {\n    var _a, _b, _c;\n    const {\n      productCode\n    } = action.payload;\n    if (action instanceof CartActions.CartAddEntrySuccess) {\n      const {\n        quantity,\n        quantityAdded,\n        entry,\n        statusCode\n      } = action.payload;\n      if (statusCode === ProductImportStatus.LOW_STOCK) {\n        return {\n          productCode,\n          statusCode,\n          productName: (_a = entry === null || entry === void 0 ? void 0 : entry.product) === null || _a === void 0 ? void 0 : _a.name,\n          quantity,\n          quantityAdded\n        };\n      }\n      if (statusCode === ProductImportStatus.SUCCESS || statusCode === ProductImportStatus.NO_STOCK) {\n        return {\n          productCode,\n          statusCode,\n          productName: (_b = entry === null || entry === void 0 ? void 0 : entry.product) === null || _b === void 0 ? void 0 : _b.name\n        };\n      }\n    } else if (action instanceof CartActions.CartAddEntryFail) {\n      const {\n        error\n      } = action.payload;\n      if (((_c = error === null || error === void 0 ? void 0 : error.details[0]) === null || _c === void 0 ? void 0 : _c.type) === 'UnknownIdentifierError') {\n        return {\n          productCode,\n          statusCode: ProductImportStatus.UNKNOWN_IDENTIFIER\n        };\n      }\n    }\n    if (isDevMode()) {\n      console.warn('Unrecognized cart add entry action type while mapping messages', action);\n    }\n    return {\n      productCode,\n      statusCode: ProductImportStatus.UNKNOWN_ERROR\n    };\n  }\n}\nvar OrderEntriesSource = /*#__PURE__*/(() => {\n  (function (OrderEntriesSource) {\n    OrderEntriesSource[\"ACTIVE_CART\"] = \"ACTIVE_CART\";\n    OrderEntriesSource[\"NEW_SAVED_CART\"] = \"NEW_SAVED_CART\";\n    OrderEntriesSource[\"QUICK_ORDER\"] = \"QUICK_ORDER\";\n    OrderEntriesSource[\"SAVED_CART\"] = \"SAVED_CART\";\n    OrderEntriesSource[\"ORDER_CONFIRMATION\"] = \"ORDER_CONFIRMATION\";\n    OrderEntriesSource[\"ORDER_DETAILS\"] = \"ORDER_DETAILS\";\n  })(OrderEntriesSource || (OrderEntriesSource = {}));\n  return OrderEntriesSource;\n})();\nlet ActiveCartOrderEntriesContext = /*#__PURE__*/(() => {\n  class ActiveCartOrderEntriesContext extends CartOrderEntriesContext {\n    constructor(actionsSubject, activeCartService) {\n      super(actionsSubject);\n      this.actionsSubject = actionsSubject;\n      this.activeCartService = activeCartService;\n      this.type = OrderEntriesSource.ACTIVE_CART;\n    }\n    getEntries() {\n      return this.activeCartService.getEntries();\n    }\n    add(products) {\n      this.activeCartService.addEntries(this.mapProductsToOrderEntries(products));\n      return this.activeCartService.getActiveCartId();\n    }\n    mapProductsToOrderEntries(products) {\n      return products.map(product => ({\n        product: {\n          code: product.productCode\n        },\n        quantity: product.quantity\n      }));\n    }\n  }\n  ActiveCartOrderEntriesContext.ɵfac = function ActiveCartOrderEntriesContext_Factory(t) {\n    return new (t || ActiveCartOrderEntriesContext)(i0.ɵɵinject(i1$5.ActionsSubject), i0.ɵɵinject(i1.ActiveCartService));\n  };\n  ActiveCartOrderEntriesContext.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ActiveCartOrderEntriesContext,\n    factory: ActiveCartOrderEntriesContext.ɵfac,\n    providedIn: 'root'\n  });\n  return ActiveCartOrderEntriesContext;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CartTotalsComponent = /*#__PURE__*/(() => {\n  class CartTotalsComponent {\n    constructor(activeCartService, router) {\n      this.activeCartService = activeCartService;\n      this.router = router;\n      this.cartValidationInProgress = false;\n      this.subscription = new Subscription();\n    }\n    ngOnInit() {\n      var _a;\n      this.cart$ = this.activeCartService.getActive();\n      this.entries$ = this.activeCartService.getEntries().pipe(filter(entries => entries.length > 0));\n      this.subscription.add((_a = this.router) === null || _a === void 0 ? void 0 : _a.events.subscribe(event => {\n        if (event instanceof NavigationEnd || event instanceof NavigationCancel) {\n          this.cartValidationInProgress = false;\n        }\n      }));\n    }\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n    }\n    disableButtonWhileNavigation() {\n      this.cartValidationInProgress = true;\n    }\n  }\n  CartTotalsComponent.ɵfac = function CartTotalsComponent_Factory(t) {\n    return new (t || CartTotalsComponent)(i0.ɵɵdirectiveInject(i1.ActiveCartService), i0.ɵɵdirectiveInject(i1$1.Router));\n  };\n  CartTotalsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CartTotalsComponent,\n    selectors: [[\"cx-cart-totals\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [3, \"cart\"], [4, \"cxFeatureLevel\"], [\"class\", \"btn btn-primary btn-block\", \"type\", \"button\", 3, \"routerLink\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-block\", 3, \"routerLink\"], [3, \"routerLink\", \"loading\", \"disabled\", \"class\", \"clikEvent\", 4, \"ngIf\"], [3, \"routerLink\", \"loading\", \"disabled\", \"clikEvent\"]],\n    template: function CartTotalsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CartTotalsComponent_ng_container_0_Template, 3, 3, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.cart$));\n      }\n    },\n    directives: [i3.NgIf, OrderSummaryComponent, i1.FeatureLevelDirective, i1$1.RouterLink, ProgressButtonComponent],\n    pipes: [i3.AsyncPipe, i1.UrlPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return CartTotalsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CartTotalsModule = /*#__PURE__*/(() => {\n  class CartTotalsModule {}\n  CartTotalsModule.ɵfac = function CartTotalsModule_Factory(t) {\n    return new (t || CartTotalsModule)();\n  };\n  CartTotalsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: CartTotalsModule\n  });\n  CartTotalsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        CartTotalsComponent: {\n          component: CartTotalsComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule, UrlModule, CartSharedModule, I18nModule, CartCouponModule, FeaturesConfigModule, ProgressButtonModule]]\n  });\n  return CartTotalsModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst PAGE_LAYOUT_HANDLER = new InjectionToken('PageLayoutHandler');\nlet PageLayoutService = /*#__PURE__*/(() => {\n  class PageLayoutService {\n    constructor(cms, config, breakpointService, handlers) {\n      this.cms = cms;\n      this.config = config;\n      this.breakpointService = breakpointService;\n      this.handlers = handlers;\n      // Prints warn messages for missing layout configs.\n      // The warnings are only printed once per config\n      // to not pollute the console log.\n      this.warnLogMessages = {};\n      this.logSlots = {};\n    }\n    getSlots(section) {\n      return combineLatest([this.page$, this.breakpointService.breakpoint$]).pipe(map(([page, breakpoint]) => {\n        const pageTemplate = page.template;\n        const slots = this.resolveSlots(page, section, breakpoint);\n        return {\n          slots,\n          pageTemplate,\n          breakpoint\n        };\n      }), switchMap(({\n        slots,\n        pageTemplate,\n        breakpoint\n      }) => {\n        let result = of(slots);\n        for (const handler of this.handlers || []) {\n          result = handler.handle(result, pageTemplate, section, breakpoint);\n        }\n        return result;\n      }), distinctUntilChanged((a, b) => {\n        if (a.length !== b.length) {\n          return false;\n        }\n        for (let i = 0; i < a.length; i++) {\n          if (a[i] !== b[i]) {\n            return false;\n          }\n        }\n        return true;\n      }));\n    }\n    /**\n     * Returns an observable with the last page slot above-the-fold\n     * for the given pageTemplate / breakpoint.\n     *\n     * The page fold is configurable in the `LayoutConfig` for each page layout.\n     */\n    getPageFoldSlot(pageTemplate) {\n      return this.breakpointService.breakpoint$.pipe(map(breakpoint => {\n        if (!this.config.layoutSlots) {\n          // no layout config available\n          return null;\n        }\n        const pageTemplateConfig = this.config.layoutSlots[pageTemplate];\n        const config = this.getResponsiveSlotConfig(pageTemplateConfig, 'pageFold', breakpoint);\n        return config ? config.pageFold : null;\n      }));\n    }\n    resolveSlots(page, section, breakpoint) {\n      const config = this.getSlotConfig(page.template, 'slots', section, breakpoint);\n      if (config && config.slots) {\n        const pageSlots = Object.keys(page.slots);\n        return config.slots.filter(slot => pageSlots.includes(slot));\n      } else if (!section) {\n        this.logMissingLayoutConfig(page);\n        return Object.keys(page.slots);\n      } else {\n        this.logMissingLayoutConfig(page, section);\n        return [];\n      }\n    }\n    get page$() {\n      return this.cms.getCurrentPage().pipe(filter(page => !!page));\n    }\n    get templateName$() {\n      return this.page$.pipe(filter(page => !!page.template), map(page => page.template));\n    }\n    /**\n     * load slots from the layout configuration. The breakpoint is used\n     * to load a specific configuration for the given breakpoint. If there's\n     * no configuration available for the given breakpoint the default slot\n     * configuration is returned.\n     */\n    getSlotConfig(templateUid, configAttribute, section, breakpoint) {\n      if (!this.config.layoutSlots) {\n        return null;\n      }\n      const pageTemplateConfig = this.config.layoutSlots[templateUid];\n      if (section) {\n        return this.getSlotConfigForSection(templateUid, configAttribute, section, breakpoint);\n      }\n      if (pageTemplateConfig) {\n        return this.getResponsiveSlotConfig(pageTemplateConfig, configAttribute, breakpoint);\n      }\n    }\n    getSlotConfigForSection(templateUid, configAttribute, section, breakpoint) {\n      const pageTemplateConfig = this.config.layoutSlots[templateUid];\n      if (!pageTemplateConfig) {\n        return null;\n      }\n      // if there's no section config on the page layout\n      // we fall back to the global section config\n      const sectionConfig = pageTemplateConfig[section] ? pageTemplateConfig[section] : this.config.layoutSlots[section];\n      if (!sectionConfig) {\n        return null;\n      }\n      const responsiveConfig = this.getResponsiveSlotConfig(sectionConfig, configAttribute, breakpoint);\n      if (responsiveConfig.hasOwnProperty(configAttribute)) {\n        return responsiveConfig;\n      } else if (pageTemplateConfig[section].hasOwnProperty(configAttribute)) {\n        return pageTemplateConfig[section];\n      } else if (this.config.layoutSlots[section]) {\n        return this.config.layoutSlots[section];\n      }\n    }\n    /**\n     * Returns a list of slots for a breakpoint specific configuration\n     * If there's no specific configuration for the breakpoint,\n     * the closest available configuration will be returned.\n     */\n    getResponsiveSlotConfig(layoutSlotConfig, configAttribute, breakpoint) {\n      let slotConfig = layoutSlotConfig;\n      // fallback to default slot config\n      if (!layoutSlotConfig || !breakpoint) {\n        return slotConfig;\n      }\n      // we have a config for the specific breakpoint\n      if (layoutSlotConfig[breakpoint] && layoutSlotConfig[breakpoint].hasOwnProperty(configAttribute)) {\n        return layoutSlotConfig[breakpoint];\n      }\n      // find closest config\n      const all = this.breakpointService.breakpoints;\n      for (const br of all.slice(0, all.indexOf(breakpoint))) {\n        if (layoutSlotConfig[br] && layoutSlotConfig[br].hasOwnProperty(configAttribute)) {\n          slotConfig = layoutSlotConfig[br];\n        }\n      }\n      return slotConfig;\n    }\n    /**\n     * In order to help developers, we print some detailed log information in\n     * case there's no layout configuration available for the given page template\n     * or section. Additionally, the slot positions are printed in the console\n     * in a format that can be copied / paste to the configuration.\n     */\n    logMissingLayoutConfig(page, section) {\n      if (!isDevMode()) {\n        return;\n      }\n      if (!this.logSlots[page.template]) {\n        // the info log is not printed in production\n        // eslint-disable-next-line no-console\n        console.info(`Available CMS page slots: '${Object.keys(page.slots).join(`','`)}'`);\n        this.logSlots[page.template] = true;\n      }\n      const cacheKey = section || page.template;\n      if (!this.warnLogMessages[cacheKey]) {\n        console.warn(`No layout config found for ${cacheKey}, you can configure a 'LayoutConfig' to control the rendering of page slots.`);\n        this.warnLogMessages[cacheKey] = true;\n      }\n    }\n  }\n  PageLayoutService.ɵfac = function PageLayoutService_Factory(t) {\n    return new (t || PageLayoutService)(i0.ɵɵinject(i1.CmsService), i0.ɵɵinject(LayoutConfig), i0.ɵɵinject(BreakpointService), i0.ɵɵinject(PAGE_LAYOUT_HANDLER, 8));\n  };\n  PageLayoutService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: PageLayoutService,\n    factory: PageLayoutService.ɵfac,\n    providedIn: 'root'\n  });\n  return PageLayoutService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Service responsible for resolving cms config based feature modules.\n */\nlet CmsFeaturesService = /*#__PURE__*/(() => {\n  class CmsFeaturesService {\n    constructor(configInitializer, featureModules) {\n      this.configInitializer = configInitializer;\n      this.featureModules = featureModules;\n      // maps componentType to feature\n      this.componentFeatureMap = new Map();\n      /*\n       * Contains either FeatureInstance or FeatureInstance resolver for not yet\n       * resolved feature modules\n       */\n      this.featureInstances = new Map();\n      this.initFeatureMap();\n    }\n    initFeatureMap() {\n      this.configInitializer.getStable('featureModules').subscribe(config => {\n        var _a, _b;\n        this.featureModulesConfig = (_a = config.featureModules) !== null && _a !== void 0 ? _a : {};\n        for (const [featureName, featureConfig] of Object.entries(this.featureModulesConfig)) {\n          if (typeof featureConfig !== 'string' && (featureConfig === null || featureConfig === void 0 ? void 0 : featureConfig.module) && ((_b = featureConfig === null || featureConfig === void 0 ? void 0 : featureConfig.cmsComponents) === null || _b === void 0 ? void 0 : _b.length)) {\n            for (const component of featureConfig.cmsComponents) {\n              this.componentFeatureMap.set(component, featureName);\n            }\n          }\n        }\n      });\n    }\n    /**\n     * Check if there is feature module configuration that covers specified\n     * component type\n     */\n    hasFeatureFor(componentType) {\n      return this.componentFeatureMap.has(componentType);\n    }\n    /**\n     * Return full CmsComponent mapping defined in feature module\n     */\n    getCmsMapping(componentType) {\n      const feature = this.componentFeatureMap.get(componentType);\n      if (!feature) {\n        return of(undefined);\n      }\n      return this.resolveFeatureInstance(feature).pipe(map(featureInstance => {\n        var _a;\n        return (_a = featureInstance.componentsMappings) === null || _a === void 0 ? void 0 : _a[componentType];\n      }));\n    }\n    /**\n     * Resolves feature module for provided component type\n     *\n     * @param componentType\n     */\n    getModule(componentType) {\n      var _a;\n      const feature = this.componentFeatureMap.get(componentType);\n      if (!feature) {\n        return undefined;\n      }\n      let module;\n      // we are returning injectors only for already resolved features\n      (_a = this.featureInstances.get(feature)) === null || _a === void 0 ? void 0 : _a.subscribe(featureInstance => {\n        module = featureInstance.moduleRef;\n      }).unsubscribe();\n      return module;\n    }\n    /**\n     * Resolve feature based on feature name, if feature was not yet resolved\n     *\n     * It will first resolve all module dependencies if defined\n     */\n    resolveFeatureInstance(featureName) {\n      return defer(() => {\n        if (!this.featureInstances.has(featureName)) {\n          this.featureInstances.set(featureName, this.featureModules.resolveFeature(featureName).pipe(map(moduleRef => this.createFeatureInstance(moduleRef, featureName)), shareReplay()));\n        }\n        return this.featureInstances.get(featureName);\n      });\n    }\n    /**\n     * Create feature instance from feature's moduleRef\n     */\n    createFeatureInstance(moduleRef, feature) {\n      var _a, _b, _c;\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      const featureConfig = this.featureModulesConfig[feature];\n      const featureInstance = {\n        moduleRef,\n        componentsMappings: {}\n      };\n      // resolve configuration for feature module\n      const resolvedConfiguration = this.resolveFeatureConfiguration(moduleRef.injector);\n      // extract cms components configuration from feature config\n      for (const componentType of (_a = featureConfig.cmsComponents) !== null && _a !== void 0 ? _a : []) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        featureInstance.componentsMappings[componentType] = (_c = (_b = resolvedConfiguration.cmsComponents) === null || _b === void 0 ? void 0 : _b[componentType]) !== null && _c !== void 0 ? _c : {};\n      }\n      return featureInstance;\n    }\n    /**\n     * Returns configuration provided in feature module\n     */\n    resolveFeatureConfiguration(featureInjector) {\n      // get config chunks from feature lib\n      const featureConfigChunks = featureInjector.get(ConfigChunk, [], InjectFlags.Self);\n      // get default config chunks from feature lib\n      const featureDefaultConfigChunks = featureInjector.get(DefaultConfigChunk, [], InjectFlags.Self);\n      return deepMerge({}, ...(featureDefaultConfigChunks !== null && featureDefaultConfigChunks !== void 0 ? featureDefaultConfigChunks : []), ...(featureConfigChunks !== null && featureConfigChunks !== void 0 ? featureConfigChunks : []));\n    }\n  }\n  CmsFeaturesService.ɵfac = function CmsFeaturesService_Factory(t) {\n    return new (t || CmsFeaturesService)(i0.ɵɵinject(i1.ConfigInitializerService), i0.ɵɵinject(i1.FeatureModulesService));\n  };\n  CmsFeaturesService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: CmsFeaturesService,\n    factory: CmsFeaturesService.ɵfac,\n    providedIn: 'root'\n  });\n  return CmsFeaturesService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Service with logic related to resolving component from cms mapping\n */\nlet CmsComponentsService = /*#__PURE__*/(() => {\n  class CmsComponentsService {\n    constructor(config, platformId, featureModules, configInitializer) {\n      this.config = config;\n      this.platformId = platformId;\n      this.featureModules = featureModules;\n      this.configInitializer = configInitializer;\n      // Component mappings that were identified as missing\n      this.missingComponents = [];\n      // Already resolved mappings\n      this.mappings = {};\n      // Contains already initialized resolvers for specified component typez\n      this.mappingResolvers = new Map();\n      this.configInitializer.getStable('cmsComponents').subscribe(cmsConfig => {\n        // we want to grab cms configuration available at config initialization phase\n        // as lazy-loaded modules can affect global configuration resulting in\n        // non-deterministic state\n        this.staticCmsConfig = Object.assign({}, cmsConfig.cmsComponents);\n      });\n    }\n    /**\n     * Should be called to make sure all component mappings are determined,\n     * especially lazy loaded ones.\n     *\n     * It's recommended way to make sure all other methods of CmsComponentService\n     * will be able to work synchronously for asked component types and avoid risk\n     * of potential errors that could be thrown otherwise.\n     */\n    determineMappings(componentTypes) {\n      return defer(() => {\n        var _a, _b;\n        // we use defer, to be sure the logic below used to compose final observable\n        // will be executed at subscription time (with up to date state at the time,\n        // when it will be needed)\n        const featureResolvers = [];\n        for (const componentType of componentTypes) {\n          if (!this.mappings[componentType]) {\n            const staticConfig = (_b = (_a = this.staticCmsConfig) !== null && _a !== void 0 ? _a : this.config.cmsComponents) === null || _b === void 0 ? void 0 : _b[componentType];\n            // check if this component type is managed by feature module\n            if (this.featureModules.hasFeatureFor(componentType)) {\n              featureResolvers.push(\n              // we delegate populating this.mappings to feature resolver\n              this.getFeatureMappingResolver(componentType, staticConfig));\n            } else {\n              // simply use only static config\n              this.mappings[componentType] = staticConfig;\n            }\n          }\n        }\n        if (featureResolvers.length) {\n          return forkJoin(featureResolvers).pipe(mapTo(componentTypes));\n        } else {\n          return of(componentTypes);\n        }\n      });\n    }\n    getFeatureMappingResolver(componentType, staticConfig) {\n      if (!this.mappingResolvers.has(componentType)) {\n        const mappingResolver$ = this.featureModules.getCmsMapping(componentType).pipe(tap(featureComponentMapping => {\n          // We treat cms mapping configuration from a feature as a default,\n          // that can be overridden by app/static configuration\n          this.mappings[componentType] = deepMerge({}, featureComponentMapping, staticConfig);\n          this.mappingResolvers.delete(componentType);\n        }), share());\n        this.mappingResolvers.set(componentType, mappingResolver$);\n      }\n      return this.mappingResolvers.get(componentType);\n    }\n    /**\n     * Returns the feature module for a cms component.\n     * It will only work for cms components provided by feature modules.\n     *\n     * @param componentType\n     */\n    getModule(componentType) {\n      return this.featureModules.hasFeatureFor(componentType) && this.featureModules.getModule(componentType);\n    }\n    /**\n     * Return collection of component mapping configuration for specified list of\n     * component types.\n     *\n     * If component mapping can't be determined synchronously, for example, lazy\n     * loaded one, it will throw an error.\n     *\n     * To make sure component mapping is available, determineMappings()\n     * should be called and completed first.\n     */\n    getMapping(componentType) {\n      var _a, _b, _c;\n      const componentConfig = (_a = this.mappings[componentType]) !== null && _a !== void 0 ? _a : (_c = (_b = this.staticCmsConfig) !== null && _b !== void 0 ? _b : this.config.cmsComponents) === null || _c === void 0 ? void 0 : _c[componentType];\n      if (isDevMode() && !componentConfig) {\n        if (!this.missingComponents.includes(componentType)) {\n          this.missingComponents.push(componentType);\n          console.warn(`No component implementation found for the CMS component type '${componentType}'.\\n`, `Make sure you implement a component and register it in the mapper.`);\n        }\n      }\n      return componentConfig;\n    }\n    /**\n     * Checks, if component should be rendered as some components\n     * could be disabled for server side renderings\n     */\n    shouldRender(componentType) {\n      var _a;\n      const isSSR = isPlatformServer(this.platformId);\n      return !(isSSR && ((_a = this.getMapping(componentType)) === null || _a === void 0 ? void 0 : _a.disableSSR));\n    }\n    /**\n     * Return DeferLoadingStrategy for component type.\n     */\n    getDeferLoadingStrategy(componentType) {\n      var _a, _b, _c;\n      return (_c = (_b = (_a = this.staticCmsConfig) !== null && _a !== void 0 ? _a : this.config.cmsComponents) === null || _b === void 0 ? void 0 : _b[componentType]) === null || _c === void 0 ? void 0 : _c.deferLoading;\n    }\n    /**\n     * Get cms driven child routes for components\n     */\n    getChildRoutes(componentTypes) {\n      var _a, _b;\n      const configs = [];\n      for (const componentType of componentTypes) {\n        if (this.shouldRender(componentType)) {\n          configs.push((_b = (_a = this.getMapping(componentType)) === null || _a === void 0 ? void 0 : _a.childRoutes) !== null && _b !== void 0 ? _b : []);\n        }\n      }\n      return this.standardizeChildRoutes(configs);\n    }\n    /**\n     * Returns the static data for the component type.\n     */\n    getStaticData(componentType) {\n      var _a;\n      return (_a = this.getMapping(componentType)) === null || _a === void 0 ? void 0 : _a.data;\n    }\n    /**\n     * Standardizes the format of `childRoutes` config.\n     *\n     * Some `childRoutes` configs are simple arrays of Routes (without the notion of the parent route).\n     * But some configs can be an object with children routes and their parent defined in separate property.\n     */\n    standardizeChildRoutes(childRoutesConfigs) {\n      const result = {\n        children: []\n      };\n      (childRoutesConfigs || []).forEach(config => {\n        if (Array.isArray(config)) {\n          result.children.push(...config);\n        } else {\n          result.children.push(...(config.children || []));\n          if (config.parent) {\n            result.parent = config.parent;\n          }\n        }\n      });\n      return result;\n    }\n    /**\n     * Get cms driven guards for components\n     */\n    getGuards(componentTypes) {\n      var _a, _b;\n      const guards = new Set();\n      for (const componentType of componentTypes) {\n        (_b = (_a = this.getMapping(componentType)) === null || _a === void 0 ? void 0 : _a.guards) === null || _b === void 0 ? void 0 : _b.forEach(guard => guards.add(guard));\n      }\n      return Array.from(guards);\n    }\n    /**\n     * Get i18n keys associated with components\n     */\n    getI18nKeys(componentTypes) {\n      var _a, _b;\n      const i18nKeys = new Set();\n      for (const componentType of componentTypes) {\n        if (this.shouldRender(componentType)) {\n          (_b = (_a = this.getMapping(componentType)) === null || _a === void 0 ? void 0 : _a.i18nKeys) === null || _b === void 0 ? void 0 : _b.forEach(key => i18nKeys.add(key));\n        }\n      }\n      return Array.from(i18nKeys);\n    }\n  }\n  CmsComponentsService.ɵfac = function CmsComponentsService_Factory(t) {\n    return new (t || CmsComponentsService)(i0.ɵɵinject(i1.CmsConfig), i0.ɵɵinject(PLATFORM_ID), i0.ɵɵinject(CmsFeaturesService), i0.ɵɵinject(i1.ConfigInitializerService));\n  };\n  CmsComponentsService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: CmsComponentsService,\n    factory: CmsComponentsService.ɵfac,\n    providedIn: 'root'\n  });\n  return CmsComponentsService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PageSlotService = /*#__PURE__*/(() => {\n  class PageSlotService {\n    constructor(cmsComponentsService, platformId, document) {\n      this.cmsComponentsService = cmsComponentsService;\n      this.platformId = platformId;\n      this.document = document;\n      this.resolvePrerenderedSlots();\n    }\n    /**\n     * Finds all slots visible in the SSR pre-rendered DOM\n     */\n    resolvePrerenderedSlots() {\n      if (isPlatformBrowser(this.platformId)) {\n        this.prerenderedSlots = Array.from(this.document.querySelectorAll('cx-page-slot')).filter(el => el.getBoundingClientRect().top < this.document.documentElement.clientHeight).map(el => el.getAttribute('position'));\n      }\n    }\n    /**\n     * Indicates if certain slot should be rendered instantly.\n     *\n     * It's especially useful when transitioning from SSR to CSR application,\n     * where we don't want to apply deferring logic to slots that are visible\n     * to avoid unnecessary flickering.\n     */\n    shouldNotDefer(slot) {\n      var _a;\n      if ((_a = this.prerenderedSlots) === null || _a === void 0 ? void 0 : _a.includes(slot)) {\n        this.prerenderedSlots.splice(this.prerenderedSlots.indexOf(slot), 1);\n        return true;\n      }\n      return false;\n    }\n    /**\n     * Returns the defer options for the given component. If the wrapping\n     * page slot is prerendered, we would ignore the defer options altogether.\n     */\n    getComponentDeferOptions(slot, componentType) {\n      if (this.shouldNotDefer(slot)) {\n        return {\n          deferLoading: DeferLoadingStrategy.INSTANT\n        };\n      }\n      const deferLoading = this.cmsComponentsService.getDeferLoadingStrategy(componentType);\n      return {\n        deferLoading\n      };\n    }\n  }\n  PageSlotService.ɵfac = function PageSlotService_Factory(t) {\n    return new (t || PageSlotService)(i0.ɵɵinject(CmsComponentsService), i0.ɵɵinject(PLATFORM_ID), i0.ɵɵinject(DOCUMENT));\n  };\n  PageSlotService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: PageSlotService,\n    factory: PageSlotService.ɵfac,\n    providedIn: 'root'\n  });\n  return PageSlotService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Lifecycle events for the creation and removal of CMS components.\n *\n * Triggers when the component is added or removed from the DOM, using\n * sub event `ComponentCreateEvent` and `ComponentDestroyEvent`.\n */\nclass ComponentEvent extends CxEvent {}\n/**\n * Indicates that the component is added to the DOM.\n */\nlet ComponentCreateEvent = /*#__PURE__*/(() => {\n  class ComponentCreateEvent extends ComponentEvent {}\n  /**\n   * Event's type\n   */\n  ComponentCreateEvent.type = 'ComponentCreate';\n  /**\n   * Indicates that the component is removed from the DOM.\n   */\n  return ComponentCreateEvent;\n})();\nlet ComponentDestroyEvent = /*#__PURE__*/(() => {\n  class ComponentDestroyEvent extends ComponentEvent {}\n  /**\n   * Event's type\n   */\n  ComponentDestroyEvent.type = 'ComponentDestroy';\n\n  /**\n   * ComponentHandler implementations can be used for instantiating and launching\n   * different types of CMS mapped components\n   */\n  return ComponentDestroyEvent;\n})();\nclass ComponentHandler {}\n\n/**\n * Responsible for obtaining component handler for specified component mapping\n */\nlet ComponentHandlerService = /*#__PURE__*/(() => {\n  class ComponentHandlerService {\n    constructor(handlers) {\n      this.handlers = handlers;\n      this.invalidMappings = new Set();\n    }\n    /**\n     * Get best matching component handler\n     *\n     * @param componentMapping\n     */\n    resolve(componentMapping) {\n      const handler = resolveApplicable(this.handlers, [componentMapping]);\n      if (isDevMode() && !handler) {\n        if (!this.invalidMappings.has(componentMapping)) {\n          this.invalidMappings.add(componentMapping);\n          console.warn(\"Can't resolve handler for component mapping: \", componentMapping);\n        }\n      }\n      return handler;\n    }\n    /**\n     * Get launcher for specified component mapping\n     *\n     * @param componentMapping\n     * @param viewContainerRef\n     * @param elementInjector\n     */\n    getLauncher(componentMapping, viewContainerRef, elementInjector, module) {\n      var _a;\n      return (_a = this.resolve(componentMapping)) === null || _a === void 0 ? void 0 : _a.launcher(componentMapping, viewContainerRef, elementInjector, module);\n    }\n  }\n  ComponentHandlerService.ɵfac = function ComponentHandlerService_Factory(t) {\n    return new (t || ComponentHandlerService)(i0.ɵɵinject(ComponentHandler, 8));\n  };\n  ComponentHandlerService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ComponentHandlerService,\n    factory: ComponentHandlerService.ɵfac,\n    providedIn: 'root'\n  });\n  return ComponentHandlerService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Provides data for `CmsComponentData`. This is used while component is injected\n * dynamically, so that the component implementation can access the data.\n *\n * The data is resolved from dynamic data (CMS api) as well as static configured data.\n */\nlet ComponentDataProvider = /*#__PURE__*/(() => {\n  class ComponentDataProvider {\n    constructor(componentsService, cmsService) {\n      this.componentsService = componentsService;\n      this.cmsService = cmsService;\n    }\n    /**\n     * Return the component data for a component given by the `uid`.\n     *\n     * If the `type` is provided, static component data (if available) is\n     * merged into the component data. The static data is complemented and\n     * overridden with data retrieved from the cms service.\n     */\n    get(uid, type) {\n      return defer(() => {\n        let staticComponentData;\n        if (type) {\n          staticComponentData = this.componentsService.getStaticData(type);\n        }\n        if (uid) {\n          if (staticComponentData) {\n            return this.cmsService.getComponentData(uid).pipe(map(data => Object.assign(Object.assign({}, staticComponentData), data)), startWith(staticComponentData));\n          } else {\n            return this.cmsService.getComponentData(uid);\n          }\n        } else {\n          return staticComponentData ? of(staticComponentData) : EMPTY;\n        }\n      });\n    }\n  }\n  ComponentDataProvider.ɵfac = function ComponentDataProvider_Factory(t) {\n    return new (t || ComponentDataProvider)(i0.ɵɵinject(CmsComponentsService), i0.ɵɵinject(i1.CmsService));\n  };\n  ComponentDataProvider.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ComponentDataProvider,\n    factory: ComponentDataProvider.ɵfac,\n    providedIn: 'root'\n  });\n  return ComponentDataProvider;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Used to prepare injector for CMS components.\n *\n * Injector will take into account configured providers and provides CmsComponentData\n * for specified component's uid\n */\nlet CmsInjectorService = /*#__PURE__*/(() => {\n  class CmsInjectorService {\n    constructor(cmsComponentsService, injector) {\n      this.cmsComponentsService = cmsComponentsService;\n      this.injector = injector;\n    }\n    getInjector(type, uid, parentInjector) {\n      var _a, _b;\n      const configProviders = (_b = (_a = this.cmsComponentsService.getMapping(type)) === null || _a === void 0 ? void 0 : _a.providers) !== null && _b !== void 0 ? _b : [];\n      return Injector.create({\n        providers: [{\n          provide: CmsComponentData,\n          useFactory: dataProvider => ({\n            uid,\n            data$: dataProvider.get(uid, type)\n          }),\n          deps: [ComponentDataProvider]\n        }, ...configProviders],\n        parent: parentInjector !== null && parentInjector !== void 0 ? parentInjector : this.injector\n      });\n    }\n  }\n  CmsInjectorService.ɵfac = function CmsInjectorService_Factory(t) {\n    return new (t || CmsInjectorService)(i0.ɵɵinject(CmsComponentsService), i0.ɵɵinject(i0.Injector));\n  };\n  CmsInjectorService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: CmsInjectorService,\n    factory: CmsInjectorService.ɵfac,\n    providedIn: 'root'\n  });\n  return CmsInjectorService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Directive used to facilitate instantiation of CMS driven dynamic components\n */\nlet ComponentWrapperDirective = /*#__PURE__*/(() => {\n  class ComponentWrapperDirective {\n    constructor(vcr, cmsComponentsService, injector, dynamicAttributeService, renderer, componentHandler, cmsInjector, eventService) {\n      this.vcr = vcr;\n      this.cmsComponentsService = cmsComponentsService;\n      this.injector = injector;\n      this.dynamicAttributeService = dynamicAttributeService;\n      this.renderer = renderer;\n      this.componentHandler = componentHandler;\n      this.cmsInjector = cmsInjector;\n      this.eventService = eventService;\n      this.cxComponentRef = new EventEmitter();\n    }\n    ngOnInit() {\n      this.cmsComponentsService.determineMappings([this.cxComponentWrapper.flexType]).subscribe(() => {\n        if (this.cmsComponentsService.shouldRender(this.cxComponentWrapper.flexType)) {\n          this.launchComponent();\n        }\n      });\n    }\n    launchComponent() {\n      const componentMapping = this.cmsComponentsService.getMapping(this.cxComponentWrapper.flexType);\n      if (!componentMapping) {\n        return;\n      }\n      this.launcherResource = this.componentHandler.getLauncher(componentMapping, this.vcr, this.cmsInjector.getInjector(this.cxComponentWrapper.flexType, this.cxComponentWrapper.uid, this.injector), this.cmsComponentsService.getModule(this.cxComponentWrapper.flexType)).pipe(tap(({\n        elementRef,\n        componentRef\n      }) => {\n        this.cmpRef = componentRef;\n        this.cxComponentRef.emit(componentRef);\n        this.dispatchEvent(ComponentCreateEvent, elementRef);\n        this.decorate(elementRef);\n        this.injector.get(ChangeDetectorRef).markForCheck();\n      }), finalize(() => this.dispatchEvent(ComponentDestroyEvent))).subscribe();\n    }\n    /**\n     * Dispatch the component event.\n     *\n     * The event is dispatched during creation and removal of the component.\n     */\n    dispatchEvent(event, elementRef) {\n      var _a;\n      const payload = {\n        typeCode: this.cxComponentWrapper.typeCode,\n        id: this.cxComponentWrapper.uid\n      };\n      if (event === ComponentCreateEvent) {\n        payload.host = elementRef === null || elementRef === void 0 ? void 0 : elementRef.nativeElement;\n      }\n      (_a = this.eventService) === null || _a === void 0 ? void 0 : _a.dispatch(payload, event);\n    }\n    decorate(elementRef) {\n      this.dynamicAttributeService.addAttributesToComponent(elementRef.nativeElement, this.renderer, this.cxComponentWrapper);\n    }\n    ngOnDestroy() {\n      if (this.launcherResource) {\n        this.launcherResource.unsubscribe();\n      }\n    }\n  }\n  ComponentWrapperDirective.ɵfac = function ComponentWrapperDirective_Factory(t) {\n    return new (t || ComponentWrapperDirective)(i0.ɵɵdirectiveInject(i0.ViewContainerRef), i0.ɵɵdirectiveInject(CmsComponentsService), i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(i1.DynamicAttributeService), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(ComponentHandlerService), i0.ɵɵdirectiveInject(CmsInjectorService), i0.ɵɵdirectiveInject(i1.EventService, 8));\n  };\n  ComponentWrapperDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: ComponentWrapperDirective,\n    selectors: [[\"\", \"cxComponentWrapper\", \"\"]],\n    inputs: {\n      cxComponentWrapper: \"cxComponentWrapper\"\n    },\n    outputs: {\n      cxComponentRef: \"cxComponentRef\"\n    }\n  });\n  return ComponentWrapperDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * The `PageSlotComponent` is used to render the CMS page slot and it's components.\n *\n * The Page slot host element will be supplemented with css classes so that the layout\n * can be fully controlled by customers:\n * - The page slot _position_ is added as a css class by default.\n * - The `cx-pending` is added for as long as the slot hasn't start loading.\n * - The `page-fold` style class is added for the page slot which is configured as the page fold.\n */\nlet PageSlotComponent = /*#__PURE__*/(() => {\n  class PageSlotComponent {\n    constructor(cmsService, dynamicAttributeService, renderer, elementRef, cd, pageSlotService) {\n      this.cmsService = cmsService;\n      this.dynamicAttributeService = dynamicAttributeService;\n      this.renderer = renderer;\n      this.elementRef = elementRef;\n      this.cd = cd;\n      this.pageSlotService = pageSlotService;\n      /**\n       * Indicates that the page slot is the last page slot above the fold.\n       */\n      this.isPageFold = false;\n      /**\n       * Indicates that the components of the page slot haven't been loaded as long\n       * as the isPending state is true.\n       */\n      this.isPending = true;\n      /**\n       * Indicates that the page slot doesn't contain any components. This is no\n       * longer used in spartacus, but kept for backwards compatibility.\n       */\n      this.hasComponents = false;\n      this.position$ = new BehaviorSubject(undefined);\n      this.slot$ = this.position$.pipe(switchMap(position => this.cmsService.getContentSlot(position)), distinctUntilChanged(this.isDistinct));\n      /** Observes the components for the given page slot. */\n      this.components$ = this.slot$.pipe(map(slot => {\n        var _a;\n        return (_a = slot === null || slot === void 0 ? void 0 : slot.components) !== null && _a !== void 0 ? _a : [];\n      }));\n      this.subscription = new Subscription();\n      /** Keeps track of the pending components that must be loaded for the page slot */\n      this.pendingComponentCount = 0;\n    }\n    /**\n     * The position represents the unique key for a page slot on a single page, but can\n     * be reused cross pages.\n     *\n     * The position is used to find the CMS components for the page slot. It is also\n     * added as an additional CSS class so that layout can be applied.\n     */\n    set position(value) {\n      this.position$.next(value);\n    }\n    get position() {\n      return this.position$.value;\n    }\n    ngOnInit() {\n      this.subscription.add(this.slot$.pipe(tap(slot => this.decorate(slot))).subscribe(value => {\n        this.components = (value === null || value === void 0 ? void 0 : value.components) || [];\n        this.cd.markForCheck();\n      }));\n    }\n    decorate(slot) {\n      var _a, _b;\n      let cls = this.class || '';\n      if (this.lastPosition && cls.indexOf(this.lastPosition) > -1) {\n        cls = cls.replace(this.lastPosition, '');\n      }\n      if (this.position$.value) {\n        cls += ` ${this.position$.value}`;\n        this.lastPosition = this.position$.value;\n      }\n      // host bindings\n      this.pending = ((_a = slot === null || slot === void 0 ? void 0 : slot.components) === null || _a === void 0 ? void 0 : _a.length) || 0;\n      this.hasComponents = ((_b = slot === null || slot === void 0 ? void 0 : slot.components) === null || _b === void 0 ? void 0 : _b.length) > 0;\n      if (cls && cls !== this.class) {\n        this.class = cls;\n      }\n      if (slot) {\n        this.dynamicAttributeService.addAttributesToSlot(this.elementRef.nativeElement, this.renderer, slot);\n      }\n    }\n    /**\n     * Sets the pending count for the page slot components. Once all pending components are\n     * loaded, the `isPending` flag is updated, so that the associated class can be updated\n     */\n    set pending(count) {\n      this.pendingComponentCount = count;\n      this.isPending = this.pendingComponentCount > 0;\n    }\n    get pending() {\n      return this.pendingComponentCount;\n    }\n    /*\n     * Is triggered when a component is added to the view. This is used to\n     * update the pending count\n     */\n    isLoaded(loadState) {\n      if (loadState) {\n        this.pending--;\n        this.cd.markForCheck();\n      }\n    }\n    /**\n     * The `DeferLoadingStrategy` indicates whether the component should be\n     * rendered instantly or whether it should be deferred.\n     */\n    getComponentDeferOptions(componentType) {\n      return this.pageSlotService.getComponentDeferOptions(this.position, componentType);\n    }\n    isDistinct(old, current) {\n      var _a;\n      return current.components && ((_a = old.components) === null || _a === void 0 ? void 0 : _a.length) === current.components.length && !old.components.find((el, index) => el.uid !== current.components[index].uid);\n    }\n    ngOnDestroy() {\n      var _a;\n      (_a = this.subscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n    }\n  }\n  PageSlotComponent.ɵfac = function PageSlotComponent_Factory(t) {\n    return new (t || PageSlotComponent)(i0.ɵɵdirectiveInject(i1.CmsService), i0.ɵɵdirectiveInject(i1.DynamicAttributeService), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(PageSlotService));\n  };\n  PageSlotComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: PageSlotComponent,\n    selectors: [[\"cx-page-slot\"], [\"\", \"cx-page-slot\", \"\"]],\n    hostVars: 9,\n    hostBindings: function PageSlotComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵattribute(\"position\", ctx.position);\n        i0.ɵɵclassMap(ctx.class);\n        i0.ɵɵclassProp(\"page-fold\", ctx.isPageFold)(\"cx-pending\", ctx.isPending)(\"has-components\", ctx.hasComponents);\n      }\n    },\n    inputs: {\n      position: \"position\",\n      class: \"class\",\n      isPageFold: \"isPageFold\",\n      hasComponents: \"hasComponents\"\n    },\n    decls: 1,\n    vars: 4,\n    consts: [[3, \"cxOutlet\", \"cxOutletContext\"], [4, \"ngFor\", \"ngForOf\"], [3, \"cxOutlet\", \"cxOutletContext\", \"cxOutletDefer\", \"loaded\"], [3, \"cxComponentWrapper\"]],\n    template: function PageSlotComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, PageSlotComponent_ng_template_0_Template, 1, 1, \"ng-template\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"cxOutlet\", ctx.position)(\"cxOutletContext\", i0.ɵɵpureFunction1(2, _c24, ctx.components$));\n      }\n    },\n    directives: [OutletDirective, i3.NgForOf, ComponentWrapperDirective],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return PageSlotComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Directive that Adds a style class to the host element based on the cms page\n * template. The CMS page template is driven by the CMS structure, which is configurable\n * in the backend.\n *\n * The style class is added to the host element of the directive. The host element is resolved\n * from the `elementRef`, or, in case the directive is used in an `ng-template`, by the\n * `TemplateRef`.\n *\n * An example of the usage is given below:\n *\n * ```html\n * <cx-storefront class=\"LandingPageTemplate\">\n *   <ng-template cxPageTemplateStyle>...</ng-template>\n * <cx-storefront>\n * ```\n *\n * The style class can also be provided by an input:\n *\n * ```html\n * <ng-template [cxPageTemplateStyle]=\"pageTemplateName\">\n * ```\n *\n */\nlet PageTemplateDirective = /*#__PURE__*/(() => {\n  class PageTemplateDirective {\n    constructor(pageLayoutService, elementRef, templateRef, cd) {\n      this.pageLayoutService = pageLayoutService;\n      this.elementRef = elementRef;\n      this.templateRef = templateRef;\n      this.cd = cd;\n      // Maintains the page template subscription\n      this.subscription = new Subscription();\n    }\n    /**\n     * Adds a style class to the host element based on the cms page template, unless\n     * the class is given as an input.\n     *\n     * The host element is either the actual host, or the parent element in case this\n     * is used inside an `ng-template`.\n     */\n    set setTemplate(template) {\n      if (template && template !== '') {\n        this.useTemplateFromInput = true;\n        this.addStyleClass(template);\n      } else if (this.useTemplateFromInput) {\n        // we only clear the template if it has been provided by the input before\n        this.clear();\n      }\n    }\n    ngOnInit() {\n      if (!this.useTemplateFromInput) {\n        this.subscription.add(this.pageLayoutService.templateName$.subscribe(template => this.addStyleClass(template)));\n      }\n    }\n    /**\n     * Adds the page template as a style class to the given element. If any\n     * page template was added before, we clean it up.\n     *\n     * We'll not use hostBinding for the style class, as it will potential drop\n     * an existing class name on the host. This is why we need to work with\n     * the lower level change detection api.\n     */\n    addStyleClass(template, el) {\n      this.clear(el);\n      if (template) {\n        this.currentTemplate = template;\n        (el !== null && el !== void 0 ? el : this.host).classList.add(this.currentTemplate);\n        this.cd.markForCheck();\n      }\n    }\n    /**\n     * Cleans up the class host binding, if a template class was assigned before.\n     */\n    clear(el) {\n      var _a;\n      if (this.currentTemplate) {\n        (_a = (el !== null && el !== void 0 ? el : this.host).classList) === null || _a === void 0 ? void 0 : _a.remove(this.currentTemplate);\n        this.cd.markForCheck();\n      }\n    }\n    /**\n     * Returns the host element (`HTMLElement`).\n     *\n     * If the directive is used on an `ng-template`, we take the parent element,\n     * to ensure that we're not ending up with a comment.\n     */\n    get host() {\n      return !!this.templateRef ? this.templateRef.elementRef.nativeElement.parentElement : this.elementRef.nativeElement;\n    }\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n    }\n  }\n  PageTemplateDirective.ɵfac = function PageTemplateDirective_Factory(t) {\n    return new (t || PageTemplateDirective)(i0.ɵɵdirectiveInject(PageLayoutService), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.TemplateRef, 8), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  PageTemplateDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: PageTemplateDirective,\n    selectors: [[\"\", \"cxPageTemplateStyle\", \"\"]],\n    inputs: {\n      setTemplate: [\"cxPageTemplateStyle\", \"setTemplate\"]\n    }\n  });\n  return PageTemplateDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PageLayoutComponent = /*#__PURE__*/(() => {\n  class PageLayoutComponent {\n    constructor(pageLayoutService) {\n      this.pageLayoutService = pageLayoutService;\n      this.section$ = new BehaviorSubject(undefined);\n      this.templateName$ = this.pageLayoutService.templateName$;\n      this.layoutName$ = this.section$.pipe(switchMap(section => section ? of(section) : this.templateName$));\n      this.slots$ = this.section$.pipe(switchMap(section => this.pageLayoutService.getSlots(section)));\n      this.pageFoldSlot$ = this.templateName$.pipe(switchMap(templateName => this.pageLayoutService.getPageFoldSlot(templateName)), distinctUntilChanged());\n    }\n    set section(value) {\n      this.section$.next(value);\n    }\n  }\n  PageLayoutComponent.ɵfac = function PageLayoutComponent_Factory(t) {\n    return new (t || PageLayoutComponent)(i0.ɵɵdirectiveInject(PageLayoutService));\n  };\n  PageLayoutComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: PageLayoutComponent,\n    selectors: [[\"cx-page-layout\"]],\n    inputs: {\n      section: \"section\"\n    },\n    ngContentSelectors: _c1,\n    decls: 3,\n    vars: 11,\n    consts: [[3, \"cxPageTemplateStyle\", \"cxOutlet\", \"cxOutletContext\"], [3, \"position\", \"isPageFold\", 4, \"ngFor\", \"ngForOf\"], [3, \"position\", \"isPageFold\"]],\n    template: function PageLayoutComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵtemplate(0, PageLayoutComponent_ng_template_0_Template, 3, 3, \"ng-template\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵpipe(2, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"cxPageTemplateStyle\", i0.ɵɵpipeBind1(1, 3, ctx.layoutName$))(\"cxOutlet\", i0.ɵɵpipeBind1(2, 5, ctx.layoutName$))(\"cxOutletContext\", i0.ɵɵpureFunction3(7, _c25, ctx.templateName$, ctx.slots$, ctx.section$));\n      }\n    },\n    directives: [PageTemplateDirective, OutletDirective, i3.NgForOf, PageSlotComponent],\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return PageLayoutComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n// This service should be exposed in public API only after the refactor planned in https://github.com/SAP/spartacus/issues/7070\nlet CmsRoutesImplService = /*#__PURE__*/(() => {\n  class CmsRoutesImplService {\n    constructor(router, cmsComponentsService) {\n      this.router = router;\n      this.cmsComponentsService = cmsComponentsService;\n    }\n    cmsRouteExists(url) {\n      const isCmsDrivenRoute = url.startsWith('/');\n      if (!isCmsDrivenRoute) {\n        return false;\n      }\n      const routePath = url.substr(1);\n      return isCmsDrivenRoute && !!this.router.config.find(route => route.data && route.data.cxCmsRouteContext && route.path === routePath);\n    }\n    /**\n     * Contains Cms driven routing logic intended for use use in guards, especially in canActivate method.\n     *\n     * Will return true, when logic wont have to modify routing (so canActivate could be easily resolved to true)\n     * or will return false, when routing configuration was updated and redirection to newly generated route was initiated.\n     *\n     * @param pageContext\n     * @param currentUrl\n     */\n    handleCmsRoutesInGuard(pageContext, componentTypes, currentUrl, currentPageLabel) {\n      var _a;\n      if (this.cmsRouteExists(currentPageLabel)) {\n        return true;\n      }\n      const childRoutesConfig = this.cmsComponentsService.getChildRoutes(componentTypes);\n      if ((_a = childRoutesConfig === null || childRoutesConfig === void 0 ? void 0 : childRoutesConfig.children) === null || _a === void 0 ? void 0 : _a.length) {\n        if (this.updateRouting(pageContext, currentPageLabel, childRoutesConfig)) {\n          this.router.navigateByUrl(currentUrl);\n          return false;\n        }\n      }\n      return true;\n    }\n    updateRouting(pageContext, pageLabel, childRoutesConfig) {\n      var _a, _b;\n      if (pageContext.type === PageType.CONTENT_PAGE && pageLabel.startsWith('/') && pageLabel.length > 1) {\n        const newRoute = {\n          path: pageLabel.substr(1),\n          component: PageLayoutComponent,\n          children: childRoutesConfig.children,\n          data: deepMerge({}, (_b = (_a = childRoutesConfig === null || childRoutesConfig === void 0 ? void 0 : childRoutesConfig.parent) === null || _a === void 0 ? void 0 : _a.data) !== null && _b !== void 0 ? _b : {}, {\n            cxCmsRouteContext: {\n              type: pageContext.type,\n              id: pageLabel\n            }\n          })\n        };\n        this.router.resetConfig([newRoute, ...this.router.config]);\n        return true;\n      }\n      return false;\n    }\n  }\n  CmsRoutesImplService.ɵfac = function CmsRoutesImplService_Factory(t) {\n    return new (t || CmsRoutesImplService)(i0.ɵɵinject(i1$1.Router), i0.ɵɵinject(CmsComponentsService));\n  };\n  CmsRoutesImplService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: CmsRoutesImplService,\n    factory: CmsRoutesImplService.ɵfac,\n    providedIn: 'root'\n  });\n  return CmsRoutesImplService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n// Public injection token for the private implementation of the service `CmsRoutesImplService`.\n// After #7070, this class should be replaced with a real implementation.\nlet CmsRoutesService = /*#__PURE__*/(() => {\n  class CmsRoutesService {}\n  CmsRoutesService.ɵfac = function CmsRoutesService_Factory(t) {\n    return new (t || CmsRoutesService)();\n  };\n  CmsRoutesService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: CmsRoutesService,\n    factory: function CmsRoutesService_Factory(t) {\n      let r = null;\n      if (t) {\n        r = new (t || CmsRoutesService)();\n      } else {\n        r = i0.ɵɵinject(CmsRoutesImplService);\n      }\n      return r;\n    },\n    providedIn: 'root'\n  });\n  return CmsRoutesService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CmsI18nService = /*#__PURE__*/(() => {\n  class CmsI18nService {\n    constructor(cmsComponentsService, translation, translationChunk) {\n      this.cmsComponentsService = cmsComponentsService;\n      this.translation = translation;\n      this.translationChunk = translationChunk;\n    }\n    loadForComponents(componentTypes) {\n      const i18nKeys = this.cmsComponentsService.getI18nKeys(componentTypes);\n      const i18nChunks = new Set();\n      for (const key of i18nKeys) {\n        i18nChunks.add(this.translationChunk.getChunkNameForKey(key));\n      }\n      this.translation.loadChunks(Array.from(i18nChunks));\n    }\n  }\n  CmsI18nService.ɵfac = function CmsI18nService_Factory(t) {\n    return new (t || CmsI18nService)(i0.ɵɵinject(CmsComponentsService), i0.ɵɵinject(i1.TranslationService), i0.ɵɵinject(i1.TranslationChunkService));\n  };\n  CmsI18nService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: CmsI18nService,\n    factory: CmsI18nService.ɵfac,\n    providedIn: 'root'\n  });\n  return CmsI18nService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CmsGuardsService = /*#__PURE__*/(() => {\n  class CmsGuardsService {\n    constructor(cmsComponentsService, injector) {\n      this.cmsComponentsService = cmsComponentsService;\n      this.injector = injector;\n    }\n    cmsPageCanActivate(componentTypes, route, state) {\n      const guards = this.cmsComponentsService.getGuards(componentTypes);\n      if (guards.length) {\n        const canActivateObservables = guards.map(guardClass => {\n          const guard = this.injector.get(guardClass, null);\n          if (isCanActivate(guard)) {\n            return wrapIntoObservable(guard.canActivate(route, state)).pipe(first());\n          } else {\n            throw new Error('Invalid CanActivate guard in cmsMapping');\n          }\n        });\n        return concat(...canActivateObservables).pipe(skipWhile(canActivate => canActivate === true), endWith(true), first());\n      } else {\n        return of(true);\n      }\n    }\n  }\n  CmsGuardsService.ɵfac = function CmsGuardsService_Factory(t) {\n    return new (t || CmsGuardsService)(i0.ɵɵinject(CmsComponentsService), i0.ɵɵinject(i0.Injector));\n  };\n  CmsGuardsService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: CmsGuardsService,\n    factory: CmsGuardsService.ɵfac,\n    providedIn: 'root'\n  });\n  return CmsGuardsService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction wrapIntoObservable(value) {\n  if (isObservable(value)) {\n    return value;\n  }\n  if (isPromise(value)) {\n    return from(Promise.resolve(value));\n  }\n  return of(value);\n}\nfunction isPromise(obj) {\n  return !!obj && typeof obj.then === 'function';\n}\nfunction isCanActivate(guard) {\n  return guard && isFunction(guard.canActivate);\n}\nfunction isFunction(v) {\n  return typeof v === 'function';\n}\n\n/**\n * Helper service for `CmsPageGuard`\n */\nlet CmsPageGuardService = /*#__PURE__*/(() => {\n  class CmsPageGuardService {\n    constructor(semanticPathService, cmsService, cmsRoutes, cmsI18n, cmsGuards, cmsComponentsService, routing) {\n      this.semanticPathService = semanticPathService;\n      this.cmsService = cmsService;\n      this.cmsRoutes = cmsRoutes;\n      this.cmsI18n = cmsI18n;\n      this.cmsGuards = cmsGuards;\n      this.cmsComponentsService = cmsComponentsService;\n      this.routing = routing;\n    }\n    /**\n     * Takes CMS components types in the current CMS page, triggers (configurable) side effects and returns a boolean - whether the route can be activated.\n     *\n     * Based on `cmsComponents` config for the components in the page:\n     * - Evaluates components' guards; if one of them emits false or UrlTree - the route cannot be activated or redirects to the given UrlTree, respectively.\n     * - If all components' guards emitted true, then the route can be activated\n     * - Then we trigger loading of configured i18n chunks in parallel\n     * - And we register the configured children routes of cms components\n     *\n     * @param pageContext current cms page context\n     * @param pageData cms page data\n     * @param route activated route snapshot\n     * @param state router state snapshot\n     *\n     * @returns boolean observable - whether the route can be activated\n     */\n    canActivatePage(pageContext, pageData, route, state) {\n      return this.cmsService.getPageComponentTypes(pageContext).pipe(take(1), switchMap(componentTypes => this.cmsComponentsService.determineMappings(componentTypes)), switchMap(componentTypes => this.cmsGuards.cmsPageCanActivate(componentTypes, route, state).pipe(withLatestFrom(of(componentTypes)))), tap(([canActivate, componentTypes]) => {\n        if (canActivate === true) {\n          this.cmsI18n.loadForComponents(componentTypes);\n        }\n      }), map(([canActivate, componentTypes]) => {\n        var _a;\n        const pageLabel = pageData.label || pageContext.id; // for content pages the page label returned from backend can be different than ID initially assumed from route\n        if (canActivate === true && !((_a = route === null || route === void 0 ? void 0 : route.data) === null || _a === void 0 ? void 0 : _a.cxCmsRouteContext)) {\n          return this.cmsRoutes.handleCmsRoutesInGuard(pageContext, componentTypes, state.url, pageLabel);\n        }\n        return canActivate;\n      }));\n    }\n    /**\n     * Activates the \"NOT FOUND\" cms page.\n     *\n     * It loads cms page data for the \"NOT FOUND\" page and puts it in the state of the the requested page label.\n     * Then it processes its CMS components with the method `canActivatePage()` of this service. For more, see its docs.\n     */\n    canActivateNotFoundPage(pageContext, route, state) {\n      const notFoundCmsPageContext = {\n        type: PageType.CONTENT_PAGE,\n        id: this.semanticPathService.get('notFound')\n      };\n      return this.cmsService.getPage(notFoundCmsPageContext).pipe(switchMap(notFoundPage => {\n        if (notFoundPage) {\n          return this.cmsService.getPageIndex(notFoundCmsPageContext).pipe(tap(notFoundIndex => {\n            this.cmsService.setPageFailIndex(pageContext, notFoundIndex);\n            this.routing.changeNextPageContext(notFoundCmsPageContext);\n          }), switchMap(notFoundIndex => this.cmsService.getPageIndex(pageContext).pipe(\n          // we have to wait for page index update\n          filter(index => index === notFoundIndex))), switchMap(() => this.canActivatePage(pageContext, notFoundPage, route, state)));\n        }\n        return of(false);\n      }));\n    }\n  }\n  CmsPageGuardService.ɵfac = function CmsPageGuardService_Factory(t) {\n    return new (t || CmsPageGuardService)(i0.ɵɵinject(i1.SemanticPathService), i0.ɵɵinject(i1.CmsService), i0.ɵɵinject(CmsRoutesService), i0.ɵɵinject(CmsI18nService), i0.ɵɵinject(CmsGuardsService), i0.ɵɵinject(CmsComponentsService), i0.ɵɵinject(i1.RoutingService));\n  };\n  CmsPageGuardService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: CmsPageGuardService,\n    factory: CmsPageGuardService.ɵfac,\n    providedIn: 'root'\n  });\n  return CmsPageGuardService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CmsPageGuard = /*#__PURE__*/(() => {\n  class CmsPageGuard {\n    constructor(routingService, cmsService, protectedRoutesGuard, service, routingConfig) {\n      this.routingService = routingService;\n      this.cmsService = cmsService;\n      this.protectedRoutesGuard = protectedRoutesGuard;\n      this.service = service;\n      this.routingConfig = routingConfig;\n    }\n    /**\n     * Tries to load the CMS page data for the anticipated route and returns:\n     * - `true` - if it can be activated\n     * - `false` - if it cannot be activated\n     * - `UrlTree` - if user should be redirected to a given `UrlTree`\n     *\n     * If the route can be activated, it fires additional calculations on the CMS components present on this CMS page,\n     * based on their configuration (`cmsComponents` config).\n     *\n     * For more, see docs of the `CmsPageGuardService.canActivatePage`.\n     */\n    canActivate(route, state) {\n      return this.protectedRoutesGuard.canActivate(route).pipe(switchMap(canActivate => canActivate === true ? this.routingService.getNextPageContext().pipe(take(1), switchMap(pageContext => this.cmsService.getPage(pageContext, this.shouldReload()).pipe(first(), switchMap(pageData => pageData ? this.service.canActivatePage(pageContext, pageData, route, state) : this.service.canActivateNotFoundPage(pageContext, route, state))))) : of(canActivate)));\n    }\n    /**\n     * Returns whether we should reload the CMS page data, even when it was loaded before.\n     */\n    shouldReload() {\n      return this.routingConfig.getLoadStrategy() !== \"once\" /* ONCE */;\n    }\n  }\n\n  CmsPageGuard.guardName = 'CmsPageGuard';\n  CmsPageGuard.ɵfac = function CmsPageGuard_Factory(t) {\n    return new (t || CmsPageGuard)(i0.ɵɵinject(i1.RoutingService), i0.ɵɵinject(i1.CmsService), i0.ɵɵinject(i1.ProtectedRoutesGuard), i0.ɵɵinject(CmsPageGuardService), i0.ɵɵinject(i1.RoutingConfigService));\n  };\n  CmsPageGuard.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: CmsPageGuard,\n    factory: CmsPageGuard.ɵfac,\n    providedIn: 'root'\n  });\n  return CmsPageGuard;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MiniCartComponent = /*#__PURE__*/(() => {\n  class MiniCartComponent {\n    constructor(activeCartService) {\n      this.activeCartService = activeCartService;\n      this.iconTypes = ICON_TYPE;\n      this.quantity$ = this.activeCartService.getActive().pipe(startWith({\n        deliveryItemsQuantity: 0\n      }), map(cart => cart.deliveryItemsQuantity || 0));\n      this.total$ = this.activeCartService.getActive().pipe(filter(cart => !!cart.totalPrice), map(cart => cart.totalPrice.formattedValue));\n    }\n  }\n  MiniCartComponent.ɵfac = function MiniCartComponent_Factory(t) {\n    return new (t || MiniCartComponent)(i0.ɵɵdirectiveInject(i1.ActiveCartService));\n  };\n  MiniCartComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: MiniCartComponent,\n    selectors: [[\"cx-mini-cart\"]],\n    decls: 13,\n    vars: 29,\n    consts: [[3, \"routerLink\"], [3, \"type\"], [1, \"total\"], [1, \"count\"]],\n    template: function MiniCartComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"a\", 0);\n        i0.ɵɵpipe(1, \"cxTranslate\");\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵpipe(3, \"cxUrl\");\n        i0.ɵɵelement(4, \"cx-icon\", 1);\n        i0.ɵɵelementStart(5, \"span\", 2);\n        i0.ɵɵtext(6);\n        i0.ɵɵpipe(7, \"cxTranslate\");\n        i0.ɵɵpipe(8, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"span\", 3);\n        i0.ɵɵtext(10);\n        i0.ɵɵpipe(11, \"cxTranslate\");\n        i0.ɵɵpipe(12, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(3, 10, i0.ɵɵpureFunction0(22, _c11)));\n        i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind2(1, 5, \"miniCart.item\", i0.ɵɵpureFunction1(23, _c9, i0.ɵɵpipeBind1(2, 8, ctx.quantity$))));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"type\", ctx.iconTypes.CART);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(7, 12, \"miniCart.total\", i0.ɵɵpureFunction1(25, _c26, i0.ɵɵpipeBind1(8, 15, ctx.total$))), \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(11, 17, \"miniCart.count\", i0.ɵɵpureFunction1(27, _c9, i0.ɵɵpipeBind1(12, 20, ctx.quantity$))), \" \");\n      }\n    },\n    directives: [i1$1.RouterLinkWithHref, IconComponent],\n    pipes: [i1.TranslatePipe, i3.AsyncPipe, i1.UrlPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return MiniCartComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MiniCartModule = /*#__PURE__*/(() => {\n  class MiniCartModule {}\n  MiniCartModule.ɵfac = function MiniCartModule_Factory(t) {\n    return new (t || MiniCartModule)();\n  };\n  MiniCartModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: MiniCartModule\n  });\n  MiniCartModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        MiniCartComponent: {\n          component: MiniCartComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule, UrlModule, IconModule, I18nModule]]\n  });\n  return MiniCartModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst ORDER_ENTRIES_CONTEXT = Symbol('ORDER_ENTRIES_CONTEXT');\nlet SaveForLaterComponent = /*#__PURE__*/(() => {\n  class SaveForLaterComponent {\n    constructor(cmsService, cartService, selectiveCartService) {\n      this.cmsService = cmsService;\n      this.cartService = cartService;\n      this.selectiveCartService = selectiveCartService;\n      this.CartLocation = PromotionLocation;\n    }\n    ngOnInit() {\n      this.isCartEmpty$ = this.cartService.getActive().pipe(map(cart => !(cart && cart.totalItems && cart.totalItems > 0)));\n      this.saveForLater$ = this.selectiveCartService.getCart();\n      this.entries$ = this.selectiveCartService.getEntries().pipe(filter(entries => entries.length > 0));\n      this.cartLoaded$ = combineLatest([this.cartService.isStable(), this.selectiveCartService.isStable()]).pipe(map(([cartLoaded, sflLoaded]) => cartLoaded && sflLoaded));\n      this.data$ = this.cmsService.getComponentData('EmptyCartParagraphComponent');\n    }\n    moveToCart(item) {\n      this.selectiveCartService.removeEntry(item);\n      this.cartService.addEntry(item.product.code, item.quantity);\n    }\n  }\n  SaveForLaterComponent.ɵfac = function SaveForLaterComponent_Factory(t) {\n    return new (t || SaveForLaterComponent)(i0.ɵɵdirectiveInject(i1.CmsService), i0.ɵɵdirectiveInject(i1.ActiveCartService), i0.ɵɵdirectiveInject(i1.SelectiveCartService));\n  };\n  SaveForLaterComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: SaveForLaterComponent,\n    selectors: [[\"cx-save-for-later\"]],\n    decls: 6,\n    vars: 6,\n    consts: [[4, \"ngIf\"], [\"moveToCartBtn\", \"\"], [\"class\", \"cx-empty-cart-info\", 3, \"innerHTML\", 4, \"ngIf\"], [1, \"cx-empty-cart-info\", 3, \"innerHTML\"], [\"class\", \"cart-details-wrapper\", 4, \"ngIf\"], [1, \"cart-details-wrapper\"], [1, \"cx-total\"], [3, \"items\", \"readonly\", \"cartIsLoading\", \"promotionLocation\", \"options\"], [1, \"col-md-3\", \"col-lg-3\", \"col-xl-3\", \"cx-sfl-btn\"], [\"type\", \"button\", 1, \"link\", \"cx-action-link\", 3, \"disabled\", \"click\"]],\n    template: function SaveForLaterComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, SaveForLaterComponent_ng_container_0_Template, 3, 3, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵtemplate(2, SaveForLaterComponent_ng_container_2_Template, 3, 3, \"ng-container\", 0);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵtemplate(4, SaveForLaterComponent_ng_template_4_Template, 4, 4, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.isCartEmpty$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 4, ctx.saveForLater$));\n      }\n    },\n    directives: [i3.NgIf, CartItemListComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return SaveForLaterComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet SaveForLaterModule = /*#__PURE__*/(() => {\n  class SaveForLaterModule {}\n  SaveForLaterModule.ɵfac = function SaveForLaterModule_Factory(t) {\n    return new (t || SaveForLaterModule)();\n  };\n  SaveForLaterModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: SaveForLaterModule\n  });\n  SaveForLaterModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        SaveForLaterComponent: {\n          component: SaveForLaterComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, I18nModule, CartSharedModule]]\n  });\n  return SaveForLaterModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CartComponentModule = /*#__PURE__*/(() => {\n  class CartComponentModule {}\n  CartComponentModule.ɵfac = function CartComponentModule_Factory(t) {\n    return new (t || CartComponentModule)();\n  };\n  CartComponentModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: CartComponentModule\n  });\n  CartComponentModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [{\n      provide: PAGE_LAYOUT_HANDLER,\n      useExisting: CartPageLayoutHandler,\n      multi: true\n    }],\n    imports: [[NgbModule, CartDetailsModule, CartTotalsModule, CartSharedModule, SaveForLaterModule, RouterModule.forChild([{\n      // @ts-ignore\n      path: null,\n      canActivate: [CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'cart',\n        cxContext: {\n          [ORDER_ENTRIES_CONTEXT]: ActiveCartOrderEntriesContext\n        }\n      }\n    }])], AddToWishListModule, CartDetailsModule, CartTotalsModule, CartSharedModule, AddToCartModule, MiniCartModule, CartModule, SaveForLaterModule]\n  });\n  return CartComponentModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CartValidationComponentsModule = /*#__PURE__*/(() => {\n  class CartValidationComponentsModule {}\n  CartValidationComponentsModule.ɵfac = function CartValidationComponentsModule_Factory(t) {\n    return new (t || CartValidationComponentsModule)();\n  };\n  CartValidationComponentsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: CartValidationComponentsModule\n  });\n  CartValidationComponentsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [],\n    imports: [[CartValidationWarningsModule, CartItemValidationWarningModule]]\n  });\n  return CartValidationComponentsModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CartValidationGuard = /*#__PURE__*/(() => {\n  class CartValidationGuard {\n    constructor(cartValidationService, semanticPathService, router, globalMessageService, activeCartService, cartValidationStateService, cartConfigService) {\n      this.cartValidationService = cartValidationService;\n      this.semanticPathService = semanticPathService;\n      this.router = router;\n      this.globalMessageService = globalMessageService;\n      this.activeCartService = activeCartService;\n      this.cartValidationStateService = cartValidationStateService;\n      this.cartConfigService = cartConfigService;\n      this.GLOBAL_MESSAGE_TIMEOUT = 10000;\n    }\n    canActivate() {\n      return !this.cartConfigService.isCartValidationEnabled() ? of(true) : this.cartValidationService.validateCart().pipe(withLatestFrom(this.activeCartService.getEntries()), map(([cartModificationList, cartEntries]) => {\n        var _a;\n        this.cartValidationStateService.updateValidationResultAndRoutingId(cartModificationList === null || cartModificationList === void 0 ? void 0 : cartModificationList.cartModifications);\n        if (((_a = cartModificationList === null || cartModificationList === void 0 ? void 0 : cartModificationList.cartModifications) === null || _a === void 0 ? void 0 : _a.length) !== 0) {\n          let validationResultMessage;\n          if (cartEntries.length === 1 && cartEntries[0].product.code === (cartModificationList === null || cartModificationList === void 0 ? void 0 : cartModificationList.cartModifications[0].entry.product.code) && (cartModificationList === null || cartModificationList === void 0 ? void 0 : cartModificationList.cartModifications[0].statusCode) === CartValidationStatusCode.NO_STOCK) {\n            validationResultMessage = {\n              key: 'validation.cartEntryRemoved',\n              params: {\n                name: cartModificationList === null || cartModificationList === void 0 ? void 0 : cartModificationList.cartModifications[0].entry.product.name\n              }\n            };\n          } else {\n            validationResultMessage = {\n              key: 'validation.cartEntriesChangeDuringCheckout'\n            };\n          }\n          this.globalMessageService.add(validationResultMessage, GlobalMessageType.MSG_TYPE_ERROR, this.GLOBAL_MESSAGE_TIMEOUT);\n          this.activeCartService.reloadActiveCart();\n          return this.router.parseUrl(this.semanticPathService.get('cart'));\n        }\n        return true;\n      }));\n    }\n  }\n  CartValidationGuard.ɵfac = function CartValidationGuard_Factory(t) {\n    return new (t || CartValidationGuard)(i0.ɵɵinject(i1.CartValidationService), i0.ɵɵinject(i1.SemanticPathService), i0.ɵɵinject(i1$1.Router), i0.ɵɵinject(i1.GlobalMessageService), i0.ɵɵinject(i1.ActiveCartService), i0.ɵɵinject(CartValidationStateService), i0.ɵɵinject(i1.CartConfigService));\n  };\n  CartValidationGuard.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: CartValidationGuard,\n    factory: CartValidationGuard.ɵfac,\n    providedIn: 'root'\n  });\n  return CartValidationGuard;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet BannerComponent = /*#__PURE__*/(() => {\n  class BannerComponent {\n    constructor(component) {\n      this.component = component;\n      this.data$ = this.component.data$.pipe(tap(data => this.styleClasses = data.styleClasses));\n    }\n    /**\n     * Returns `_blank` to force opening the link in a new window whenever the\n     * `data.external` flag is set to true.\n     */\n    getTarget(data) {\n      return data.external === 'true' || data.external === true ? '_blank' : null;\n    }\n    getImage(data) {\n      if (data.media) {\n        if ('url' in data.media) {\n          return data.media;\n        } else {\n          return data.media;\n        }\n      }\n    }\n  }\n  BannerComponent.ɵfac = function BannerComponent_Factory(t) {\n    return new (t || BannerComponent)(i0.ɵɵdirectiveInject(CmsComponentData));\n  };\n  BannerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: BannerComponent,\n    selectors: [[\"cx-banner\"]],\n    hostVars: 2,\n    hostBindings: function BannerComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassMap(ctx.styleClasses);\n      }\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [3, \"url\", \"target\", 4, \"ngIf\"], [3, \"url\", \"target\"], [\"class\", \"headline\", 3, \"innerHTML\", 4, \"ngIf\"], [3, \"container\"], [\"class\", \"content\", 3, \"innerHTML\", 4, \"ngIf\"], [1, \"headline\", 3, \"innerHTML\"], [1, \"content\", 3, \"innerHTML\"]],\n    template: function BannerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, BannerComponent_ng_container_0_Template, 2, 1, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.data$));\n      }\n    },\n    directives: [i3.NgIf, GenericLinkComponent, MediaComponent],\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return BannerComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet BannerModule = /*#__PURE__*/(() => {\n  class BannerModule {}\n  BannerModule.ɵfac = function BannerModule_Factory(t) {\n    return new (t || BannerModule)();\n  };\n  BannerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: BannerModule\n  });\n  BannerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        SimpleResponsiveBannerComponent: {\n          component: BannerComponent\n        },\n        BannerComponent: {\n          component: BannerComponent\n        },\n        SimpleBannerComponent: {\n          component: BannerComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule, GenericLinkModule, MediaModule]]\n  });\n  return BannerModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Default component handler used for dynamically launching cms components implemented\n * as native Angular components.\n */\nlet DefaultComponentHandler = /*#__PURE__*/(() => {\n  class DefaultComponentHandler {\n    hasMatch(componentMapping) {\n      return typeof componentMapping.component === 'function';\n    }\n    getPriority() {\n      return -50 /* FALLBACK */;\n    }\n\n    launcher(componentMapping, viewContainerRef, elementInjector, module) {\n      return new Observable(subscriber => {\n        let componentRef;\n        const injector = elementInjector !== null && elementInjector !== void 0 ? elementInjector : viewContainerRef.injector;\n        const dispose = () => {\n          if (componentRef) {\n            componentRef.destroy();\n          }\n        };\n        const factory = this.getComponentFactory(injector, componentMapping.component);\n        if (factory) {\n          componentRef = viewContainerRef.createComponent(factory, undefined, injector, undefined, module);\n          subscriber.next({\n            elementRef: componentRef.location,\n            componentRef\n          });\n        }\n        return dispose;\n      });\n    }\n    getComponentFactory(injector, component) {\n      if (!component) {\n        return null;\n      }\n      const factory = injector.get(ComponentFactoryResolver).resolveComponentFactory(component);\n      return factory;\n    }\n  }\n  DefaultComponentHandler.ɵfac = function DefaultComponentHandler_Factory(t) {\n    return new (t || DefaultComponentHandler)();\n  };\n  DefaultComponentHandler.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: DefaultComponentHandler,\n    factory: DefaultComponentHandler.ɵfac,\n    providedIn: 'root'\n  });\n  return DefaultComponentHandler;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Lazy component handler used for launching lazy loaded cms components implemented\n * as native Angular components.\n */\nlet LazyComponentHandler = /*#__PURE__*/(() => {\n  class LazyComponentHandler {\n    constructor(defaultHandler) {\n      this.defaultHandler = defaultHandler;\n    }\n    /**\n     * We want to mach dynamic import signature () => import('')\n     */\n    hasMatch(componentMapping) {\n      return typeof componentMapping.component === 'function' && this.isNotClass(componentMapping.component);\n    }\n    isNotClass(symbol) {\n      const signature = symbol.toString().substr(0, 20).replace(' ', '');\n      return signature.startsWith('function()') || signature.startsWith('()=>');\n    }\n    getPriority() {\n      return -10 /* LOW */;\n    }\n\n    launcher(componentMapping, viewContainerRef, elementInjector, module) {\n      return from(componentMapping.component()).pipe(switchMap(component => this.defaultHandler.launcher(Object.assign(Object.assign({}, componentMapping), {\n        component\n      }), viewContainerRef, elementInjector, module)));\n    }\n  }\n  LazyComponentHandler.ɵfac = function LazyComponentHandler_Factory(t) {\n    return new (t || LazyComponentHandler)(i0.ɵɵinject(DefaultComponentHandler));\n  };\n  LazyComponentHandler.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: LazyComponentHandler,\n    factory: LazyComponentHandler.ɵfac,\n    providedIn: 'root'\n  });\n  return LazyComponentHandler;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet InnerComponentsHostDirective = /*#__PURE__*/(() => {\n  class InnerComponentsHostDirective {\n    constructor(data, vcr,\n    // dependencies required for ComponentWrapper directive\n    cmsComponentsService, injector, dynamicAttributeService, renderer, componentHandler, cmsInjector) {\n      this.data = data;\n      this.vcr = vcr;\n      this.cmsComponentsService = cmsComponentsService;\n      this.injector = injector;\n      this.dynamicAttributeService = dynamicAttributeService;\n      this.renderer = renderer;\n      this.componentHandler = componentHandler;\n      this.cmsInjector = cmsInjector;\n      this.innerComponents$ = this.data.data$.pipe(map(data => {\n        var _a, _b;\n        return (_b = (_a = data === null || data === void 0 ? void 0 : data.composition) === null || _a === void 0 ? void 0 : _a.inner) !== null && _b !== void 0 ? _b : [];\n      }));\n      this.componentWrappers = [];\n    }\n    ngOnInit() {\n      this.subscription = this.innerComponents$.subscribe(x => {\n        this.renderComponents(x);\n      });\n    }\n    renderComponents(components) {\n      this.clearComponents();\n      components.forEach(component => this.renderComponent(component));\n    }\n    renderComponent(component) {\n      const componentWrapper = new ComponentWrapperDirective(this.vcr, this.cmsComponentsService, this.injector, this.dynamicAttributeService, this.renderer, this.componentHandler, this.cmsInjector);\n      componentWrapper.cxComponentWrapper = {\n        flexType: component,\n        uid: ''\n      };\n      componentWrapper.ngOnInit();\n      this.componentWrappers.push(componentWrapper);\n    }\n    clearComponents() {\n      this.componentWrappers.forEach(wrapper => wrapper.ngOnDestroy());\n      this.componentWrappers = [];\n    }\n    ngOnDestroy() {\n      var _a;\n      (_a = this.subscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n      this.clearComponents();\n    }\n  }\n  InnerComponentsHostDirective.ɵfac = function InnerComponentsHostDirective_Factory(t) {\n    return new (t || InnerComponentsHostDirective)(i0.ɵɵdirectiveInject(CmsComponentData), i0.ɵɵdirectiveInject(i0.ViewContainerRef), i0.ɵɵdirectiveInject(CmsComponentsService), i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(i1.DynamicAttributeService), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(ComponentHandlerService), i0.ɵɵdirectiveInject(CmsInjectorService));\n  };\n  InnerComponentsHostDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: InnerComponentsHostDirective,\n    selectors: [[\"\", \"cxInnerComponentsHost\", \"\"]]\n  });\n  return InnerComponentsHostDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PageComponentModule = /*#__PURE__*/(() => {\n  class PageComponentModule {\n    static forRoot() {\n      return {\n        ngModule: PageComponentModule,\n        providers: [{\n          provide: ComponentHandler,\n          useExisting: DefaultComponentHandler,\n          multi: true\n        }, {\n          provide: ComponentHandler,\n          useExisting: LazyComponentHandler,\n          multi: true\n        }]\n      };\n    }\n  }\n  PageComponentModule.ɵfac = function PageComponentModule_Factory(t) {\n    return new (t || PageComponentModule)();\n  };\n  PageComponentModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: PageComponentModule\n  });\n  PageComponentModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule]]\n  });\n  return PageComponentModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PageSlotModule = /*#__PURE__*/(() => {\n  class PageSlotModule {\n    // instantiate PageSlotService ASAP, so it can examine SSR pre-rendered DOM\n    constructor(_pageSlot) {}\n  }\n  PageSlotModule.ɵfac = function PageSlotModule_Factory(t) {\n    return new (t || PageSlotModule)(i0.ɵɵinject(PageSlotService));\n  };\n  PageSlotModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: PageSlotModule\n  });\n  PageSlotModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, OutletModule, PageComponentModule]]\n  });\n  return PageSlotModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PageLayoutModule = /*#__PURE__*/(() => {\n  class PageLayoutModule {}\n  PageLayoutModule.ɵfac = function PageLayoutModule_Factory(t) {\n    return new (t || PageLayoutModule)();\n  };\n  PageLayoutModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: PageLayoutModule\n  });\n  PageLayoutModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, OutletModule, PageSlotModule]]\n  });\n  return PageLayoutModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PWAModuleConfig = /*#__PURE__*/(() => {\n  class PWAModuleConfig {}\n  PWAModuleConfig.ɵfac = function PWAModuleConfig_Factory(t) {\n    return new (t || PWAModuleConfig)();\n  };\n  PWAModuleConfig.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: PWAModuleConfig,\n    factory: function PWAModuleConfig_Factory(t) {\n      let r = null;\n      if (t) {\n        r = new (t || PWAModuleConfig)();\n      } else {\n        r = i0.ɵɵinject(Config);\n      }\n      return r;\n    },\n    providedIn: 'root'\n  });\n  return PWAModuleConfig;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst defaultPWAModuleConfig = {\n  pwa: {\n    enabled: false,\n    addToHomeScreen: false\n  }\n};\nlet AddToHomeScreenService = /*#__PURE__*/(() => {\n  class AddToHomeScreenService {\n    constructor(config, globalMessageService, winRef) {\n      this.config = config;\n      this.globalMessageService = globalMessageService;\n      this.winRef = winRef;\n      this.canPrompt = new BehaviorSubject(false);\n      this.canPrompt$ = this.canPrompt.asObservable();\n      if (this.config.pwa.addToHomeScreen) {\n        this.init();\n      }\n    }\n    init() {\n      if (this.winRef.nativeWindow) {\n        this.winRef.nativeWindow.addEventListener('beforeinstallprompt', event => {\n          event.preventDefault();\n          this.deferredEvent = event;\n          this.enableAddToHomeScreen();\n        });\n        this.winRef.nativeWindow.addEventListener('appinstalled', () => {\n          this.globalMessageService.add({\n            key: 'pwa.addedToHomeScreen'\n          }, GlobalMessageType.MSG_TYPE_CONFIRMATION);\n          this.disableAddToHomeScreen();\n          this.deferredEvent = null;\n        });\n      }\n    }\n    enableAddToHomeScreen() {\n      this.canPrompt.next(true);\n    }\n    disableAddToHomeScreen() {\n      this.canPrompt.next(false);\n    }\n    firePrompt() {\n      if (this.deferredEvent) {\n        this.deferredEvent.prompt();\n      }\n    }\n  }\n  AddToHomeScreenService.ɵfac = function AddToHomeScreenService_Factory(t) {\n    return new (t || AddToHomeScreenService)(i0.ɵɵinject(PWAModuleConfig), i0.ɵɵinject(i1.GlobalMessageService), i0.ɵɵinject(i1.WindowRef));\n  };\n  AddToHomeScreenService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: AddToHomeScreenService,\n    factory: AddToHomeScreenService.ɵfac,\n    providedIn: 'root'\n  });\n  return AddToHomeScreenService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n// eslint-disable-next-line @angular-eslint/directive-class-suffix\nlet AddToHomeScreenComponent = /*#__PURE__*/(() => {\n  class AddToHomeScreenComponent {\n    constructor(addToHomeScreenService) {\n      this.addToHomeScreenService = addToHomeScreenService;\n    }\n    ngOnInit() {\n      this.canPrompt$ = this.addToHomeScreenService.canPrompt$;\n    }\n    prompt() {\n      this.addToHomeScreenService.firePrompt();\n    }\n  }\n  AddToHomeScreenComponent.ɵfac = function AddToHomeScreenComponent_Factory(t) {\n    return new (t || AddToHomeScreenComponent)(i0.ɵɵdirectiveInject(AddToHomeScreenService));\n  };\n  AddToHomeScreenComponent.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: AddToHomeScreenComponent\n  });\n  return AddToHomeScreenComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AddToHomeScreenBannerComponent = /*#__PURE__*/(() => {\n  class AddToHomeScreenBannerComponent extends AddToHomeScreenComponent {\n    constructor(addToHomeScreenService) {\n      super(addToHomeScreenService);\n      this.addToHomeScreenService = addToHomeScreenService;\n    }\n  }\n  AddToHomeScreenBannerComponent.ɵfac = function AddToHomeScreenBannerComponent_Factory(t) {\n    return new (t || AddToHomeScreenBannerComponent)(i0.ɵɵdirectiveInject(AddToHomeScreenService));\n  };\n  AddToHomeScreenBannerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: AddToHomeScreenBannerComponent,\n    selectors: [[\"cx-add-to-home-screen-banner\"]],\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [1, \"cx-add-to-home-screen-banner\"], [1, \"cx-add-to-home-screen-banner-inner\"], [1, \"btn\", \"btn-primary\", 3, \"click\"]],\n    template: function AddToHomeScreenBannerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, AddToHomeScreenBannerComponent_div_0_Template, 16, 12, \"div\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.canPrompt$));\n      }\n    },\n    directives: [i3.NgIf],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return AddToHomeScreenBannerComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AddToHomeScreenBtnComponent = /*#__PURE__*/(() => {\n  class AddToHomeScreenBtnComponent extends AddToHomeScreenComponent {\n    constructor(addToHomeScreenService) {\n      super(addToHomeScreenService);\n      this.addToHomeScreenService = addToHomeScreenService;\n    }\n  }\n  AddToHomeScreenBtnComponent.ɵfac = function AddToHomeScreenBtnComponent_Factory(t) {\n    return new (t || AddToHomeScreenBtnComponent)(i0.ɵɵdirectiveInject(AddToHomeScreenService));\n  };\n  AddToHomeScreenBtnComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: AddToHomeScreenBtnComponent,\n    selectors: [[\"cx-add-to-home-screen-btn\"]],\n    features: [i0.ɵɵInheritDefinitionFeature],\n    ngContentSelectors: _c1,\n    decls: 3,\n    vars: 3,\n    consts: [[3, \"click\"], [4, \"ngIf\"]],\n    template: function AddToHomeScreenBtnComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵelementStart(0, \"span\", 0);\n        i0.ɵɵlistener(\"click\", function AddToHomeScreenBtnComponent_Template_span_click_0_listener() {\n          return ctx.prompt();\n        });\n        i0.ɵɵtemplate(1, AddToHomeScreenBtnComponent_ng_content_1_Template, 1, 0, \"ng-content\", 1);\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx.canPrompt$));\n      }\n    },\n    directives: [i3.NgIf],\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2\n  });\n  return AddToHomeScreenBtnComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction pwaConfigurationFactory(pwaConfig) {\n  return {\n    enabled: !isDevMode() && pwaConfig.pwa.enabled || false\n  };\n}\nfunction pwaFactory(addToHomeScreenService) {\n  const result = () => addToHomeScreenService;\n  return result;\n}\nlet PwaModule = /*#__PURE__*/(() => {\n  class PwaModule {}\n  PwaModule.ɵfac = function PwaModule_Factory(t) {\n    return new (t || PwaModule)();\n  };\n  PwaModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: PwaModule\n  });\n  PwaModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig(defaultPWAModuleConfig), {\n      provide: SwRegistrationOptions,\n      useFactory: pwaConfigurationFactory,\n      deps: [Config]\n    }, {\n      provide: APP_INITIALIZER,\n      useFactory: pwaFactory,\n      deps: [AddToHomeScreenService],\n      multi: true\n    }],\n    imports: [[CommonModule, ServiceWorkerModule.register('ngsw-worker.js'), I18nModule]]\n  });\n  return PwaModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst cmsRoute = {\n  path: '**',\n  canActivate: [CmsPageGuard],\n  component: PageLayoutComponent\n};\nfunction addCmsRoute(injector) {\n  const result = () => {\n    const router = injector.get(Router);\n    router.config.push(cmsRoute);\n  };\n  return result;\n}\nlet CmsRouteModule = /*#__PURE__*/(() => {\n  class CmsRouteModule {}\n  CmsRouteModule.ɵfac = function CmsRouteModule_Factory(t) {\n    return new (t || CmsRouteModule)();\n  };\n  CmsRouteModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: CmsRouteModule\n  });\n  CmsRouteModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [{\n      provide: APP_INITIALIZER,\n      multi: true,\n      deps: [Injector],\n      useFactory: addCmsRoute\n    }]\n  });\n  return CmsRouteModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst defaultStorefrontRoutesConfig = {\n  home: {\n    paths: ['']\n  },\n  notFound: {\n    paths: ['not-found']\n  },\n  cart: {\n    paths: ['cart']\n  },\n  // semantic links for login related pages\n  login: {\n    paths: ['login'],\n    protected: false,\n    authFlow: true\n  },\n  register: {\n    paths: ['login/register'],\n    protected: false,\n    authFlow: true\n  },\n  forgotPassword: {\n    paths: ['login/forgot-password'],\n    protected: false,\n    authFlow: true\n  },\n  resetPassword: {\n    paths: ['login/pw/change'],\n    protected: false,\n    authFlow: true\n  },\n  logout: {\n    paths: ['logout'],\n    protected: false,\n    authFlow: true\n  },\n  // plp routes\n  search: {\n    paths: ['search/:query']\n  },\n  category: {\n    paths: ['category/:categoryCode'],\n    paramsMapping: {\n      categoryCode: 'code'\n    }\n  },\n  brand: {\n    paths: ['Brands/:brandName/c/:brandCode']\n  },\n  // pdp routes\n  product: {\n    paths: ['product/:productCode/:name'],\n    paramsMapping: {\n      productCode: 'code'\n    }\n  },\n  termsAndConditions: {\n    paths: ['terms-and-conditions']\n  },\n  /** @deprecated since 4.2, use order lib instead */\n  orders: {\n    paths: ['my-account/orders']\n  },\n  /** @deprecated since 4.2, use order lib instead */\n  orderDetails: {\n    paths: ['my-account/order/:orderCode'],\n    paramsMapping: {\n      orderCode: 'code'\n    }\n  },\n  /** @deprecated since 4.2, use order lib instead */\n  orderGuest: {\n    paths: ['guest/order/:orderCode'],\n    paramsMapping: {\n      orderCode: 'code'\n    }\n  },\n  /** @deprecated since 4.2, use order lib instead */\n  orderReturn: {\n    paths: ['my-account/order/return/:orderCode'],\n    paramsMapping: {\n      orderCode: 'code'\n    }\n  },\n  /** @deprecated since 4.2, use order lib instead */\n  orderReturnConfirmation: {\n    paths: ['my-account/order/return/confirmation/:orderCode'],\n    paramsMapping: {\n      orderCode: 'code'\n    }\n  },\n  /** @deprecated since 4.2, use order lib instead */\n  orderCancel: {\n    paths: ['my-account/order/cancel/:orderCode'],\n    paramsMapping: {\n      orderCode: 'code'\n    }\n  },\n  /** @deprecated since 4.2, use order lib instead */\n  orderCancelConfirmation: {\n    paths: ['my-account/order/cancel/confirmation/:orderCode'],\n    paramsMapping: {\n      orderCode: 'code'\n    }\n  },\n  /** @deprecated since 4.2, use order lib instead */\n  returnRequestDetails: {\n    paths: ['my-account/return-request/:returnCode'],\n    paramsMapping: {\n      returnCode: 'rma'\n    }\n  },\n  coupons: {\n    paths: ['my-account/coupons']\n  },\n  couponClaim: {\n    paths: ['my-account/coupon/claim/:couponCode'],\n    paramsMapping: {\n      couponCode: 'code'\n    }\n  },\n  /** @deprecated since 4.2, use order lib instead */\n  replenishmentOrders: {\n    paths: ['my-account/my-replenishments']\n  },\n  /** @deprecated since 4.2, use order lib instead */\n  replenishmentDetails: {\n    paths: ['my-account/my-replenishment/:replenishmentOrderCode'],\n    paramsMapping: {\n      replenishmentOrderCode: 'replenishmentOrderCode'\n    }\n  }\n};\nconst defaultRoutingConfig = {\n  routing: {\n    routes: defaultStorefrontRoutesConfig\n  }\n};\nlet RoutingModule = /*#__PURE__*/(() => {\n  class RoutingModule {\n    static forRoot() {\n      return {\n        ngModule: RoutingModule,\n        providers: [provideDefaultConfig(defaultRoutingConfig)]\n      };\n    }\n  }\n  RoutingModule.ɵfac = function RoutingModule_Factory(t) {\n    return new (t || RoutingModule)();\n  };\n  RoutingModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: RoutingModule\n  });\n  RoutingModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[RoutingModule$1.forRoot(), CmsRouteModule]]\n  });\n  return RoutingModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Matches the pattern '[ ** / ] marker / :paramName'\n *\n * @param marker phrase that indicates the start of the match\n * @param paramName name of the parameter present after the marker\n * @param precedingParamName name of the parameter for every preceding url segment\n *        i.e. `param` will result in `param0`, `param1`, ...\n */\nfunction getSuffixUrlMatcher({\n  marker,\n  paramName,\n  precedingParamName\n}) {\n  precedingParamName = precedingParamName || 'param';\n  const matcher = function suffixUrlMatcher(segments) {\n    const markerIndex = findLastIndex(segments, ({\n      path\n    }) => path === marker);\n    const isMarkerLastSegment = markerIndex === segments.length - 1;\n    if (markerIndex === -1 || isMarkerLastSegment) {\n      return null;\n    }\n    const paramIndex = markerIndex + 1;\n    const posParams = {\n      [paramName]: segments[paramIndex]\n    };\n    for (let i = 0; i < markerIndex; i++) {\n      posParams[`${precedingParamName}${i}`] = segments[i];\n    }\n    return {\n      consumed: segments.slice(0, paramIndex + 1),\n      posParams\n    };\n  };\n  if (isDevMode()) {\n    matcher['_suffixRouteConfig'] = {\n      marker,\n      paramName,\n      precedingParamName\n    }; // property added for easier debugging of routes\n  }\n\n  return matcher;\n}\nfunction findLastIndex(elements, predicate) {\n  for (let index = elements.length - 1; index >= 0; index--) {\n    if (predicate(elements[index])) {\n      return index;\n    }\n  }\n  return -1;\n}\nlet PageMetaLinkService = /*#__PURE__*/(() => {\n  class PageMetaLinkService {\n    constructor(winRef, rendererFactory) {\n      this.winRef = winRef;\n      this.rendererFactory = rendererFactory;\n    }\n    /**\n     * Adds a canonical link element to the document head.\n     *\n     * If an id is provided, the link will be updated.\n     * If no url is provided, the link element will be deleted.\n     */\n    setCanonicalLink(url) {\n      let link = this.winRef.document.querySelector('link[rel=\"canonical\"]');\n      if (!url) {\n        // Removing the link is an edge case, but useful if the canonical url\n        // is created in CSR while developing/testing.\n        link === null || link === void 0 ? void 0 : link.remove();\n        return;\n      }\n      if (!link) {\n        link = this.renderer.createElement('link');\n        link.rel = 'canonical';\n        link.href = url;\n        this.renderer.appendChild(this.winRef.document.head, link);\n      } else {\n        link === null || link === void 0 ? void 0 : link.setAttribute('href', url);\n      }\n    }\n    get renderer() {\n      return this.rendererFactory.createRenderer(null, null);\n    }\n  }\n  PageMetaLinkService.ɵfac = function PageMetaLinkService_Factory(t) {\n    return new (t || PageMetaLinkService)(i0.ɵɵinject(i1.WindowRef), i0.ɵɵinject(i0.RendererFactory2));\n  };\n  PageMetaLinkService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: PageMetaLinkService,\n    factory: PageMetaLinkService.ɵfac,\n    providedIn: 'root'\n  });\n  return PageMetaLinkService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet SeoMetaService = /*#__PURE__*/(() => {\n  class SeoMetaService {\n    constructor(ngTitle, ngMeta, pageMetaService, pageMetaLinkService) {\n      this.ngTitle = ngTitle;\n      this.ngMeta = ngMeta;\n      this.pageMetaService = pageMetaService;\n      this.pageMetaLinkService = pageMetaLinkService;\n    }\n    init() {\n      this.subscription = this.pageMetaService.getMeta().pipe(filter(isNotNullable)).subscribe(meta => this.meta = meta);\n    }\n    set meta(meta) {\n      this.title = meta.title;\n      this.description = meta.description;\n      this.image = meta.image;\n      this.robots = meta.robots;\n      this.canonicalUrl = meta.canonicalUrl;\n    }\n    set title(title) {\n      this.ngTitle.setTitle(title || '');\n    }\n    set description(value) {\n      if (value) {\n        this.addTag({\n          name: 'description',\n          content: value || ''\n        });\n      } else {\n        this.ngMeta.removeTag('name=\"description\"');\n      }\n    }\n    set image(imageUrl) {\n      if (imageUrl) {\n        this.addTag({\n          name: 'og:image',\n          content: imageUrl\n        });\n      } else {\n        this.ngMeta.removeTag('name=\"og:image\"');\n      }\n    }\n    set robots(value) {\n      if (value && value.length > 0) {\n        this.addTag({\n          name: 'robots',\n          content: value.join(', ')\n        });\n      }\n    }\n    /**\n     * Add the canonical Url to the head of the page.\n     *\n     * If the canonical url already exists the link is removed. This is quite\n     * unlikely though, since canonical links are (typically) only added in SSR.\n     */\n    set canonicalUrl(url) {\n      var _a;\n      (_a = this.pageMetaLinkService) === null || _a === void 0 ? void 0 : _a.setCanonicalLink(url);\n    }\n    addTag(meta) {\n      if (meta.content) {\n        this.ngMeta.updateTag(meta);\n      }\n    }\n    ngOnDestroy() {\n      if (this.subscription) {\n        this.subscription.unsubscribe();\n      }\n    }\n  }\n  SeoMetaService.ɵfac = function SeoMetaService_Factory(t) {\n    return new (t || SeoMetaService)(i0.ɵɵinject(i1$2.Title), i0.ɵɵinject(i1$2.Meta), i0.ɵɵinject(i1.PageMetaService), i0.ɵɵinject(PageMetaLinkService));\n  };\n  SeoMetaService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: SeoMetaService,\n    factory: SeoMetaService.ɵfac,\n    providedIn: 'root'\n  });\n  return SeoMetaService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst defaultSeoConfig = {\n  seo: {\n    structuredData: {\n      disableInDevMode: true\n    }\n  }\n};\nlet SeoConfig = /*#__PURE__*/(() => {\n  class SeoConfig {}\n  SeoConfig.ɵfac = function SeoConfig_Factory(t) {\n    return new (t || SeoConfig)();\n  };\n  SeoConfig.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: SeoConfig,\n    factory: function SeoConfig_Factory(t) {\n      let r = null;\n      if (t) {\n        r = new (t || SeoConfig)();\n      } else {\n        r = i0.ɵɵinject(Config);\n      }\n      return r;\n    },\n    providedIn: 'root'\n  });\n  return SeoConfig;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst htmlLangProvider = {\n  provide: APP_INITIALIZER,\n  multi: true,\n  useFactory: setHtmlLangAttribute,\n  deps: [WindowRef, LanguageService]\n};\n/**\n * Sets active language in <html lang=\"\">\n */\nfunction setHtmlLangAttribute(winRef, languageService) {\n  const result = () => {\n    languageService.getActive().subscribe(lang => {\n      winRef.document.documentElement.lang = lang.replace(/_/g, '-');\n    });\n  };\n  return result;\n}\nlet JsonLdScriptFactory = /*#__PURE__*/(() => {\n  class JsonLdScriptFactory {\n    constructor(platformId, winRef, rendererFactory, sanitizer, config) {\n      this.platformId = platformId;\n      this.winRef = winRef;\n      this.rendererFactory = rendererFactory;\n      this.sanitizer = sanitizer;\n      this.config = config;\n    }\n    build(schema) {\n      if (schema && this.isJsonLdRequired()) {\n        this.getJsonLdScriptElement().innerHTML = this.sanitize(schema);\n      }\n    }\n    /**\n     * Indicates whether json ld data should be generated.\n     *\n     * This is only required on the server, but can be enabled in dev mode.\n     */\n    isJsonLdRequired() {\n      var _a, _b;\n      return !isPlatformBrowser(this.platformId) || isDevMode() && !((_b = (_a = this.config.seo) === null || _a === void 0 ? void 0 : _a.structuredData) === null || _b === void 0 ? void 0 : _b.disableInDevMode);\n    }\n    /**\n     * Creates a json-ld script element. The element is created one, and appended\n     * to the html body element.\n     *\n     * ```html\n     * <script id=\"json-ld\" type=\"application/ld+json\">\n     * </script>\n     * ```\n     */\n    getJsonLdScriptElement() {\n      const id = 'json-ld';\n      let scriptElement = this.winRef.document.getElementById(id);\n      if (!scriptElement) {\n        const renderer = this.rendererFactory.createRenderer(null, null);\n        const script = renderer.createElement('script');\n        script.id = id;\n        script.type = 'application/ld+json';\n        renderer.appendChild(this.winRef.document.body, script);\n        scriptElement = script;\n      }\n      return scriptElement;\n    }\n    /**\n     * Sanitizes the given json-ld schema by leveraging the angular HTML sanitizer.\n     *\n     * The given schema is not trusted, as malicious code could be injected (XSS)\n     * into the json-ld script.\n     */\n    sanitize(schema) {\n      return JSON.stringify(schema, (_key, value) => typeof value === 'string' ? this.sanitizer.sanitize(SecurityContext.HTML, value) : value);\n    }\n  }\n  JsonLdScriptFactory.ɵfac = function JsonLdScriptFactory_Factory(t) {\n    return new (t || JsonLdScriptFactory)(i0.ɵɵinject(PLATFORM_ID), i0.ɵɵinject(i1.WindowRef), i0.ɵɵinject(i0.RendererFactory2), i0.ɵɵinject(i1$2.DomSanitizer), i0.ɵɵinject(SeoConfig));\n  };\n  JsonLdScriptFactory.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: JsonLdScriptFactory,\n    factory: JsonLdScriptFactory.ɵfac,\n    providedIn: 'root'\n  });\n  return JsonLdScriptFactory;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Low level directive that adds a json-ld script tag to the component.\n * This code bypasses the strict XSS security, as otherwise we're not able\n * to append a script tag with JS inside.\n *\n * This helper directive is actually not used in Spartacus, as Spartacus\n * appends json-ld the data to the document body.\n *\n * This directive can however be used by merchants to write static schema data\n * to the DOM in a save way.\n */\nlet JsonLdDirective = /*#__PURE__*/(() => {\n  class JsonLdDirective {\n    constructor(jsonLdScriptFactory, sanitizer) {\n      this.jsonLdScriptFactory = jsonLdScriptFactory;\n      this.sanitizer = sanitizer;\n    }\n    /**\n     * Writes the schema data to a json-ld script element.\n     */\n    set cxJsonLd(schema) {\n      this.jsonLD = this.generateJsonLdScript(schema);\n    }\n    /**\n     * Returns the json-ld script tag with the schema data. The script is\n     * _bypassing_ sanitization explicitly.\n     */\n    generateJsonLdScript(schema) {\n      if (schema && this.jsonLdScriptFactory.isJsonLdRequired()) {\n        const sanitizedSchema = this.jsonLdScriptFactory.sanitize(schema);\n        const html = `<script type=\"application/ld+json\">${sanitizedSchema}</script>`;\n        return this.sanitizer.bypassSecurityTrustHtml(html);\n      }\n    }\n  }\n  JsonLdDirective.ɵfac = function JsonLdDirective_Factory(t) {\n    return new (t || JsonLdDirective)(i0.ɵɵdirectiveInject(JsonLdScriptFactory), i0.ɵɵdirectiveInject(i1$2.DomSanitizer));\n  };\n  JsonLdDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: JsonLdDirective,\n    selectors: [[\"\", \"cxJsonLd\", \"\"]],\n    hostVars: 1,\n    hostBindings: function JsonLdDirective_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵhostProperty(\"innerHTML\", ctx.jsonLD, i0.ɵɵsanitizeHtml);\n      }\n    },\n    inputs: {\n      cxJsonLd: \"cxJsonLd\"\n    }\n  });\n  return JsonLdDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Injection token to extend schema builders for adding structural data (json-ld).\n *\n * Some builders (i.e. `JSONLD_PRODUCT_BUILDER`) might have additional\n * lower level builder to further extend the schema.\n */\nconst SCHEMA_BUILDER = new InjectionToken('SchemaBuilderToken');\n/**\n * Injection token to add specific json-ld builders for product related schemas.\n * See see https://schema.org/product for more information.\n */\nconst JSONLD_PRODUCT_BUILDER = new InjectionToken('JsonLdProductBuilderToken');\n\n/**\n * Factory service that is used to build the structured data for\n * all configured schema builders.\n */\nlet StructuredDataFactory = /*#__PURE__*/(() => {\n  class StructuredDataFactory {\n    constructor(scriptBuilder, builders) {\n      this.scriptBuilder = scriptBuilder;\n      this.builders = builders;\n      this.subscription = new Subscription();\n    }\n    /**\n     * Initiates the build of structured data by collecting all schema\n     * builders.\n     */\n    build() {\n      if (this.scriptBuilder.isJsonLdRequired() && this.builders) {\n        this.subscription.add(this.collectSchemas().subscribe(schema => {\n          this.scriptBuilder.build(schema);\n        }));\n      }\n    }\n    /**\n     * Collects all schema builders and observe their structured data.\n     */\n    collectSchemas() {\n      return combineLatest(this.builders.map(builder => builder.build()));\n    }\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n    }\n  }\n  StructuredDataFactory.ɵfac = function StructuredDataFactory_Factory(t) {\n    return new (t || StructuredDataFactory)(i0.ɵɵinject(JsonLdScriptFactory), i0.ɵɵinject(SCHEMA_BUILDER, 8));\n  };\n  StructuredDataFactory.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: StructuredDataFactory,\n    factory: StructuredDataFactory.ɵfac,\n    providedIn: 'root'\n  });\n  return StructuredDataFactory;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Factory to build the structure data\n * without any interaction with the UI.\n */\nfunction getStructuredDataFactory(injector) {\n  const result = () => {\n    const factory = injector.get(StructuredDataFactory);\n    factory.build();\n  };\n  return result;\n}\nlet StructuredDataModule = /*#__PURE__*/(() => {\n  class StructuredDataModule {}\n  StructuredDataModule.ɵfac = function StructuredDataModule_Factory(t) {\n    return new (t || StructuredDataModule)();\n  };\n  StructuredDataModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: StructuredDataModule\n  });\n  StructuredDataModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [{\n      provide: APP_INITIALIZER,\n      useFactory: getStructuredDataFactory,\n      deps: [Injector],\n      multi: true\n    }],\n    imports: [[CommonModule]]\n  });\n  return StructuredDataModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction initSeoService(injector) {\n  const result = () => {\n    const service = injector.get(SeoMetaService);\n    service.init();\n  };\n  return result;\n}\nlet SeoModule = /*#__PURE__*/(() => {\n  class SeoModule {}\n  SeoModule.ɵfac = function SeoModule_Factory(t) {\n    return new (t || SeoModule)();\n  };\n  SeoModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: SeoModule\n  });\n  SeoModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig(defaultSeoConfig), {\n      provide: APP_INITIALIZER,\n      useFactory: initSeoService,\n      deps: [Injector],\n      multi: true\n    }, htmlLangProvider],\n    imports: [[StructuredDataModule]]\n  });\n  return SeoModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet BreadcrumbSchemaBuilder = /*#__PURE__*/(() => {\n  class BreadcrumbSchemaBuilder {\n    constructor(pageMetaService) {\n      this.pageMetaService = pageMetaService;\n    }\n    build() {\n      return this.pageMetaService.getMeta().pipe(map(pageMeta => this.collect(pageMeta)));\n    }\n    collect(pageMeta) {\n      if (!(pageMeta === null || pageMeta === void 0 ? void 0 : pageMeta.breadcrumbs)) {\n        return;\n      }\n      const crumbs = pageMeta.breadcrumbs.map((crumb, index) => {\n        return {\n          '@type': 'ListItem',\n          position: index + 1,\n          item: {\n            '@id': crumb.link,\n            name: crumb.label\n          }\n        };\n      });\n      if (pageMeta.title) {\n        crumbs.push({\n          '@type': 'ListItem',\n          position: crumbs.length + 1,\n          item: {\n            '@id': pageMeta.title,\n            name: pageMeta.title\n          }\n        });\n      }\n      return {\n        '@context': 'http://schema.org',\n        '@type': 'BreadcrumbList',\n        itemListElement: crumbs\n      };\n    }\n  }\n  BreadcrumbSchemaBuilder.ɵfac = function BreadcrumbSchemaBuilder_Factory(t) {\n    return new (t || BreadcrumbSchemaBuilder)(i0.ɵɵinject(i1.PageMetaService));\n  };\n  BreadcrumbSchemaBuilder.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: BreadcrumbSchemaBuilder,\n    factory: BreadcrumbSchemaBuilder.ɵfac,\n    providedIn: 'root'\n  });\n  return BreadcrumbSchemaBuilder;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Builds the basic structured data for the product, see https://schema.org/product.\n * This builder includes data for sku number, name, description, brand and main image.\n */\nlet JsonLdBaseProductBuilder = /*#__PURE__*/(() => {\n  class JsonLdBaseProductBuilder {\n    build(product) {\n      return of(Object.assign(Object.assign(Object.assign({}, this.getProductBase(product)), this.getProductBrand(product)), this.getProductImage(product)));\n    }\n    /**\n     * Returns the product sku, name and description.\n     */\n    getProductBase(product) {\n      const result = {\n        sku: product.code\n      };\n      if (product.name) {\n        result.name = product.name;\n      }\n      if (product.summary) {\n        result.description = product.summary;\n      }\n      return result;\n    }\n    /**\n     * Returns the image object with the main product image url.\n     *\n     * If the image is not available, an empty object is returned.\n     */\n    getProductImage(product) {\n      var _a, _b, _c;\n      const image = (_c = (_b = (_a = product.images) === null || _a === void 0 ? void 0 : _a.PRIMARY) === null || _b === void 0 ? void 0 : _b['zoom']) === null || _c === void 0 ? void 0 : _c.url;\n      return image ? {\n        image\n      } : {};\n    }\n    /**\n     * Returns the brand object with the product manufacturer.\n     *\n     * If the brand is not available, an empty object is returned.\n     */\n    getProductBrand(product) {\n      const brand = product.manufacturer;\n      return brand ? {\n        brand\n      } : {};\n    }\n  }\n  JsonLdBaseProductBuilder.ɵfac = function JsonLdBaseProductBuilder_Factory(t) {\n    return new (t || JsonLdBaseProductBuilder)();\n  };\n  JsonLdBaseProductBuilder.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: JsonLdBaseProductBuilder,\n    factory: JsonLdBaseProductBuilder.ɵfac,\n    providedIn: 'root'\n  });\n  return JsonLdBaseProductBuilder;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Builds the structured data for the product offer, see https://schema.org/offers.\n * The data includes the price, currency and availability level.\n */\nlet JsonLdProductOfferBuilder = /*#__PURE__*/(() => {\n  class JsonLdProductOfferBuilder {\n    build(product) {\n      var _a;\n      const schema = {\n        '@type': 'Offer'\n      };\n      if ((_a = product.price) === null || _a === void 0 ? void 0 : _a.value) {\n        schema.price = product.price.value;\n        if (product.price.currencyIso) {\n          schema.priceCurrency = product.price.currencyIso;\n        }\n      }\n      if (product.stock && product.stock.stockLevelStatus) {\n        schema.availability = product.stock.stockLevelStatus === 'inStock' ? 'InStock' : 'OutOfStock';\n      }\n      return of({\n        offers: schema\n      });\n    }\n  }\n  JsonLdProductOfferBuilder.ɵfac = function JsonLdProductOfferBuilder_Factory(t) {\n    return new (t || JsonLdProductOfferBuilder)();\n  };\n  JsonLdProductOfferBuilder.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: JsonLdProductOfferBuilder,\n    factory: JsonLdProductOfferBuilder.ɵfac,\n    providedIn: 'root'\n  });\n  return JsonLdProductOfferBuilder;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Builds the structured data for the product reviews, see https://schema.org/Review.\n * The data includes the aggregated product rating and the individual reviews.\n */\nlet JsonLdProductReviewBuilder = /*#__PURE__*/(() => {\n  class JsonLdProductReviewBuilder {\n    constructor(reviewService, config) {\n      this.reviewService = reviewService;\n      this.config = config;\n    }\n    build(product) {\n      return this.reviewService.getByProductCode(product.code).pipe(map(reviews => (reviews === null || reviews === void 0 ? void 0 : reviews.length) > 0 ? {\n        aggregateRating: this.buildAggregatedReviews(product, reviews),\n        review: reviews.map(review => this.buildReviews(review))\n      } : {}));\n    }\n    buildAggregatedReviews(product, reviews) {\n      const aggregated = {\n        '@type': 'AggregateRating'\n      };\n      if (product.averageRating) {\n        aggregated.ratingValue = product.averageRating;\n      }\n      if (reviews) {\n        aggregated.ratingCount = reviews.filter(rev => !!rev.rating).length;\n        aggregated.reviewCount = reviews.filter(rev => !!rev.comment).length;\n      }\n      return aggregated;\n    }\n    buildReviews(review) {\n      const reviewSchema = {\n        '@type': 'review'\n      };\n      if (review.principal && review.principal.name) {\n        reviewSchema.author = review.principal.name;\n      }\n      if (review.date) {\n        const date = new Date(review.date);\n        reviewSchema.datePublished = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\n      }\n      if (review.headline) {\n        reviewSchema.name = review.headline;\n      }\n      if (review.comment) {\n        reviewSchema.description = review.comment;\n      }\n      if (review.rating) {\n        reviewSchema.reviewRating = {\n          '@type': 'Rating',\n          ratingValue: review.rating.toString()\n        };\n      }\n      return reviewSchema;\n    }\n  }\n  JsonLdProductReviewBuilder.ɵfac = function JsonLdProductReviewBuilder_Factory(t) {\n    return new (t || JsonLdProductReviewBuilder)(i0.ɵɵinject(i1.ProductReviewService), i0.ɵɵinject(SeoConfig));\n  };\n  JsonLdProductReviewBuilder.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: JsonLdProductReviewBuilder,\n    factory: JsonLdProductReviewBuilder.ɵfac,\n    providedIn: 'root'\n  });\n  return JsonLdProductReviewBuilder;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Adds the minimal structured data for the product, see https://schema.org/product.\n * The actual data collection is delegated to `JsonLdBuilder`s, which can be injected\n * using the `JSONLD_PRODUCT_BUILDER` token.\n */\nlet ProductSchemaBuilder = /*#__PURE__*/(() => {\n  class ProductSchemaBuilder {\n    constructor(currentProduct, builders) {\n      this.currentProduct = currentProduct;\n      this.builders = builders;\n    }\n    build() {\n      return this.currentProduct.getProduct().pipe(switchMap(product => {\n        if (product) {\n          return combineLatest(this.collect(product)).pipe(map(res => Object.assign({}, ...res)));\n        }\n        return of({});\n      }));\n    }\n    collect(product) {\n      if (!product || !product.code) {\n        return [];\n      }\n      const builders = this.builders ? this.builders.map(builder => builder.build(product)) : [];\n      return [of({\n        '@context': 'http://schema.org',\n        '@type': 'Product'\n      }), ...builders];\n    }\n  }\n  ProductSchemaBuilder.ɵfac = function ProductSchemaBuilder_Factory(t) {\n    return new (t || ProductSchemaBuilder)(i0.ɵɵinject(CurrentProductService), i0.ɵɵinject(JSONLD_PRODUCT_BUILDER, 8));\n  };\n  ProductSchemaBuilder.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ProductSchemaBuilder,\n    factory: ProductSchemaBuilder.ɵfac,\n    providedIn: 'root'\n  });\n  return ProductSchemaBuilder;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Provides several standard json-ld builders that contribute\n * to collecting and building json-ld data.\n */\nlet JsonLdBuilderModule = /*#__PURE__*/(() => {\n  class JsonLdBuilderModule {}\n  JsonLdBuilderModule.ɵfac = function JsonLdBuilderModule_Factory(t) {\n    return new (t || JsonLdBuilderModule)();\n  };\n  JsonLdBuilderModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: JsonLdBuilderModule\n  });\n  JsonLdBuilderModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [{\n      provide: SCHEMA_BUILDER,\n      useExisting: ProductSchemaBuilder,\n      multi: true\n    }, {\n      provide: SCHEMA_BUILDER,\n      useExisting: BreadcrumbSchemaBuilder,\n      multi: true\n    },\n    // lower level json-ld builder classes offering fine-grained control\n    // for product related schemas\n    {\n      provide: JSONLD_PRODUCT_BUILDER,\n      useExisting: JsonLdBaseProductBuilder,\n      multi: true\n    }, {\n      provide: JSONLD_PRODUCT_BUILDER,\n      useExisting: JsonLdProductOfferBuilder,\n      multi: true\n    }, {\n      provide: JSONLD_PRODUCT_BUILDER,\n      useExisting: JsonLdProductReviewBuilder,\n      multi: true\n    }]\n  });\n  return JsonLdBuilderModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nvar PageSection = /*#__PURE__*/(() => {\n  (function (PageSection) {\n    PageSection[\"HEADER\"] = \"header\";\n    PageSection[\"FOOTER\"] = \"footer\";\n    PageSection[\"NAVIGATION\"] = \"navigation\";\n  })(PageSection || (PageSection = {}));\n  return PageSection;\n})();\n/**\n * Helper function to simplify the creation of static CMS structure (`CmsStructureConfig`).\n * The helper function leverage the `provideConfig`, and is only providing an easy way to\n * generate the cms structure. The function creates a configuration structure for components,\n * page slot and page template. The following example adds a component to a page slot:\n *\n * ```ts\n * provideCmsStructure({\n *   componentId: 'LoginComponent',\n *   pageSlotPosition: 'SiteLogin'\n * })\n * ```\n *\n * @param options.componentId component identifier is used to provide component structure\n * @param options.pageSlotPosition page slot position is used to provide the slot configuration\n * @param options.pageTemplate the page template is used to provide the page slot to the given page template\n * @param options.section the section is used to provide the page slot to the given section\n * @param options.breakpoint the breakpoint is used to provide the page slot for a specific breakpoint\n */\nfunction provideCmsStructure(options) {\n  return provideConfig(Object.assign(Object.assign({}, buildCmsStructure(options)), buildLayoutConfig(options)));\n}\n/**\n * @private\n */\nfunction buildCmsStructure({\n  componentId,\n  pageSlotPosition\n} = {}) {\n  const config = {\n    cmsStructure: {}\n  };\n  if (componentId) {\n    config.cmsStructure = {\n      components: {\n        [componentId]: {\n          typeCode: componentId,\n          flexType: componentId\n        }\n      }\n    };\n  }\n  if (componentId && pageSlotPosition) {\n    config.cmsStructure.slots = {\n      [pageSlotPosition]: {\n        componentIds: [componentId]\n      }\n    };\n  }\n  return config;\n}\n/**\n * @private\n */\nfunction buildLayoutConfig({\n  pageTemplate,\n  pageSlotPosition,\n  breakpoint,\n  section\n} = {}) {\n  const layoutConfig = {};\n  if (pageTemplate && pageSlotPosition) {\n    const pageTemplateSlots = {};\n    if (breakpoint) {\n      pageTemplateSlots[breakpoint] = {\n        slots: [pageSlotPosition]\n      };\n    } else {\n      pageTemplateSlots.slots = [pageSlotPosition];\n    }\n    layoutConfig.layoutSlots = {\n      [pageTemplate]: pageTemplateSlots\n    };\n  }\n  if (section && pageSlotPosition) {\n    const sectionSlots = {};\n    if (breakpoint) {\n      sectionSlots[breakpoint] = {\n        slots: [pageSlotPosition]\n      };\n    } else {\n      sectionSlots.slots = [pageSlotPosition];\n    }\n    if (layoutConfig.layoutSlots) {\n      layoutConfig.layoutSlots[section] = sectionSlots;\n    } else {\n      layoutConfig.layoutSlots = {\n        [section]: sectionSlots\n      };\n    }\n  }\n  return layoutConfig;\n}\n\n/**\n * Generic carousel that renders CMS Components.\n */\nlet BannerCarouselComponent = /*#__PURE__*/(() => {\n  class BannerCarouselComponent {\n    constructor(componentData, cmsService) {\n      this.componentData = componentData;\n      this.cmsService = cmsService;\n      this.componentData$ = this.componentData.data$.pipe(filter(Boolean), tap(d => this.theme = `${d.effect}-theme`));\n      this.items$ = this.componentData$.pipe(map(data => data.banners.trim().split(' ')), map(codes => codes.map(code => this.cmsService.getComponentData(code))));\n      /**\n       * Adds a specific theme for the carousel. The effect can be\n       * used in CSS customisations.\n       */\n      this.theme = '';\n    }\n    /**\n     * Returns an Obervable with an Array of Observables. This is done, so that\n     * the component UI could consider to lazy load the UI components when they're\n     * in the viewpoint.\n     */\n    getItems() {\n      return this.items$;\n    }\n  }\n  BannerCarouselComponent.ɵfac = function BannerCarouselComponent_Factory(t) {\n    return new (t || BannerCarouselComponent)(i0.ɵɵdirectiveInject(CmsComponentData), i0.ɵɵdirectiveInject(i1.CmsService));\n  };\n  BannerCarouselComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: BannerCarouselComponent,\n    selectors: [[\"cx-banner-carousel\"]],\n    hostVars: 2,\n    hostBindings: function BannerCarouselComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassMap(ctx.theme);\n      }\n    },\n    decls: 4,\n    vars: 4,\n    consts: [[\"itemWidth\", \"100%\", 1, \"inline-navigation\", 3, \"items\", \"template\"], [\"template\", \"\"], [3, \"cxComponentWrapper\"]],\n    template: function BannerCarouselComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"cx-carousel\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵtemplate(2, BannerCarouselComponent_ng_template_2_Template, 1, 5, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(3);\n        i0.ɵɵproperty(\"items\", i0.ɵɵpipeBind1(1, 2, ctx.getItems()))(\"template\", _r0);\n      }\n    },\n    directives: [CarouselComponent, ComponentWrapperDirective],\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return BannerCarouselComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet BannerCarouselModule = /*#__PURE__*/(() => {\n  class BannerCarouselModule {}\n  BannerCarouselModule.ɵfac = function BannerCarouselModule_Factory(t) {\n    return new (t || BannerCarouselModule)();\n  };\n  BannerCarouselModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: BannerCarouselModule\n  });\n  BannerCarouselModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        RotatingImagesComponent: {\n          component: BannerCarouselComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, PageComponentModule, CarouselModule, MediaModule]]\n  });\n  return BannerCarouselModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet LinkComponent = /*#__PURE__*/(() => {\n  class LinkComponent {\n    constructor(component) {\n      this.component = component;\n      this.data$ = this.component.data$.pipe(tap(data => this.styleClasses = data === null || data === void 0 ? void 0 : data.styleClasses));\n    }\n    /**\n     * Returns `_blank` to force opening the link in a new window whenever the\n     * `data.target` flag is set to `true`.\n     */\n    getTarget(data) {\n      return data.target === 'true' || data.target === true ? '_blank' : null;\n    }\n  }\n  LinkComponent.ɵfac = function LinkComponent_Factory(t) {\n    return new (t || LinkComponent)(i0.ɵɵdirectiveInject(CmsComponentData));\n  };\n  LinkComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: LinkComponent,\n    selectors: [[\"cx-link\"]],\n    hostVars: 2,\n    hostBindings: function LinkComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassMap(ctx.styleClasses);\n      }\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[3, \"url\", \"style\", \"target\", 4, \"ngIf\"], [3, \"url\", \"target\"]],\n    template: function LinkComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, LinkComponent_cx_generic_link_0_Template, 2, 5, \"cx-generic-link\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.data$));\n      }\n    },\n    directives: [i3.NgIf, GenericLinkComponent],\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return LinkComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet LinkModule = /*#__PURE__*/(() => {\n  class LinkModule {}\n  LinkModule.ɵfac = function LinkModule_Factory(t) {\n    return new (t || LinkModule)();\n  };\n  LinkModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: LinkModule\n  });\n  LinkModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        CMSLinkComponent: {\n          component: LinkComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule, GenericLinkModule]]\n  });\n  return LinkModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ParagraphComponent = /*#__PURE__*/(() => {\n  class ParagraphComponent {\n    constructor(component, router) {\n      this.component = component;\n      this.router = router;\n    }\n    handleClick(event) {\n      if (this.router && event.target instanceof HTMLAnchorElement) {\n        const element = event.target;\n        const href = element === null || element === void 0 ? void 0 : element.getAttribute('href');\n        // Use router for internal link navigation\n        if ((href === null || href === void 0 ? void 0 : href.indexOf('/')) === 0) {\n          event.preventDefault();\n          this.router.navigate([`/${href}`]);\n        }\n      }\n    }\n  }\n  ParagraphComponent.ɵfac = function ParagraphComponent_Factory(t) {\n    return new (t || ParagraphComponent)(i0.ɵɵdirectiveInject(CmsComponentData), i0.ɵɵdirectiveInject(i1$1.Router));\n  };\n  ParagraphComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ParagraphComponent,\n    selectors: [[\"cx-paragraph\"]],\n    hostBindings: function ParagraphComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function ParagraphComponent_click_HostBindingHandler($event) {\n          return ctx.handleClick($event);\n        });\n      }\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[3, \"innerHTML\", 4, \"ngIf\"], [3, \"innerHTML\"]],\n    template: function ParagraphComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ParagraphComponent_p_0_Template, 2, 3, \"p\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.component.data$));\n      }\n    },\n    directives: [i3.NgIf],\n    pipes: [i3.AsyncPipe, SupplementHashAnchorsPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ParagraphComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CmsParagraphModule = /*#__PURE__*/(() => {\n  class CmsParagraphModule {}\n  CmsParagraphModule.ɵfac = function CmsParagraphModule_Factory(t) {\n    return new (t || CmsParagraphModule)();\n  };\n  CmsParagraphModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: CmsParagraphModule\n  });\n  CmsParagraphModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        CMSParagraphComponent: {\n          component: ParagraphComponent\n        },\n        CMSTabParagraphComponent: {\n          component: ParagraphComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule, SupplementHashAnchorsModule]]\n  });\n  return CmsParagraphModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TabParagraphContainerComponent = /*#__PURE__*/(() => {\n  class TabParagraphContainerComponent {\n    constructor(componentData, cmsService, winRef, breakpointService) {\n      this.componentData = componentData;\n      this.cmsService = cmsService;\n      this.winRef = winRef;\n      this.breakpointService = breakpointService;\n      this.activeTabNum = 0;\n      this.tabTitleParams = [];\n      this.components$ = this.componentData.data$.pipe(distinctUntilChanged((x, y) => (x === null || x === void 0 ? void 0 : x.components) === (y === null || y === void 0 ? void 0 : y.components)), switchMap(data => {\n        var _a;\n        return combineLatest(((_a = data === null || data === void 0 ? void 0 : data.components) !== null && _a !== void 0 ? _a : '').split(' ').map(component => this.cmsService.getComponentData(component).pipe(distinctUntilChanged(), map(tab => {\n          if (!tab) {\n            return undefined;\n          }\n          if (!tab.flexType) {\n            tab = Object.assign(Object.assign({}, tab), {\n              flexType: tab.typeCode\n            });\n          }\n          return Object.assign(Object.assign({}, tab), {\n            title: `${data.uid}.tabs.${tab.uid}`\n          });\n        }))));\n      }));\n    }\n    select(tabNum, event) {\n      var _a;\n      (_a = this.breakpointService) === null || _a === void 0 ? void 0 : _a.isDown(BREAKPOINT.sm).pipe(take(1)).subscribe(res => {\n        var _a, _b;\n        if (res) {\n          this.activeTabNum = this.activeTabNum === tabNum ? -1 : tabNum;\n          if (event && (event === null || event === void 0 ? void 0 : event.target)) {\n            const target = event.target;\n            const parentNode = target.parentNode;\n            (_b = (_a = this.winRef) === null || _a === void 0 ? void 0 : _a.nativeWindow) === null || _b === void 0 ? void 0 : _b.scrollTo(0, parentNode.offsetTop);\n          }\n        } else {\n          this.activeTabNum = tabNum;\n        }\n      });\n    }\n    ngOnInit() {\n      var _a, _b, _c, _d, _e;\n      this.activeTabNum = (_e = (_d = (_c = (_b = (_a = this.winRef) === null || _a === void 0 ? void 0 : _a.nativeWindow) === null || _b === void 0 ? void 0 : _b.history) === null || _c === void 0 ? void 0 : _c.state) === null || _d === void 0 ? void 0 : _d.activeTab) !== null && _e !== void 0 ? _e : this.activeTabNum;\n    }\n    ngAfterViewInit() {\n      // If the sub cms components data exist, the components created before ngAfterViewInit are called.\n      // In this case, the title parameters are directly pulled from them.\n      if (this.children.length > 0) {\n        this.getTitleParams(this.children);\n      }\n    }\n    tabCompLoaded(componentRef) {\n      this.tabTitleParams.push(componentRef.instance.tabTitleParam$);\n    }\n    getTitleParams(children) {\n      children.forEach(comp => {\n        var _a;\n        if ((_a = comp.cmpRef) === null || _a === void 0 ? void 0 : _a.instance.tabTitleParam$) {\n          this.tabTitleParams.push(comp.cmpRef.instance.tabTitleParam$);\n        } else {\n          this.tabTitleParams.push(null);\n        }\n      });\n    }\n    ngOnDestroy() {\n      if (this.subscription) {\n        this.subscription.unsubscribe();\n      }\n    }\n  }\n  TabParagraphContainerComponent.ɵfac = function TabParagraphContainerComponent_Factory(t) {\n    return new (t || TabParagraphContainerComponent)(i0.ɵɵdirectiveInject(CmsComponentData), i0.ɵɵdirectiveInject(i1.CmsService), i0.ɵɵdirectiveInject(i1.WindowRef), i0.ɵɵdirectiveInject(BreakpointService));\n  };\n  TabParagraphContainerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TabParagraphContainerComponent,\n    selectors: [[\"cx-tab-paragraph-container\"]],\n    viewQuery: function TabParagraphContainerComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(ComponentWrapperDirective, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.children = _t);\n      }\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [3, \"cxOutlet\", \"cxOutletContext\"], [3, \"cxComponentWrapper\", \"cxComponentRef\"]],\n    template: function TabParagraphContainerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, TabParagraphContainerComponent_ng_container_0_Template, 3, 2, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.components$));\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, OutletDirective, ComponentWrapperDirective],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return TabParagraphContainerComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet TabParagraphContainerModule = /*#__PURE__*/(() => {\n  class TabParagraphContainerModule {}\n  TabParagraphContainerModule.ɵfac = function TabParagraphContainerModule_Factory(t) {\n    return new (t || TabParagraphContainerModule)();\n  };\n  TabParagraphContainerModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: TabParagraphContainerModule\n  });\n  TabParagraphContainerModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        CMSTabParagraphContainer: {\n          component: TabParagraphContainerComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, PageComponentModule, OutletModule, I18nModule]]\n  });\n  return TabParagraphContainerModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AddressBookComponentService = /*#__PURE__*/(() => {\n  class AddressBookComponentService {\n    constructor(userAddressService) {\n      this.userAddressService = userAddressService;\n    }\n    getAddresses() {\n      return this.userAddressService.getAddresses();\n    }\n    getAddressesStateLoading() {\n      return this.userAddressService.getAddressesLoading();\n    }\n    loadAddresses() {\n      this.userAddressService.loadAddresses();\n    }\n    addUserAddress(address) {\n      this.userAddressService.addUserAddress(address);\n    }\n    updateUserAddress(addressId, address) {\n      this.userAddressService.updateUserAddress(addressId, address);\n    }\n    setAddressAsDefault(addressId) {\n      this.userAddressService.setAddressAsDefault(addressId);\n    }\n    deleteUserAddress(addressId) {\n      this.userAddressService.deleteUserAddress(addressId);\n    }\n  }\n  AddressBookComponentService.ɵfac = function AddressBookComponentService_Factory(t) {\n    return new (t || AddressBookComponentService)(i0.ɵɵinject(i1.UserAddressService));\n  };\n  AddressBookComponentService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: AddressBookComponentService,\n    factory: AddressBookComponentService.ɵfac,\n    providedIn: 'root'\n  });\n  return AddressBookComponentService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet SuggestedAddressDialogComponent = /*#__PURE__*/(() => {\n  class SuggestedAddressDialogComponent {\n    constructor(modalService) {\n      this.modalService = modalService;\n      this.iconTypes = ICON_TYPE;\n    }\n    ngOnInit() {\n      this.selectedAddress = this.suggestedAddresses.length ? this.suggestedAddresses[0] : this.enteredAddress;\n    }\n    closeModal(reason) {\n      this.modalService.closeActiveModal(reason);\n    }\n  }\n  SuggestedAddressDialogComponent.ɵfac = function SuggestedAddressDialogComponent_Factory(t) {\n    return new (t || SuggestedAddressDialogComponent)(i0.ɵɵdirectiveInject(ModalService));\n  };\n  SuggestedAddressDialogComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: SuggestedAddressDialogComponent,\n    selectors: [[\"cx-suggested-addresses-dialog\"]],\n    inputs: {\n      suggestedAddresses: \"suggestedAddresses\",\n      enteredAddress: \"enteredAddress\"\n    },\n    decls: 43,\n    vars: 32,\n    consts: [[1, \"cx-dialog-header\", \"modal-header\"], [1, \"cx-dialog-title\", \"modal-title\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [3, \"type\"], [\"ngForm\", \"\", 1, \"cx-dialog-body\", \"modal-body\"], [1, \"container\"], [1, \"row\"], [1, \"cx-dialog-info\", \"col-md-12\"], [1, \"cx-dialog-options\", \"col-md-12\"], [\"class\", \"form-check\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-check\"], [\"type\", \"radio\", \"name\", \"selectedAddress\", \"id\", \"suggested-addresses--entered\", 1, \"form-check-input\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [\"for\", \"suggested-addresses--entered\", 1, \"form-check-label\", \"cx-dialog-label\"], [1, \"cx-dialog-entered\"], [1, \"cx-dialog-actions\", \"col-sm-12\", \"col-md-6\", \"offset-md-6\"], [1, \"btn\", \"btn-secondary\", \"btn-block\", \"cx-dialog-buttons\", 3, \"click\"], [\"cxAutoFocus\", \"\", 1, \"btn\", \"btn-primary\", \"btn-block\", \"cx-dialog-buttons\", 3, \"click\"], [\"type\", \"radio\", \"name\", \"selectedAddress\", 1, \"form-check-input\", 3, \"ngModel\", \"value\", \"id\", \"ngModelChange\"], [1, \"form-check-label\", \"cx-dialog-label\", 3, \"for\"], [1, \"cx-dialog-suggested\"]],\n    template: function SuggestedAddressDialogComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtext(2);\n        i0.ɵɵpipe(3, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function SuggestedAddressDialogComponent_Template_button_click_4_listener() {\n          return ctx.closeModal();\n        });\n        i0.ɵɵpipe(5, \"cxTranslate\");\n        i0.ɵɵelementStart(6, \"span\", 3);\n        i0.ɵɵelement(7, \"cx-icon\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 5);\n        i0.ɵɵelementStart(9, \"div\", 6);\n        i0.ɵɵelementStart(10, \"div\", 7);\n        i0.ɵɵelementStart(11, \"div\", 8);\n        i0.ɵɵelementStart(12, \"p\");\n        i0.ɵɵtext(13);\n        i0.ɵɵpipe(14, \"cxTranslate\");\n        i0.ɵɵpipe(15, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 7);\n        i0.ɵɵelementStart(17, \"div\", 9);\n        i0.ɵɵtemplate(18, SuggestedAddressDialogComponent_div_18_Template, 16, 15, \"div\", 10);\n        i0.ɵɵelementStart(19, \"div\", 11);\n        i0.ɵɵelementStart(20, \"input\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function SuggestedAddressDialogComponent_Template_input_ngModelChange_20_listener($event) {\n          return ctx.selectedAddress = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"label\", 13);\n        i0.ɵɵtext(22);\n        i0.ɵɵpipe(23, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"div\", 14);\n        i0.ɵɵtext(25);\n        i0.ɵɵelement(26, \"br\");\n        i0.ɵɵtext(27);\n        i0.ɵɵelement(28, \"br\");\n        i0.ɵɵelementStart(29, \"span\");\n        i0.ɵɵtext(30);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(31, \"br\");\n        i0.ɵɵtext(32);\n        i0.ɵɵelement(33, \"br\");\n        i0.ɵɵtext(34);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"div\", 7);\n        i0.ɵɵelementStart(36, \"div\", 15);\n        i0.ɵɵelementStart(37, \"button\", 16);\n        i0.ɵɵlistener(\"click\", function SuggestedAddressDialogComponent_Template_button_click_37_listener() {\n          return ctx.closeModal();\n        });\n        i0.ɵɵtext(38);\n        i0.ɵɵpipe(39, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function SuggestedAddressDialogComponent_Template_button_click_40_listener() {\n          return ctx.closeModal(ctx.selectedAddress);\n        });\n        i0.ɵɵtext(41);\n        i0.ɵɵpipe(42, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 18, \"addressSuggestion.verifyYourAddress\"), \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(5, 20, \"common.close\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"type\", ctx.iconTypes.CLOSE);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind1(14, 22, \"addressSuggestion.ensureAccuracySuggestChange\"), \" \", i0.ɵɵpipeBind1(15, 24, \"addressSuggestion.chooseAddressToUse\"), \" \");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.suggestedAddresses);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.selectedAddress)(\"value\", ctx.enteredAddress);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(23, 26, \"addressSuggestion.enteredAddress\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate2(\" \", ctx.enteredAddress == null ? null : ctx.enteredAddress.firstName, \" \", ctx.enteredAddress == null ? null : ctx.enteredAddress.lastName, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.enteredAddress == null ? null : ctx.enteredAddress.line1, \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.enteredAddress == null ? null : ctx.enteredAddress.line2);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate2(\" \", ctx.enteredAddress == null ? null : ctx.enteredAddress.town, \" \", ctx.enteredAddress == null ? null : ctx.enteredAddress.region == null ? null : ctx.enteredAddress.region.isocode, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.enteredAddress == null ? null : ctx.enteredAddress.postalCode, \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(39, 28, \"addressSuggestion.editAddress\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(42, 30, \"addressSuggestion.saveAddress\"), \" \");\n      }\n    },\n    directives: [IconComponent, i3$1.NgControlStatusGroup, i3$1.NgForm, i3.NgForOf, i3$1.RadioControlValueAccessor, i3$1.DefaultValueAccessor, i3$1.NgControlStatus, i3$1.NgModel],\n    pipes: [i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return SuggestedAddressDialogComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AddressFormComponent = /*#__PURE__*/(() => {\n  class AddressFormComponent {\n    constructor(fb, userService, userAddressService, globalMessageService, modalService, translation) {\n      this.fb = fb;\n      this.userService = userService;\n      this.userAddressService = userAddressService;\n      this.globalMessageService = globalMessageService;\n      this.modalService = modalService;\n      this.translation = translation;\n      this.selectedCountry$ = new BehaviorSubject('');\n      this.setAsDefaultField = true;\n      this.showCancelBtn = true;\n      this.submitAddress = new EventEmitter();\n      this.backToAddress = new EventEmitter();\n      this.addressForm = this.fb.group({\n        country: this.fb.group({\n          isocode: [null, Validators.required]\n        }),\n        titleCode: [''],\n        firstName: ['', Validators.required],\n        lastName: ['', Validators.required],\n        line1: ['', Validators.required],\n        line2: [''],\n        town: ['', Validators.required],\n        region: this.fb.group({\n          isocode: [null, Validators.required]\n        }),\n        postalCode: ['', Validators.required],\n        phone: '',\n        defaultAddress: [false]\n      });\n    }\n    ngOnInit() {\n      // Fetching countries\n      this.countries$ = this.userAddressService.getDeliveryCountries().pipe(tap(countries => {\n        if (Object.keys(countries).length === 0) {\n          this.userAddressService.loadDeliveryCountries();\n        }\n      }));\n      // Fetching titles\n      this.titles$ = this.getTitles();\n      // Fetching regions\n      this.regions$ = this.selectedCountry$.pipe(switchMap(country => this.userAddressService.getRegions(country)), tap(regions => {\n        const regionControl = this.addressForm.get('region.isocode');\n        if (regions && regions.length > 0) {\n          regionControl.enable();\n        } else {\n          regionControl.disable();\n        }\n      }));\n      if (this.addressData && Object.keys(this.addressData).length !== 0) {\n        this.addressForm.patchValue(this.addressData);\n        this.countrySelected(this.addressData.country);\n        if (this.addressData.region) {\n          this.regionSelected(this.addressData.region);\n        }\n      }\n      this.addresses$ = this.userAddressService.getAddresses();\n    }\n    getTitles() {\n      return combineLatest([this.translation.translate('addressForm.defaultTitle'), this.userService.getTitles()]).pipe(map(([noneTitleText, titles]) => {\n        const noneTitle = {\n          code: '',\n          name: noneTitleText\n        };\n        titles.sort(sortTitles);\n        return [noneTitle, ...titles];\n      }));\n    }\n    handleAddressVerificationResults(results) {\n      if (results.decision === 'ACCEPT') {\n        this.submitAddress.emit(this.addressForm.value);\n      } else if (results.decision === 'REJECT') {\n        // TODO: Workaround: allow server for decide is titleCode mandatory (if yes, provide personalized message)\n        if (results.errors.errors.some(error => error.subject === 'titleCode')) {\n          this.globalMessageService.add({\n            key: 'addressForm.titleRequired'\n          }, GlobalMessageType.MSG_TYPE_ERROR);\n        } else {\n          this.globalMessageService.add({\n            key: 'addressForm.invalidAddress'\n          }, GlobalMessageType.MSG_TYPE_ERROR);\n        }\n      } else if (results.decision === 'REVIEW') {\n        this.openSuggestedAddress(results);\n      }\n    }\n    countrySelected(country) {\n      var _a, _b;\n      (_b = (_a = this.addressForm.get('country')) === null || _a === void 0 ? void 0 : _a.get('isocode')) === null || _b === void 0 ? void 0 : _b.setValue(country.isocode);\n      this.selectedCountry$.next(country.isocode);\n    }\n    regionSelected(region) {\n      var _a, _b;\n      (_b = (_a = this.addressForm.get('region')) === null || _a === void 0 ? void 0 : _a.get('isocode')) === null || _b === void 0 ? void 0 : _b.setValue(region.isocode);\n    }\n    toggleDefaultAddress() {\n      this.addressForm['controls'].defaultAddress.setValue(this.addressForm.value.defaultAddress);\n    }\n    back() {\n      this.backToAddress.emit();\n    }\n    verifyAddress() {\n      if (this.addressForm.valid) {\n        if (this.addressForm.get('region').value.isocode) {\n          this.regionsSub = this.regions$.pipe(take(1)).subscribe(regions => {\n            const obj = regions.find(region => region.isocode === this.addressForm.controls['region'].value.isocode);\n            Object.assign(this.addressForm.value.region, {\n              isocodeShort: obj.isocodeShort\n            });\n          });\n        }\n        if (this.addressForm.dirty) {\n          this.userAddressService.verifyAddress(this.addressForm.value).subscribe(result => {\n            this.handleAddressVerificationResults(result);\n          });\n        } else {\n          // address form value not changed\n          // ignore duplicate address\n          this.submitAddress.emit(undefined);\n        }\n      } else {\n        this.addressForm.markAllAsTouched();\n      }\n    }\n    openSuggestedAddress(results) {\n      if (!this.suggestedAddressModalRef) {\n        this.suggestedAddressModalRef = this.modalService.open(SuggestedAddressDialogComponent, {\n          centered: true,\n          size: 'lg'\n        });\n        this.suggestedAddressModalRef.componentInstance.enteredAddress = this.addressForm.value;\n        this.suggestedAddressModalRef.componentInstance.suggestedAddresses = results.suggestedAddresses;\n        this.suggestedAddressModalRef.result.then(address => {\n          if (address) {\n            address = Object.assign({\n              titleCode: this.addressForm.value.titleCode,\n              phone: this.addressForm.value.phone,\n              selected: true\n            }, address);\n            this.submitAddress.emit(address);\n          }\n          this.suggestedAddressModalRef = null;\n        }).catch(() => {\n          // this  callback is called when modal is closed with Esc key or clicking backdrop\n          const address = Object.assign({\n            selected: true\n          }, this.addressForm.value);\n          this.submitAddress.emit(address);\n          this.suggestedAddressModalRef = null;\n        });\n      }\n    }\n    ngOnDestroy() {\n      if (this.addressVerifySub) {\n        this.addressVerifySub.unsubscribe();\n      }\n      if (this.regionsSub) {\n        this.regionsSub.unsubscribe();\n      }\n    }\n  }\n  AddressFormComponent.ɵfac = function AddressFormComponent_Factory(t) {\n    return new (t || AddressFormComponent)(i0.ɵɵdirectiveInject(i3$1.FormBuilder), i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i1.UserAddressService), i0.ɵɵdirectiveInject(i1.GlobalMessageService), i0.ɵɵdirectiveInject(ModalService), i0.ɵɵdirectiveInject(i1.TranslationService));\n  };\n  AddressFormComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: AddressFormComponent,\n    selectors: [[\"cx-address-form\"]],\n    inputs: {\n      addressData: \"addressData\",\n      actionBtnLabel: \"actionBtnLabel\",\n      cancelBtnLabel: \"cancelBtnLabel\",\n      setAsDefaultField: \"setAsDefaultField\",\n      showTitleCode: \"showTitleCode\",\n      showCancelBtn: \"showCancelBtn\"\n    },\n    outputs: {\n      submitAddress: \"submitAddress\",\n      backToAddress: \"backToAddress\"\n    },\n    decls: 72,\n    vars: 62,\n    consts: [[3, \"formGroup\", \"ngSubmit\"], [1, \"row\"], [1, \"col-md-12\", \"col-lg-9\"], [\"formGroupName\", \"country\", 1, \"form-group\"], [4, \"ngIf\"], [\"class\", \"form-group\", 4, \"ngIf\"], [1, \"form-group\"], [1, \"label-content\", \"required\"], [\"aria-required\", \"true\", \"type\", \"text\", \"formControlName\", \"firstName\", 1, \"form-control\", 3, \"placeholder\"], [\"aria-live\", \"assertive\", \"aria-atomic\", \"true\", 3, \"control\"], [\"aria-required\", \"true\", \"type\", \"text\", \"formControlName\", \"lastName\", 1, \"form-control\", 3, \"placeholder\"], [\"aria-required\", \"true\", \"type\", \"text\", \"formControlName\", \"line1\", 1, \"form-control\", 3, \"placeholder\"], [1, \"label-content\"], [\"type\", \"text\", \"formControlName\", \"line2\", 1, \"form-control\", 3, \"placeholder\"], [1, \"form-group\", \"col-md-6\"], [\"aria-required\", \"true\", \"type\", \"text\", \"formControlName\", \"town\", 1, \"form-control\", 3, \"placeholder\"], [\"aria-required\", \"true\", \"type\", \"text\", \"formControlName\", \"postalCode\", 1, \"form-control\", 3, \"placeholder\"], [\"formGroupName\", \"region\", 4, \"ngIf\"], [\"type\", \"tel\", \"formControlName\", \"phone\", 1, \"form-control\", 3, \"placeholder\"], [1, \"cx-address-form-btns\", \"row\"], [\"class\", \"col-md-12 col-lg-6\", 4, \"ngIf\"], [1, \"col-md-12\", \"col-lg-6\"], [\"type\", \"submit\", 1, \"btn\", \"btn-block\", \"btn-primary\"], [\"aria-required\", \"true\", \"formControlName\", \"isocode\", \"bindLabel\", \"name\", \"bindValue\", \"isocode\", 1, \"country-select\", 3, \"searchable\", \"clearable\", \"items\", \"placeholder\", \"change\"], [\"formControlName\", \"titleCode\", \"bindLabel\", \"name\", \"bindValue\", \"code\", 3, \"searchable\", \"clearable\", \"items\", \"placeholder\"], [\"formGroupName\", \"region\"], [\"aria-required\", \"true\", \"formControlName\", \"isocode\", 1, \"region-select\", 3, \"searchable\", \"clearable\", \"items\", \"bindLabel\", \"bindValue\", \"placeholder\"], [1, \"form-check\"], [\"type\", \"checkbox\", \"formControlName\", \"defaultAddress\", 1, \"form-check-input\", 3, \"change\"], [1, \"form-check-label\"], [1, \"btn\", \"btn-block\", \"btn-action\", 3, \"click\"]],\n    template: function AddressFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0);\n        i0.ɵɵlistener(\"ngSubmit\", function AddressFormComponent_Template_form_ngSubmit_0_listener() {\n          return ctx.verifyAddress();\n        });\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵtemplate(4, AddressFormComponent_ng_container_4_Template, 2, 1, \"ng-container\", 4);\n        i0.ɵɵpipe(5, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(6, AddressFormComponent_div_6_Template, 3, 3, \"div\", 5);\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵelementStart(8, \"label\");\n        i0.ɵɵelementStart(9, \"span\", 7);\n        i0.ɵɵtext(10);\n        i0.ɵɵpipe(11, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"input\", 8);\n        i0.ɵɵpipe(13, \"cxTranslate\");\n        i0.ɵɵelement(14, \"cx-form-errors\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"div\", 6);\n        i0.ɵɵelementStart(16, \"label\");\n        i0.ɵɵelementStart(17, \"span\", 7);\n        i0.ɵɵtext(18);\n        i0.ɵɵpipe(19, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"input\", 10);\n        i0.ɵɵpipe(21, \"cxTranslate\");\n        i0.ɵɵelement(22, \"cx-form-errors\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 6);\n        i0.ɵɵelementStart(24, \"label\");\n        i0.ɵɵelementStart(25, \"span\", 7);\n        i0.ɵɵtext(26);\n        i0.ɵɵpipe(27, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(28, \"input\", 11);\n        i0.ɵɵpipe(29, \"cxTranslate\");\n        i0.ɵɵelement(30, \"cx-form-errors\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 6);\n        i0.ɵɵelementStart(32, \"label\");\n        i0.ɵɵelementStart(33, \"span\", 12);\n        i0.ɵɵtext(34);\n        i0.ɵɵpipe(35, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(36, \"input\", 13);\n        i0.ɵɵpipe(37, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"div\", 1);\n        i0.ɵɵelementStart(39, \"div\", 14);\n        i0.ɵɵelementStart(40, \"label\");\n        i0.ɵɵelementStart(41, \"span\", 7);\n        i0.ɵɵtext(42);\n        i0.ɵɵpipe(43, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(44, \"input\", 15);\n        i0.ɵɵpipe(45, \"cxTranslate\");\n        i0.ɵɵelement(46, \"cx-form-errors\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"div\", 14);\n        i0.ɵɵelementStart(48, \"label\");\n        i0.ɵɵelementStart(49, \"span\", 7);\n        i0.ɵɵtext(50);\n        i0.ɵɵpipe(51, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(52, \"input\", 16);\n        i0.ɵɵpipe(53, \"cxTranslate\");\n        i0.ɵɵelement(54, \"cx-form-errors\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(55, AddressFormComponent_ng_container_55_Template, 2, 1, \"ng-container\", 17);\n        i0.ɵɵpipe(56, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(57, \"div\", 6);\n        i0.ɵɵelementStart(58, \"label\");\n        i0.ɵɵelementStart(59, \"span\", 12);\n        i0.ɵɵtext(60);\n        i0.ɵɵpipe(61, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(62, \"input\", 18);\n        i0.ɵɵpipe(63, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(64, AddressFormComponent_div_64_Template, 7, 3, \"div\", 5);\n        i0.ɵɵpipe(65, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(66, \"div\", 19);\n        i0.ɵɵtemplate(67, AddressFormComponent_div_67_Template, 4, 3, \"div\", 20);\n        i0.ɵɵelementStart(68, \"div\", 21);\n        i0.ɵɵelementStart(69, \"button\", 22);\n        i0.ɵɵtext(70);\n        i0.ɵɵpipe(71, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.addressForm);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(5, 26, ctx.countries$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.showTitleCode);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(11, 28, \"addressForm.firstName.label\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(13, 30, \"addressForm.firstName.placeholder\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"control\", ctx.addressForm.get(\"firstName\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(19, 32, \"addressForm.lastName.label\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(21, 34, \"addressForm.lastName.placeholder\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"control\", ctx.addressForm.get(\"lastName\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(27, 36, \"addressForm.address1\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(29, 38, \"addressForm.streetAddress\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"control\", ctx.addressForm.get(\"line1\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(35, 40, \"addressForm.address2\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(37, 42, \"addressForm.aptSuite\"));\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(43, 44, \"addressForm.city.label\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(45, 46, \"addressForm.city.placeholder\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"control\", ctx.addressForm.get(\"town\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(51, 48, \"addressForm.zipCode.label\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(53, 50, \"addressForm.zipCode.placeholder\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"control\", ctx.addressForm.get(\"postalCode\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(56, 52, ctx.regions$));\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(61, 54, \"addressForm.phoneNumber.label\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(63, 56, \"addressForm.phoneNumber.placeholder\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(65, 58, ctx.addresses$).length && ctx.setAsDefaultField);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.showCancelBtn);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", ctx.actionBtnLabel || i0.ɵɵpipeBind1(71, 60, \"common.continue\"), \" \");\n      }\n    },\n    directives: [i3$1.ɵNgNoValidate, i3$1.NgControlStatusGroup, i3$1.FormGroupDirective, i3$1.FormGroupName, i3.NgIf, i3$1.DefaultValueAccessor, i3$1.NgControlStatus, i3$1.FormControlName, FormErrorsComponent, i1$4.NgSelectComponent, i3$1.CheckboxControlValueAccessor],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return AddressFormComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AddressBookComponent = /*#__PURE__*/(() => {\n  class AddressBookComponent {\n    constructor(service, translation) {\n      this.service = service;\n      this.translation = translation;\n      this.showAddAddressForm = false;\n      this.showEditAddressForm = false;\n    }\n    ngOnInit() {\n      this.addresses$ = this.service.getAddresses();\n      this.addressesStateLoading$ = this.service.getAddressesStateLoading();\n      this.service.loadAddresses();\n    }\n    addAddressButtonHandle() {\n      this.showEditAddressForm = false;\n      this.showAddAddressForm = true;\n    }\n    editAddressButtonHandle(address) {\n      this.showAddAddressForm = false;\n      this.showEditAddressForm = true;\n      this.currentAddress = address;\n    }\n    addAddressSubmit(address) {\n      this.showAddAddressForm = false;\n      this.service.addUserAddress(address);\n    }\n    addAddressCancel() {\n      this.showAddAddressForm = false;\n    }\n    editAddressSubmit(address) {\n      this.showEditAddressForm = false;\n      this.service.updateUserAddress(this.currentAddress['id'], address);\n    }\n    editAddressCancel() {\n      this.showEditAddressForm = false;\n    }\n    getCardContent(address) {\n      return combineLatest([this.translation.translate('addressCard.default'), this.translation.translate('addressCard.setAsDefault'), this.translation.translate('common.delete'), this.translation.translate('common.edit'), this.translation.translate('addressBook.areYouSureToDeleteAddress')]).pipe(map(([defaultText, setAsDefaultText, textDelete, textEdit, textVerifyDeleteMsg]) => {\n        let region = '';\n        if (address.region && address.region.isocode) {\n          region = address.region.isocode + ', ';\n        }\n        const actions = [];\n        if (!address.defaultAddress) {\n          actions.push({\n            name: setAsDefaultText,\n            event: 'default'\n          });\n        }\n        actions.push({\n          name: textEdit,\n          event: 'edit'\n        });\n        actions.push({\n          name: textDelete,\n          event: 'delete'\n        });\n        return {\n          textBold: address.firstName + ' ' + address.lastName,\n          text: [address.line1, address.line2, address.town + ', ' + region + address.country.isocode, address.postalCode, address.phone],\n          actions: actions,\n          header: address.defaultAddress ? `✓ ${defaultText}` : '',\n          deleteMsg: textVerifyDeleteMsg\n        };\n      }));\n    }\n    setAddressAsDefault(addressId) {\n      this.service.setAddressAsDefault(addressId);\n    }\n    deleteAddress(addressId) {\n      this.service.deleteUserAddress(addressId);\n    }\n    setEdit(addressId) {\n      if (this.editCard !== addressId) {\n        this.editCard = addressId;\n      } else {\n        this.deleteAddress(addressId);\n      }\n    }\n    cancelCard() {\n      this.editCard = null;\n    }\n  }\n  AddressBookComponent.ɵfac = function AddressBookComponent_Factory(t) {\n    return new (t || AddressBookComponent)(i0.ɵɵdirectiveInject(AddressBookComponentService), i0.ɵɵdirectiveInject(i1.TranslationService));\n  };\n  AddressBookComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: AddressBookComponent,\n    selectors: [[\"cx-address-book\"]],\n    decls: 8,\n    vars: 7,\n    consts: [[1, \"cx-section\"], [4, \"ngIf\"], [\"loading\", \"\"], [1, \"row\"], [1, \"col-md-6\"], [1, \"btn\", \"btn-block\", \"btn-action\", 3, \"click\"], [\"class\", \"row cx-address-deck\", 4, \"ngIf\", \"ngIfElse\"], [1, \"row\", \"cx-address-deck\"], [\"class\", \"col-md-6 cx-address-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-md-6\", \"cx-address-card\"], [3, \"border\", \"fitToContainer\", \"content\", \"editMode\", \"editCard\", \"setDefaultCard\", \"deleteCard\", \"cancelCard\"], [1, \"cx-section-msg\"], [\"showTitleCode\", \"true\", 1, \"cx-form\", 3, \"showCancelBtn\", \"actionBtnLabel\", \"cancelBtnLabel\", \"setAsDefaultField\", \"submitAddress\", \"backToAddress\", \"cancelCard\"], [\"showTitleCode\", \"true\", 3, \"actionBtnLabel\", \"cancelBtnLabel\", \"addressData\", \"submitAddress\", \"backToAddress\"], [1, \"col-md-12\", \"cx-address-spinner\"]],\n    template: function AddressBookComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, AddressBookComponent_ng_container_1_Template, 8, 7, \"ng-container\", 1);\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵtemplate(3, AddressBookComponent_ng_container_3_Template, 10, 15, \"ng-container\", 1);\n        i0.ɵɵpipe(4, \"async\");\n        i0.ɵɵtemplate(5, AddressBookComponent_ng_container_5_Template, 8, 10, \"ng-container\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(6, AddressBookComponent_ng_template_6_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 3, ctx.addresses$).length && !(ctx.showAddAddressForm || ctx.showEditAddressForm));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(4, 5, ctx.addresses$).length || ctx.showAddAddressForm);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.showEditAddressForm);\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, CardComponent, AddressFormComponent, SpinnerComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return AddressBookComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AddressFormModule = /*#__PURE__*/(() => {\n  class AddressFormModule {}\n  AddressFormModule.ɵfac = function AddressFormModule_Factory(t) {\n    return new (t || AddressFormModule)();\n  };\n  AddressFormModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: AddressFormModule\n  });\n  AddressFormModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, ReactiveFormsModule, FormsModule, RouterModule, NgSelectModule, IconModule, I18nModule, FormErrorsModule]]\n  });\n  return AddressFormModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AddressBookModule = /*#__PURE__*/(() => {\n  class AddressBookModule {}\n  AddressBookModule.ɵfac = function AddressBookModule_Factory(t) {\n    return new (t || AddressBookModule)();\n  };\n  AddressBookModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: AddressBookModule\n  });\n  AddressBookModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        AccountAddressBookComponent: {\n          component: AddressBookComponent,\n          guards: [AuthGuard]\n        }\n      }\n    }), UserAddressService],\n    imports: [[CommonModule, CardModule, AddressFormModule, SpinnerModule, I18nModule]]\n  });\n  return AddressBookModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MyCouponsComponentService = /*#__PURE__*/(() => {\n  class MyCouponsComponentService {\n    constructor(routingService, translation) {\n      this.routingService = routingService;\n      this.translation = translation;\n      this.RELEVANCE = ':relevance';\n      this.CUSTOMER_COUPON_CODE = ':customerCouponCode:';\n    }\n    launchSearchPage(coupon) {\n      this.routingService.go({\n        cxRoute: 'search',\n        params: {\n          query: this.buildSearchParam(coupon)\n        }\n      }, {\n        queryParams: {\n          couponcode: coupon.couponId\n        }\n      });\n    }\n    buildSearchParam(coupon) {\n      return coupon.allProductsApplicable ? this.RELEVANCE : this.RELEVANCE + this.CUSTOMER_COUPON_CODE + coupon.couponId;\n    }\n    getSortLabels() {\n      return combineLatest([this.translation.translate('myCoupons.startDateAsc'), this.translation.translate('myCoupons.startDateDesc'), this.translation.translate('myCoupons.endDateAsc'), this.translation.translate('myCoupons.endDateDesc')]).pipe(map(([textByStartDateAsc, textByStartDateDesc, textByEndDateAsc, textByEndDateDesc]) => {\n        return {\n          byStartDateAsc: textByStartDateAsc,\n          byStartDateDesc: textByStartDateDesc,\n          byEndDateAsc: textByEndDateAsc,\n          byEndDateDesc: textByEndDateDesc\n        };\n      }));\n    }\n  }\n  MyCouponsComponentService.ɵfac = function MyCouponsComponentService_Factory(t) {\n    return new (t || MyCouponsComponentService)(i0.ɵɵinject(i1.RoutingService), i0.ɵɵinject(i1.TranslationService));\n  };\n  MyCouponsComponentService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: MyCouponsComponentService,\n    factory: MyCouponsComponentService.ɵfac,\n    providedIn: 'root'\n  });\n  return MyCouponsComponentService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CouponDialogComponent = /*#__PURE__*/(() => {\n  class CouponDialogComponent {\n    constructor(modalService) {\n      this.modalService = modalService;\n      this.iconTypes = ICON_TYPE;\n    }\n    dismissModal(reason) {\n      this.modalService.dismissActiveModal(reason);\n    }\n  }\n  CouponDialogComponent.ɵfac = function CouponDialogComponent_Factory(t) {\n    return new (t || CouponDialogComponent)(i0.ɵɵdirectiveInject(ModalService));\n  };\n  CouponDialogComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CouponDialogComponent,\n    selectors: [[\"cx-coupon-dialog\"]],\n    viewQuery: function CouponDialogComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c8, 5, ElementRef);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dialog = _t.first);\n      }\n    },\n    decls: 36,\n    vars: 32,\n    consts: [[\"dialog\", \"\"], [1, \"cx-dialog-header\", \"modal-header\"], [1, \"cx-dialog-title\", \"modal-title\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [3, \"type\"], [1, \"cx-dialog-body\", \"modal-body\"], [1, \"cx-dialog-row\"], [1, \"cx-dialog-item\", \"col-sm-12\", \"col-md-12\"], [1, \"cx-coupon-card-head\"], [1, \"card-label-bold\", \"cx-coupon-card-id\"], [1, \"cx-coupon-description\"], [1, \"cx-coupon-dialog-date\"], [1, \"cx-coupon-date\"], [1, \"cx-coupon-dialog-status\"]],\n    template: function CouponDialogComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", null, 0);\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵelementStart(3, \"div\", 2);\n        i0.ɵɵtext(4);\n        i0.ɵɵpipe(5, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function CouponDialogComponent_Template_button_click_6_listener() {\n          return ctx.dismissModal(\"Cross click\");\n        });\n        i0.ɵɵpipe(7, \"cxTranslate\");\n        i0.ɵɵelementStart(8, \"span\", 4);\n        i0.ɵɵelement(9, \"cx-icon\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 6);\n        i0.ɵɵelementStart(11, \"div\", 7);\n        i0.ɵɵelementStart(12, \"div\", 8);\n        i0.ɵɵelementStart(13, \"div\", 9);\n        i0.ɵɵelementStart(14, \"span\", 10);\n        i0.ɵɵtext(15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"span\");\n        i0.ɵɵtext(17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 11);\n        i0.ɵɵtext(19);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"div\", 12);\n        i0.ɵɵelementStart(21, \"p\");\n        i0.ɵɵtext(22);\n        i0.ɵɵpipe(23, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"div\", 13);\n        i0.ɵɵtext(25);\n        i0.ɵɵpipe(26, \"cxDate\");\n        i0.ɵɵpipe(27, \"cxDate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"div\", 14);\n        i0.ɵɵelementStart(29, \"p\");\n        i0.ɵɵtext(30);\n        i0.ɵɵpipe(31, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"div\");\n        i0.ɵɵpipe(33, \"lowercase\");\n        i0.ɵɵtext(34);\n        i0.ɵɵpipe(35, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 14, \"myCoupons.dialogTitle\"), \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(7, 16, \"common.close\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"type\", ctx.iconTypes.CLOSE);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.coupon == null ? null : ctx.coupon.couponId);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\": \", ctx.coupon == null ? null : ctx.coupon.name, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.coupon == null ? null : ctx.coupon.description);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(23, 18, \"myCoupons.effectiveTitle\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(26, 20, ctx.coupon == null ? null : ctx.coupon.startDate, \"medium\"), \" - \", i0.ɵɵpipeBind2(27, 23, ctx.coupon == null ? null : ctx.coupon.endDate, \"medium\"), \" \");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(31, 26, \"myCoupons.status\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵclassMapInterpolate1(\"cx-coupon-status \", i0.ɵɵpipeBind1(33, 28, ctx.coupon == null ? null : ctx.coupon.status), \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(35, 30, \"myCoupons.\" + (ctx.coupon == null ? null : ctx.coupon.status)), \" \");\n      }\n    },\n    directives: [IconComponent],\n    pipes: [i1.TranslatePipe, i1.CxDatePipe, i3.LowerCasePipe],\n    encapsulation: 2\n  });\n  return CouponDialogComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CouponCardComponent = /*#__PURE__*/(() => {\n  class CouponCardComponent {\n    constructor(modalService, myCouponsComponentService) {\n      this.modalService = modalService;\n      this.myCouponsComponentService = myCouponsComponentService;\n      this.notificationChanged = new EventEmitter();\n    }\n    onSubscriptionChange() {\n      this.notificationChanged.emit({\n        couponId: this.coupon.couponId,\n        notification: !this.coupon.notificationOn\n      });\n    }\n    readMore() {\n      let modalInstance;\n      this.modalRef = this.modalService.open(CouponDialogComponent, {\n        centered: true,\n        size: 'lg'\n      });\n      modalInstance = this.modalRef.componentInstance;\n      modalInstance.coupon = this.coupon;\n    }\n    findProducts() {\n      this.myCouponsComponentService.launchSearchPage(this.coupon);\n    }\n  }\n  CouponCardComponent.ɵfac = function CouponCardComponent_Factory(t) {\n    return new (t || CouponCardComponent)(i0.ɵɵdirectiveInject(ModalService), i0.ɵɵdirectiveInject(MyCouponsComponentService));\n  };\n  CouponCardComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CouponCardComponent,\n    selectors: [[\"cx-coupon-card\"]],\n    inputs: {\n      coupon: \"coupon\",\n      couponSubscriptionLoading$: \"couponSubscriptionLoading$\"\n    },\n    outputs: {\n      notificationChanged: \"notificationChanged\"\n    },\n    decls: 40,\n    vars: 38,\n    consts: [[1, \"card\"], [1, \"card-body\", \"cx-card-body\"], [1, \"cx-coupon-data\"], [1, \"cx-coupon-card-row\", \"top\"], [1, \"cx-coupon-card-head\"], [1, \"card-label-bold\", \"cx-coupon-card-id\"], [1, \"cx-coupon-card-date\"], [1, \"cx-coupon-date\"], [1, \"cx-coupon-date-start\"], [1, \"cx-coupon-date-end\"], [1, \"cx-card-read-more\", 3, \"click\"], [1, \"cx-coupon-card-row\", \"bottom\"], [1, \"cx-coupon-notification\", \"form-check\"], [\"type\", \"checkbox\", 1, \"form-check-input\", 3, \"checked\", \"disabled\", \"change\"], [1, \"form-check-label\"], [1, \"cx-coupon-find-product\", \"col-lg-6\", \"col-md-12\", \"col-sm-6\"], [1, \"btn\", \"btn-block\", \"btn-action\", 3, \"click\"]],\n    template: function CouponCardComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelementStart(3, \"div\", 3);\n        i0.ɵɵelementStart(4, \"div\", 4);\n        i0.ɵɵelementStart(5, \"span\", 5);\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"span\");\n        i0.ɵɵtext(8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\");\n        i0.ɵɵpipe(10, \"lowercase\");\n        i0.ɵɵtext(11);\n        i0.ɵɵpipe(12, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 6);\n        i0.ɵɵelementStart(14, \"p\");\n        i0.ɵɵtext(15);\n        i0.ɵɵpipe(16, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 7);\n        i0.ɵɵelementStart(18, \"div\", 8);\n        i0.ɵɵtext(19);\n        i0.ɵɵpipe(20, \"cxDate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"div\", 9);\n        i0.ɵɵtext(22);\n        i0.ɵɵpipe(23, \"cxDate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(24, \"a\", 10);\n        i0.ɵɵlistener(\"click\", function CouponCardComponent_Template_a_click_24_listener() {\n          return ctx.readMore();\n        });\n        i0.ɵɵtext(25);\n        i0.ɵɵpipe(26, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"div\", 11);\n        i0.ɵɵelementStart(28, \"div\", 12);\n        i0.ɵɵelementStart(29, \"label\");\n        i0.ɵɵelementStart(30, \"input\", 13);\n        i0.ɵɵlistener(\"change\", function CouponCardComponent_Template_input_change_30_listener() {\n          return ctx.onSubscriptionChange();\n        });\n        i0.ɵɵpipe(31, \"async\");\n        i0.ɵɵpipe(32, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"span\", 14);\n        i0.ɵɵtext(34);\n        i0.ɵɵpipe(35, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"div\", 15);\n        i0.ɵɵelementStart(37, \"button\", 16);\n        i0.ɵɵlistener(\"click\", function CouponCardComponent_Template_button_click_37_listener() {\n          return ctx.findProducts();\n        });\n        i0.ɵɵtext(38);\n        i0.ɵɵpipe(39, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.coupon == null ? null : ctx.coupon.couponId);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\": \", ctx.coupon == null ? null : ctx.coupon.name, \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵclassMapInterpolate1(\"cx-coupon-status \", i0.ɵɵpipeBind1(10, 16, ctx.coupon == null ? null : ctx.coupon.status), \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(12, 18, \"myCoupons.\" + (ctx.coupon == null ? null : ctx.coupon.status)), \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(16, 20, \"myCoupons.effectiveTitle\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(20, 22, ctx.coupon == null ? null : ctx.coupon.startDate, \"medium\"), \" -\\xA0 \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(23, 25, ctx.coupon == null ? null : ctx.coupon.endDate, \"medium\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(26, 28, \"myCoupons.readMore\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵclassProp(\"disabled\", i0.ɵɵpipeBind1(31, 30, ctx.couponSubscriptionLoading$));\n        i0.ɵɵproperty(\"checked\", ctx.coupon == null ? null : ctx.coupon.notificationOn)(\"disabled\", i0.ɵɵpipeBind1(32, 32, ctx.couponSubscriptionLoading$));\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(35, 34, \"myCoupons.notification\"), \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(39, 36, \"myCoupons.findProducts\"), \" \");\n      }\n    },\n    pipes: [i3.LowerCasePipe, i1.TranslatePipe, i1.CxDatePipe, i3.AsyncPipe],\n    encapsulation: 2\n  });\n  return CouponCardComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MyCouponsComponent = /*#__PURE__*/(() => {\n  class MyCouponsComponent {\n    constructor(couponService, myCouponsComponentService) {\n      this.couponService = couponService;\n      this.myCouponsComponentService = myCouponsComponentService;\n      this.iconTypes = ICON_TYPE;\n      this.subscriptions = new Subscription();\n      this.PAGE_SIZE = 10;\n      this.sortMapping = {\n        byStartDateAsc: 'startDate:asc',\n        byStartDateDesc: 'startDate:desc',\n        byEndDateAsc: 'endDate:asc',\n        byEndDateDesc: 'endDate:desc'\n      };\n      this.sort = 'byStartDateAsc';\n      this.sortOptions = [{\n        code: 'byStartDateAsc',\n        selected: false\n      }, {\n        code: 'byStartDateDesc',\n        selected: false\n      }, {\n        code: 'byEndDateAsc',\n        selected: false\n      }, {\n        code: 'byEndDateDesc',\n        selected: false\n      }];\n    }\n    ngOnInit() {\n      this.couponResult$ = this.couponService.getCustomerCoupons(this.PAGE_SIZE).pipe(tap(coupons => this.pagination = {\n        currentPage: coupons.pagination.page,\n        pageSize: coupons.pagination.count,\n        totalPages: coupons.pagination.totalPages,\n        totalResults: coupons.pagination.totalCount,\n        sort: this.sort\n      }));\n      this.couponsLoading$ = this.couponService.getCustomerCouponsLoading();\n      this.couponSubscriptionLoading$ = combineLatest([this.couponService.getSubscribeCustomerCouponResultLoading(), this.couponService.getUnsubscribeCustomerCouponResultLoading()]).pipe(map(([subscribing, unsubscribing]) => subscribing || unsubscribing));\n      this.sortLabels = this.myCouponsComponentService.getSortLabels();\n      this.subscriptions.add(this.couponService.getSubscribeCustomerCouponResultError().subscribe(error => {\n        this.subscriptionFail(error);\n      })).add(this.couponService.getUnsubscribeCustomerCouponResultError().subscribe(error => {\n        this.subscriptionFail(error);\n      }));\n    }\n    subscriptionFail(error) {\n      if (error) {\n        this.couponService.loadCustomerCoupons(this.PAGE_SIZE);\n      }\n    }\n    sortChange(sort) {\n      this.sort = sort;\n      this.couponService.loadCustomerCoupons(this.PAGE_SIZE, this.pagination.currentPage, this.sortMapping[sort]);\n    }\n    pageChange(page) {\n      this.couponService.loadCustomerCoupons(this.PAGE_SIZE, page, this.sortMapping[this.sort]);\n    }\n    notificationChange({\n      couponId,\n      notification\n    }) {\n      if (notification) {\n        this.couponService.subscribeCustomerCoupon(couponId);\n      } else {\n        this.couponService.unsubscribeCustomerCoupon(couponId);\n      }\n    }\n    ngOnDestroy() {\n      this.subscriptions.unsubscribe();\n    }\n  }\n  MyCouponsComponent.ɵfac = function MyCouponsComponent_Factory(t) {\n    return new (t || MyCouponsComponent)(i0.ɵɵdirectiveInject(i1.CustomerCouponService), i0.ɵɵdirectiveInject(MyCouponsComponentService));\n  };\n  MyCouponsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: MyCouponsComponent,\n    selectors: [[\"cx-my-coupons\"]],\n    decls: 5,\n    vars: 4,\n    consts: [[1, \"cx-section\"], [4, \"ngIf\", \"ngIfElse\"], [\"loading\", \"\"], [4, \"ngIf\"], [\"noCoupons\", \"\"], [1, \"cx-my-coupons-header\"], [1, \"cx-my-coupons-sort\", \"top\", \"row\"], [1, \"cx-my-coupons-form-group\", \"form-group\", \"col-sm-12\", \"col-md-4\", \"col-lg-4\"], [3, \"sortOptions\", \"sortLabels\", \"selectedOption\", \"sortListEvent\"], [1, \"cx-my-coupons-pagination\", \"cx-mycoupon-thead-mobile\"], [3, \"pagination\", \"viewPageEvent\"], [1, \"row\", \"cx-coupon-deck\"], [\"class\", \"col-md-6 cx-coupon-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"cx-my-coupons-sort\", \"bottom\", \"row\"], [1, \"cx-my-coupons-form-group\", \"form-group\", \"cx-mycoupon-thead-mobile\", \"col-sm-12\", \"col-md-4\", \"col-lg-4\"], [3, \"sortOptions\", \"sortLabels\", \"selectedOption\", \"placeholder\", \"sortListEvent\"], [1, \"cx-my-coupons-pagination\"], [1, \"cx-my-coupons-notes\"], [3, \"type\"], [3, \"routerLink\"], [1, \"col-md-6\", \"cx-coupon-card\"], [3, \"coupon\", \"couponSubscriptionLoading$\", \"notificationChanged\"], [1, \"cx-section-msg\"], [1, \"col-md-12\", \"cx-coupon-spinner\"]],\n    template: function MyCouponsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, MyCouponsComponent_ng_container_1_Template, 5, 3, \"ng-container\", 1);\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵtemplate(3, MyCouponsComponent_ng_template_3_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(4);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(2, 2, ctx.couponsLoading$))(\"ngIfElse\", _r1);\n      }\n    },\n    directives: [i3.NgIf, SortingComponent, PaginationComponent, i3.NgForOf, IconComponent, i1$1.RouterLinkWithHref, CouponCardComponent, SpinnerComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return MyCouponsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CouponClaimComponent = /*#__PURE__*/(() => {\n  class CouponClaimComponent {\n    constructor(couponService, routingService, messageService) {\n      this.couponService = couponService;\n      this.routingService = routingService;\n      this.messageService = messageService;\n    }\n    ngOnInit() {\n      this.routingService.getRouterState().subscribe(k => {\n        const couponCode = k.state.params.couponCode;\n        if (couponCode) {\n          this.couponService.claimCustomerCoupon(couponCode);\n          this.subscription = this.couponService.getClaimCustomerCouponResultSuccess().subscribe(success => {\n            if (success) {\n              this.messageService.add({\n                key: 'myCoupons.claimCustomerCoupon'\n              }, GlobalMessageType.MSG_TYPE_CONFIRMATION);\n            }\n            this.routingService.go({\n              cxRoute: 'coupons'\n            });\n          });\n        } else {\n          this.routingService.go({\n            cxRoute: 'notFound'\n          });\n        }\n      }).unsubscribe();\n    }\n    ngOnDestroy() {\n      if (this.subscription) {\n        this.subscription.unsubscribe();\n      }\n    }\n  }\n  CouponClaimComponent.ɵfac = function CouponClaimComponent_Factory(t) {\n    return new (t || CouponClaimComponent)(i0.ɵɵdirectiveInject(i1.CustomerCouponService), i0.ɵɵdirectiveInject(i1.RoutingService), i0.ɵɵdirectiveInject(i1.GlobalMessageService));\n  };\n  CouponClaimComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CouponClaimComponent,\n    selectors: [[\"cx-coupon-claim\"]],\n    decls: 0,\n    vars: 0,\n    template: function CouponClaimComponent_Template(rf, ctx) {},\n    encapsulation: 2\n  });\n  return CouponClaimComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MyCouponsModule = /*#__PURE__*/(() => {\n  class MyCouponsModule {}\n  MyCouponsModule.ɵfac = function MyCouponsModule_Factory(t) {\n    return new (t || MyCouponsModule)();\n  };\n  MyCouponsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: MyCouponsModule\n  });\n  MyCouponsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        MyCouponsComponent: {\n          component: MyCouponsComponent,\n          guards: [AuthGuard]\n        },\n        CouponClaimComponent: {\n          component: CouponClaimComponent,\n          guards: [AuthGuard]\n        }\n      }\n    })],\n    imports: [[CommonModule, CardModule, SpinnerModule, I18nModule, RouterModule, UrlModule, IconModule, ListNavigationModule, RouterModule.forChild([{\n      path: null,\n      canActivate: [AuthGuard, CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'couponClaim'\n      }\n    }])]]\n  });\n  return MyCouponsModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MyInterestsComponent = /*#__PURE__*/(() => {\n  class MyInterestsComponent {\n    constructor(productInterestService, translationService, productService) {\n      this.productInterestService = productInterestService;\n      this.translationService = translationService;\n      this.productService = productService;\n      this.DEFAULT_PAGE_SIZE = 10;\n      this.sortMapping = {\n        byNameAsc: 'name:asc',\n        byNameDesc: 'name:desc'\n      };\n      this.sort = 'byNameAsc';\n      this.sortOptions = [{\n        code: 'byNameAsc',\n        selected: false\n      }, {\n        code: 'byNameDesc',\n        selected: false\n      }];\n    }\n    ngOnInit() {\n      this.interests$ = this.productInterestService.getAndLoadProductInterests(this.DEFAULT_PAGE_SIZE).pipe(tap(interests => this.pagination = {\n        currentPage: interests.pagination.page,\n        pageSize: interests.pagination.count,\n        totalPages: interests.pagination.totalPages,\n        totalResults: interests.pagination.totalCount,\n        sort: 'byNameAsc'\n      }), map(interest => Object.assign(Object.assign({}, interest), {\n        results: interest.results ? interest.results.map(result => Object.assign(Object.assign({}, result), {\n          product$: this.getProduct(result)\n        })) : interest.results\n      })));\n      this.getInterestsloading$ = this.productInterestService.getProdutInterestsLoading();\n      this.isRemoveDisabled$ = combineLatest([this.getInterestsloading$, this.productInterestService.getRemoveProdutInterestLoading()]).pipe(map(([getLoading, removeLoading]) => getLoading || removeLoading));\n      this.sortLabels = this.getSortLabels();\n    }\n    getSortLabels() {\n      return combineLatest([this.translationService.translate('myInterests.sorting.byNameAsc'), this.translationService.translate('myInterests.sorting.byNameDesc')]).pipe(map(([asc, desc]) => {\n        return {\n          byNameAsc: asc,\n          byNameDesc: desc\n        };\n      }));\n    }\n    getProduct(interest) {\n      return this.productService.get(interest.product.code, \"details\" /* DETAILS */);\n    }\n\n    removeInterest(relation) {\n      this.productInterestService.removeProdutInterest({\n        product: relation.product,\n        productInterestEntry: relation.productInterestEntry\n      });\n    }\n    sortChange(sort) {\n      this.sort = sort;\n      this.productInterestService.loadProductInterests(this.DEFAULT_PAGE_SIZE, 0, this.sortMapping[sort]);\n    }\n    pageChange(page) {\n      this.productInterestService.loadProductInterests(this.DEFAULT_PAGE_SIZE, page, this.sortMapping[this.sort]);\n    }\n    ngOnDestroy() {\n      this.productInterestService.clearProductInterests();\n      this.productInterestService.resetRemoveInterestState();\n    }\n  }\n  MyInterestsComponent.ɵfac = function MyInterestsComponent_Factory(t) {\n    return new (t || MyInterestsComponent)(i0.ɵɵdirectiveInject(i1.UserInterestsService), i0.ɵɵdirectiveInject(i1.TranslationService), i0.ɵɵdirectiveInject(i1.ProductService));\n  };\n  MyInterestsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: MyInterestsComponent,\n    selectors: [[\"cx-my-interests\"]],\n    decls: 6,\n    vars: 3,\n    consts: [[\"class\", \"container\", 4, \"ngIf\"], [\"noInterest\", \"\"], [\"loading\", \"\"], [1, \"container\"], [1, \"cx-product-interests-title\", \"h3\"], [\"class\", \"cx-product-interests-body\", 4, \"ngIf\", \"ngIfElse\"], [1, \"cx-product-interests-body\"], [4, \"ngIf\", \"ngIfElse\"], [1, \"cx-product-interests-sort\", \"top\", \"row\"], [1, \"cx-product-interests-form-group\", \"form-group\", \"col-sm-12\", \"col-md-4\", \"col-lg-4\"], [3, \"sortOptions\", \"sortLabels\", \"selectedOption\", \"placeholder\", \"sortListEvent\"], [1, \"cx-product-interests-pagination\", \"cx-product-interests-thead-mobile\"], [3, \"pagination\", \"viewPageEvent\"], [1, \"table\", \"cx-product-interests-table\"], [1, \"cx-product-interests-thead-mobile\"], [\"scope\", \"col\"], [\"class\", \"cx-product-interests-product-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"cx-product-interests-sort\", \"bottom\", \"row\"], [1, \"cx-product-interests-form-group\", \"cx-product-interests-thead-mobile\", \"form-group\", \"col-sm-12\", \"col-md-4\", \"col-lg-4\"], [1, \"cx-product-interests-pagination\"], [1, \"cx-product-interests-product-item\"], [4, \"ngIf\"], [1, \"cx-product-interests-label\"], [\"tabindex\", \"-1\", 1, \"cx-product-interests-product-image-link\", 3, \"routerLink\"], [\"format\", \"thumbnail\", 3, \"container\"], [1, \"cx-info\", \"col-10\"], [1, \"cx-info-container\", \"row\"], [\"class\", \"cx-name\", 4, \"ngIf\"], [\"class\", \"cx-code\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"cx-property\", 4, \"ngIf\"], [1, \"cx-product-interests-product-price\"], [1, \"d-md-none\", \"cx-product-interests-label\"], [1, \"cx-product-interests-subscriptions\"], [\"class\", \"cx-product-interests-notification\", 4, \"ngFor\", \"ngForOf\"], [1, \"cx-actions\", \"cx-product-interests-remove-button\"], [\"type\", \"button\", 1, \"link\", \"cx-product-interests-remove-btn\", 3, \"disabled\", \"click\"], [1, \"cx-name\"], [1, \"cx-link\", \"cx-product-interests-product-code-link\", 3, \"routerLink\"], [1, \"cx-code\"], [\"class\", \"cx-property\", 4, \"ngFor\", \"ngForOf\"], [1, \"cx-property\"], [1, \"cx-label\", \"cx-product-interests-variant-name\"], [1, \"cx-value\", \"cx-product-interests-variant-value\"], [1, \"cx-label\", \"cx-product-interests-product-stock\"], [1, \"cx-product-interests-notification\"], [1, \"cx-product-interests-type\"], [1, \"cx-product-interests-expiration-date\"], [1, \"cx-product-interests-message\"], [1, \"cx-spinner\"]],\n    template: function MyInterestsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, MyInterestsComponent_div_0_Template, 7, 7, \"div\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵtemplate(2, MyInterestsComponent_ng_template_2_Template, 3, 3, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(4, MyInterestsComponent_ng_template_4_Template, 2, 0, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.interests$));\n      }\n    },\n    directives: [i3.NgIf, SortingComponent, PaginationComponent, i3.NgForOf, i1$1.RouterLinkWithHref, MediaComponent, SpinnerComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe, i1.UrlPipe, i3.DatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return MyInterestsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet MyInterestsModule = /*#__PURE__*/(() => {\n  class MyInterestsModule {}\n  MyInterestsModule.ɵfac = function MyInterestsModule_Factory(t) {\n    return new (t || MyInterestsModule)();\n  };\n  MyInterestsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: MyInterestsModule\n  });\n  MyInterestsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        MyInterestsComponent: {\n          component: MyInterestsComponent,\n          guards: [AuthGuard]\n        }\n      }\n    })],\n    imports: [[CommonModule, I18nModule, RouterModule, ListNavigationModule, I18nModule, UrlModule, MediaModule, SpinnerModule]]\n  });\n  return MyInterestsModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet NotificationPreferenceComponent = /*#__PURE__*/(() => {\n  class NotificationPreferenceComponent {\n    constructor(notificationPreferenceService) {\n      this.notificationPreferenceService = notificationPreferenceService;\n      this.preferences = [];\n    }\n    ngOnInit() {\n      this.notificationPreferenceService.resetNotificationPreferences();\n      this.preferences$ = this.notificationPreferenceService.getPreferences().pipe(tap(preferences => this.preferences = preferences));\n      this.notificationPreferenceService.loadPreferences();\n      this.isLoading$ = combineLatest([this.notificationPreferenceService.getPreferencesLoading(), this.notificationPreferenceService.getUpdatePreferencesResultLoading()]).pipe(map(([prefsLoading, updateLoading]) => prefsLoading || updateLoading));\n    }\n    updatePreference(preference) {\n      const updatedPreferences = [];\n      this.preferences.forEach(p => {\n        if (p.channel === preference.channel) {\n          updatedPreferences.push(Object.assign(Object.assign({}, p), {\n            enabled: !p.enabled\n          }));\n        } else {\n          updatedPreferences.push(p);\n        }\n      });\n      this.notificationPreferenceService.updatePreferences(updatedPreferences);\n    }\n  }\n  NotificationPreferenceComponent.ɵfac = function NotificationPreferenceComponent_Factory(t) {\n    return new (t || NotificationPreferenceComponent)(i0.ɵɵdirectiveInject(i1.UserNotificationPreferenceService));\n  };\n  NotificationPreferenceComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: NotificationPreferenceComponent,\n    selectors: [[\"cx-notification-preference\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [4, \"ngIf\", \"ngIfElse\"], [\"loading\", \"\"], [1, \"row\", \"d-flex\", \"justify-content-center\"], [1, \"col-md-8\"], [1, \"pref-header\"], [1, \"form-check\", \"cx-notification-channels\"], [4, \"ngFor\", \"ngForOf\"], [1, \"pref-note\"], [\"class\", \"pref-channel\", 4, \"ngIf\"], [1, \"pref-channel\"], [\"role\", \"checkbox\", \"type\", \"checkbox\", 1, \"form-check-input\", \"cx-np-checkbox\", 3, \"checked\", \"disabled\", \"change\"], [1, \"form-check-label\"], [1, \"cx-spinner\"]],\n    template: function NotificationPreferenceComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, NotificationPreferenceComponent_ng_container_0_Template, 4, 2, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.preferences$));\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, SpinnerComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return NotificationPreferenceComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet NotificationPreferenceModule = /*#__PURE__*/(() => {\n  class NotificationPreferenceModule {}\n  NotificationPreferenceModule.ɵfac = function NotificationPreferenceModule_Factory(t) {\n    return new (t || NotificationPreferenceModule)();\n  };\n  NotificationPreferenceModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: NotificationPreferenceModule\n  });\n  NotificationPreferenceModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        NotificationPreferenceComponent: {\n          component: NotificationPreferenceComponent,\n          guards: [AuthGuard]\n        }\n      }\n    })],\n    imports: [[CommonModule, SpinnerModule, I18nModule]]\n  });\n  return NotificationPreferenceModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet AmendOrderActionsComponent = /*#__PURE__*/(() => {\n  class AmendOrderActionsComponent {\n    constructor(routingService) {\n      this.routingService = routingService;\n      this.styles = 'row';\n    }\n    continue(event) {\n      if (this.amendOrderForm.valid) {\n        this.routingService.go({\n          cxRoute: this.forwardRoute,\n          params: {\n            code: this.orderCode\n          }\n        });\n      } else {\n        this.amendOrderForm.markAllAsTouched();\n        event.stopPropagation();\n      }\n    }\n  }\n  AmendOrderActionsComponent.ɵfac = function AmendOrderActionsComponent_Factory(t) {\n    return new (t || AmendOrderActionsComponent)(i0.ɵɵdirectiveInject(i1.RoutingService));\n  };\n  AmendOrderActionsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: AmendOrderActionsComponent,\n    selectors: [[\"cx-amend-order-actions\"]],\n    hostVars: 2,\n    hostBindings: function AmendOrderActionsComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassMap(ctx.styles);\n      }\n    },\n    inputs: {\n      orderCode: \"orderCode\",\n      amendOrderForm: \"amendOrderForm\",\n      backRoute: \"backRoute\",\n      forwardRoute: \"forwardRoute\"\n    },\n    decls: 8,\n    vars: 13,\n    consts: [[1, \"col-xs-12\", \"col-md-4\", \"col-lg-3\"], [1, \"btn\", \"btn-block\", \"btn-action\", 3, \"routerLink\"], [\"class\", \"btn btn-block btn-primary\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-block btn-primary\", \"type\", \"submit\", 4, \"ngIf\"], [1, \"btn\", \"btn-block\", \"btn-primary\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-block\", \"btn-primary\"]],\n    template: function AmendOrderActionsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"a\", 1);\n        i0.ɵɵpipe(2, \"cxUrl\");\n        i0.ɵɵtext(3);\n        i0.ɵɵpipe(4, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 0);\n        i0.ɵɵtemplate(6, AmendOrderActionsComponent_button_6_Template, 3, 3, \"button\", 2);\n        i0.ɵɵtemplate(7, AmendOrderActionsComponent_button_7_Template, 3, 3, \"button\", 3);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(2, 4, i0.ɵɵpureFunction2(10, _c33, ctx.backRoute, i0.ɵɵpureFunction1(8, _c21, ctx.orderCode))));\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 6, \"common.back\"), \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.forwardRoute);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.forwardRoute);\n      }\n    },\n    directives: [i1$1.RouterLinkWithHref, i3.NgIf],\n    pipes: [i1.UrlPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return AmendOrderActionsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet AmendOrderActionsModule = /*#__PURE__*/(() => {\n  class AmendOrderActionsModule {}\n  AmendOrderActionsModule.ɵfac = function AmendOrderActionsModule_Factory(t) {\n    return new (t || AmendOrderActionsModule)();\n  };\n  AmendOrderActionsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: AmendOrderActionsModule\n  });\n  AmendOrderActionsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, RouterModule, UrlModule, I18nModule]]\n  });\n  return AmendOrderActionsModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nvar AmendOrderType = /*#__PURE__*/(() => {\n  (function (AmendOrderType) {\n    AmendOrderType[AmendOrderType[\"CANCEL\"] = 0] = \"CANCEL\";\n    AmendOrderType[AmendOrderType[\"RETURN\"] = 1] = \"RETURN\";\n  })(AmendOrderType || (AmendOrderType = {}));\n  return AmendOrderType;\n})();\n// TODO: remove this token in 5.0\nclass OrderDetailsServiceTransitionalToken {}\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet OrderDetailsService = /*#__PURE__*/(() => {\n  class OrderDetailsService {\n    constructor(userOrderService, routingService, unifiedInjector) {\n      this.userOrderService = userOrderService;\n      this.routingService = routingService;\n      this.unifiedInjector = unifiedInjector;\n      this.orderCode$ = this.routingService.getRouterState().pipe(map(routingData => routingData.state.params.orderCode), distinctUntilChanged());\n      this.orderLoad$ = this.orderCode$.pipe(tap(orderCode => {\n        if (orderCode) {\n          this.userOrderService.loadOrderDetails(orderCode);\n        } else {\n          this.userOrderService.clearOrderDetails();\n        }\n      }), shareReplay({\n        bufferSize: 1,\n        refCount: true\n      }));\n    }\n    getOrderDetails() {\n      if (this.unifiedInjector) {\n        const serivce = getLastValueSync(this.unifiedInjector.get(OrderDetailsServiceTransitionalToken));\n        if (serivce) {\n          return serivce.getOrderDetails();\n        }\n      }\n      return this.orderLoad$.pipe(switchMap(() => this.userOrderService.getOrderDetails()));\n    }\n  }\n  OrderDetailsService.ɵfac = function OrderDetailsService_Factory(t) {\n    return new (t || OrderDetailsService)(i0.ɵɵinject(i1.UserOrderService), i0.ɵɵinject(i1.RoutingService), i0.ɵɵinject(i1.UnifiedInjector));\n  };\n  OrderDetailsService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: OrderDetailsService,\n    factory: OrderDetailsService.ɵfac,\n    providedIn: 'root'\n  });\n  return OrderDetailsService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction ValidateQuantityToCancel(control) {\n  if (!control.value) {\n    return null;\n  }\n  const quantity = Object.values(control.value).reduce((acc, val) => acc + val, 0);\n  return quantity > 0 ? null : {\n    cxNoSelectedItemToCancel: true\n  };\n}\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet OrderAmendService = /*#__PURE__*/(() => {\n  class OrderAmendService {\n    constructor(orderDetailsService) {\n      this.orderDetailsService = orderDetailsService;\n    }\n    /**\n     * Returns entries with an amended quantity.\n     */\n    getAmendedEntries() {\n      return this.getForm().pipe(switchMap(form => {\n        return this.getEntries().pipe(map(entries => entries.filter(entry => this.getFormControl(form, entry).value > 0)));\n      }));\n    }\n    getOrder() {\n      return this.orderDetailsService.getOrderDetails();\n    }\n    /**\n     * returns the form with form data at runtime\n     */\n    getForm() {\n      return this.getOrder().pipe(tap(order => {\n        if (!this.form || this.form.get('orderCode').value !== order.code) {\n          this.buildForm(order);\n        }\n      }), map(() => this.form));\n    }\n    buildForm(order) {\n      this.form = new FormGroup({});\n      this.form.addControl('orderCode', new FormControl(order.code));\n      const entryGroup = new FormGroup({}, {\n        validators: [ValidateQuantityToCancel]\n      });\n      this.form.addControl('entries', entryGroup);\n      (order.entries || []).forEach(entry => {\n        const key = entry.entryNumber.toString();\n        entryGroup.addControl(key, new FormControl(0, {\n          validators: [Validators.min(0), Validators.max(this.getMaxAmendQuantity(entry))]\n        }));\n      });\n    }\n    getFormControl(form, entry) {\n      return form.get('entries').get(entry.entryNumber.toString());\n    }\n    /**\n     * As discussed, this calculation is moved to SPA side.\n     * The calculation and validation should be in backend facade layer.\n     */\n    getAmendedPrice(entry) {\n      const amendedQuantity = this.getFormControl(this.form, entry).value;\n      const amendedPrice = Object.assign({}, entry.basePrice);\n      amendedPrice.value = Math.round(entry.basePrice.value * amendedQuantity * 100) / 100;\n      amendedPrice.formattedValue = formatCurrency(amendedPrice.value,\n      // TODO: user current language\n      'en', getCurrencySymbol(amendedPrice.currencyIso, 'narrow'), amendedPrice.currencyIso);\n      return amendedPrice;\n    }\n    getMaxAmendQuantity(entry) {\n      return (this.isCancellation() ? entry.cancellableQuantity : entry.returnableQuantity) || entry.quantity;\n    }\n    isCancellation() {\n      return this.amendType === AmendOrderType.CANCEL;\n    }\n  }\n  OrderAmendService.ɵfac = function OrderAmendService_Factory(t) {\n    return new (t || OrderAmendService)(i0.ɵɵinject(OrderDetailsService));\n  };\n  OrderAmendService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: OrderAmendService,\n    factory: OrderAmendService.ɵfac\n  });\n  return OrderAmendService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet CancelOrReturnItemsComponent = /*#__PURE__*/(() => {\n  class CancelOrReturnItemsComponent {\n    constructor(orderAmendService) {\n      this.orderAmendService = orderAmendService;\n      this.isConfirmation = false;\n      this.form$ = this.orderAmendService.getForm();\n    }\n    getControl(form, entry) {\n      const control = form.get('entries').get(entry.entryNumber.toString());\n      return control;\n    }\n    setAll(form) {\n      this.entries.forEach(entry => this.getControl(form, entry).setValue(this.getMaxAmendQuantity(entry)));\n    }\n    getItemPrice(entry) {\n      return this.orderAmendService.getAmendedPrice(entry);\n    }\n    getMaxAmendQuantity(entry) {\n      return this.orderAmendService.getMaxAmendQuantity(entry);\n    }\n    isCancellation() {\n      return this.orderAmendService.isCancellation();\n    }\n  }\n  CancelOrReturnItemsComponent.ɵfac = function CancelOrReturnItemsComponent_Factory(t) {\n    return new (t || CancelOrReturnItemsComponent)(i0.ɵɵdirectiveInject(OrderAmendService));\n  };\n  CancelOrReturnItemsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CancelOrReturnItemsComponent,\n    selectors: [[\"cx-amend-order-items\"]],\n    inputs: {\n      entries: \"entries\",\n      isConfirmation: \"isConfirmation\"\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [\"class\", \"btn btn-link cx-action-link\", 3, \"click\", 4, \"ngIf\"], [1, \"d-none\", \"d-md-block\", \"cx-item-list-header\"], [1, \"row\"], [1, \"text-left\", \"col-6\"], [1, \"text-center\", \"col-2\"], [\"class\", \"text-center col-2\", 4, \"ngIf\"], [1, \"cx-item-list-qty\", \"col-2\", \"text-right\"], [\"class\", \"cx-item-list-total col-2\", 4, \"ngIf\"], [\"class\", \"cx-item-list-row\", 4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-link\", \"cx-action-link\", 3, \"click\"], [1, \"cx-item-list-total\", \"col-2\"], [1, \"cx-item-list-row\"], [1, \"row\", \"cx-item-list-items\"], [\"format\", \"thumbnail\", 1, \"col-2\", 3, \"container\"], [1, \"cx-info\", \"col-10\"], [1, \"cx-info-container\", \"row\"], [1, \"col-md-4\", \"col-xl-5\", \"cx-list-item-desc\"], [\"class\", \"cx-name\", 4, \"ngIf\"], [\"class\", \"cx-code\", 4, \"ngIf\"], [\"class\", \"cx-price col-md-3 col-lg-3 col-xl-2\", 4, \"ngIf\"], [\"class\", \"cx-request-qty col-md-3\", 4, \"ngIf\"], [1, \"cx-quantity\", \"col-xs-12\", \"col-md-2\", \"col-sm-12\"], [1, \"cx-label\", \"d-block\", \"d-md-none\", \"d-lg-none\", \"d-xl-none\"], [\"class\", \"w-100 text-center cx-order-quantity-value\", 4, \"ngIf\"], [3, \"min\", \"max\", \"control\", 4, \"ngIf\"], [\"class\", \"cx-total col-3\", 4, \"ngIf\"], [1, \"cx-name\"], [1, \"cx-code\"], [\"class\", \"cx-property\", 4, \"ngFor\", \"ngForOf\"], [1, \"cx-property\"], [\"class\", \"cx-label\", 4, \"ngIf\"], [\"class\", \"cx-value\", 4, \"ngIf\"], [1, \"cx-label\"], [1, \"cx-value\"], [1, \"cx-price\", \"col-md-3\", \"col-lg-3\", \"col-xl-2\"], [1, \"cx-request-qty\", \"col-md-3\"], [\"placement\", \"left\", 1, \"cx-label\", \"d-block\", \"d-md-none\", \"d-lg-none\", \"d-xl-none\", 3, \"title\"], [1, \"w-100\", \"text-center\", \"cx-order-quantity-value\"], [3, \"min\", \"max\", \"control\"], [1, \"cx-total\", \"col-3\"], [1, \"cx-label\", \"d-block\", \"d-md-none\"]],\n    template: function CancelOrReturnItemsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CancelOrReturnItemsComponent_div_0_Template, 16, 13, \"div\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.form$));\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, MediaComponent, ItemCounterComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return CancelOrReturnItemsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet AmendOrderItemsModule = /*#__PURE__*/(() => {\n  class AmendOrderItemsModule {}\n  AmendOrderItemsModule.ɵfac = function AmendOrderItemsModule_Factory(t) {\n    return new (t || AmendOrderItemsModule)();\n  };\n  AmendOrderItemsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: AmendOrderItemsModule\n  });\n  AmendOrderItemsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, ReactiveFormsModule, I18nModule, MediaModule, ItemCounterModule, FeaturesConfigModule, FormErrorsModule]]\n  });\n  return AmendOrderItemsModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet CancelOrderConfirmationComponent = /*#__PURE__*/(() => {\n  class CancelOrderConfirmationComponent {\n    constructor(orderAmendService) {\n      this.orderAmendService = orderAmendService;\n      this.form$ = this.orderAmendService.getForm().pipe(tap(form => this.orderCode = form.value.orderCode));\n      this.entries$ = this.orderAmendService.getAmendedEntries();\n    }\n    submit(form) {\n      if (form.valid) {\n        this.orderAmendService.save();\n      } else {\n        form.markAllAsTouched();\n      }\n    }\n  }\n  CancelOrderConfirmationComponent.ɵfac = function CancelOrderConfirmationComponent_Factory(t) {\n    return new (t || CancelOrderConfirmationComponent)(i0.ɵɵdirectiveInject(OrderAmendService));\n  };\n  CancelOrderConfirmationComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CancelOrderConfirmationComponent,\n    selectors: [[\"cx-cancel-order-confirmation\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [4, \"ngTemplateOutlet\"], [3, \"entries\", \"isConfirmation\", 4, \"ngIf\"], [\"actions\", \"\"], [3, \"entries\", \"isConfirmation\"], [\"backRoute\", \"orderCancel\", 3, \"orderCode\", \"amendOrderForm\", 4, \"ngIf\"], [\"backRoute\", \"orderCancel\", 3, \"orderCode\", \"amendOrderForm\"]],\n    template: function CancelOrderConfirmationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CancelOrderConfirmationComponent_form_0_Template, 7, 6, \"form\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.form$));\n      }\n    },\n    directives: [i3.NgIf, i3$1.ɵNgNoValidate, i3$1.NgControlStatusGroup, i3$1.FormGroupDirective, i3.NgTemplateOutlet, CancelOrReturnItemsComponent, AmendOrderActionsComponent],\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return CancelOrderConfirmationComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet OrderCancellationService = /*#__PURE__*/(() => {\n  class OrderCancellationService extends OrderAmendService {\n    constructor(orderDetailsService, userOrderService, routing, globalMessageService) {\n      super(orderDetailsService);\n      this.orderDetailsService = orderDetailsService;\n      this.userOrderService = userOrderService;\n      this.routing = routing;\n      this.globalMessageService = globalMessageService;\n      this.amendType = AmendOrderType.CANCEL;\n    }\n    /**\n     * Return cancellable order entries.\n     */\n    getEntries() {\n      return this.getOrder().pipe(filter(order => !!(order === null || order === void 0 ? void 0 : order.entries)), map(order => order.entries.filter(entry => entry.entryNumber !== -1 && entry.cancellableQuantity > 0)));\n    }\n    save() {\n      const orderCode = this.form.value.orderCode;\n      const entries = this.form.value.entries;\n      const inputs = Object.keys(entries).filter(entryNumber => entries[entryNumber] > 0).map(entryNumber => ({\n        orderEntryNumber: Number(entryNumber),\n        quantity: entries[entryNumber]\n      }));\n      this.form.reset();\n      this.userOrderService.cancelOrder(orderCode, {\n        cancellationRequestEntryInputs: inputs\n      });\n      this.userOrderService.getCancelOrderSuccess().pipe(first(Boolean)).subscribe(() => this.afterSave(orderCode));\n    }\n    afterSave(orderCode) {\n      this.userOrderService.resetCancelOrderProcessState();\n      this.globalMessageService.add({\n        key: 'orderDetails.cancellationAndReturn.cancelSuccess',\n        params: {\n          orderCode\n        }\n      }, GlobalMessageType.MSG_TYPE_CONFIRMATION);\n      this.routing.go({\n        cxRoute: 'orders'\n      });\n    }\n  }\n  OrderCancellationService.ɵfac = function OrderCancellationService_Factory(t) {\n    return new (t || OrderCancellationService)(i0.ɵɵinject(OrderDetailsService), i0.ɵɵinject(i1.UserOrderService), i0.ɵɵinject(i1.RoutingService), i0.ɵɵinject(i1.GlobalMessageService));\n  };\n  OrderCancellationService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: OrderCancellationService,\n    factory: OrderCancellationService.ɵfac,\n    providedIn: 'root'\n  });\n  return OrderCancellationService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet OrderCancellationGuard = /*#__PURE__*/(() => {\n  class OrderCancellationGuard {\n    constructor(orderAmendService, semanticPathService, router) {\n      this.orderAmendService = orderAmendService;\n      this.semanticPathService = semanticPathService;\n      this.router = router;\n    }\n    canActivate() {\n      return this.orderAmendService.getForm().pipe(map(form => {\n        if (!form.valid) {\n          // the order code is not available in the route\n          // as long as we're inside a guard, hence we redirect\n          // to the common orders page.\n          return this.router.parseUrl(this.semanticPathService.get('orders'));\n        } else {\n          return true;\n        }\n      }));\n    }\n  }\n  OrderCancellationGuard.ɵfac = function OrderCancellationGuard_Factory(t) {\n    return new (t || OrderCancellationGuard)(i0.ɵɵinject(OrderCancellationService), i0.ɵɵinject(i1.SemanticPathService), i0.ɵɵinject(i1$1.Router));\n  };\n  OrderCancellationGuard.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: OrderCancellationGuard,\n    factory: OrderCancellationGuard.ɵfac,\n    providedIn: 'root'\n  });\n  return OrderCancellationGuard;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet CancelOrderConfirmationModule = /*#__PURE__*/(() => {\n  class CancelOrderConfirmationModule {}\n  CancelOrderConfirmationModule.ɵfac = function CancelOrderConfirmationModule_Factory(t) {\n    return new (t || CancelOrderConfirmationModule)();\n  };\n  CancelOrderConfirmationModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: CancelOrderConfirmationModule\n  });\n  CancelOrderConfirmationModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        CancelOrderConfirmationComponent: {\n          component: CancelOrderConfirmationComponent,\n          guards: [AuthGuard, OrderCancellationGuard],\n          providers: [{\n            provide: OrderAmendService,\n            useExisting: OrderCancellationService\n          }]\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule.forChild([{\n      path: null,\n      canActivate: [CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'orderCancelConfirmation'\n      }\n    }]), ReactiveFormsModule, AmendOrderItemsModule, AmendOrderActionsModule]]\n  });\n  return CancelOrderConfirmationModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet CancelOrderComponent = /*#__PURE__*/(() => {\n  class CancelOrderComponent {\n    constructor(orderAmendService) {\n      this.orderAmendService = orderAmendService;\n      this.form$ = this.orderAmendService.getForm().pipe(tap(form => this.orderCode = form.value.orderCode));\n      this.entries$ = this.orderAmendService.getEntries();\n    }\n  }\n  CancelOrderComponent.ɵfac = function CancelOrderComponent_Factory(t) {\n    return new (t || CancelOrderComponent)(i0.ɵɵdirectiveInject(OrderAmendService));\n  };\n  CancelOrderComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CancelOrderComponent,\n    selectors: [[\"cx-cancel-order\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [4, \"ngTemplateOutlet\"], [3, \"entries\", 4, \"ngIf\"], [\"aria-live\", \"assertive\", \"aria-atomic\", \"true\", 3, \"control\"], [\"actions\", \"\"], [3, \"entries\"], [\"backRoute\", \"orderDetails\", \"forwardRoute\", \"orderCancelConfirmation\", 3, \"orderCode\", \"amendOrderForm\", 4, \"ngIf\"], [\"backRoute\", \"orderDetails\", \"forwardRoute\", \"orderCancelConfirmation\", 3, \"orderCode\", \"amendOrderForm\"]],\n    template: function CancelOrderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CancelOrderComponent_ng_container_0_Template, 8, 6, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.form$));\n      }\n    },\n    directives: [i3.NgIf, i3.NgTemplateOutlet, FormErrorsComponent, CancelOrReturnItemsComponent, AmendOrderActionsComponent],\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return CancelOrderComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet CancelOrderModule = /*#__PURE__*/(() => {\n  class CancelOrderModule {}\n  CancelOrderModule.ɵfac = function CancelOrderModule_Factory(t) {\n    return new (t || CancelOrderModule)();\n  };\n  CancelOrderModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: CancelOrderModule\n  });\n  CancelOrderModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        CancelOrderComponent: {\n          component: CancelOrderComponent,\n          guards: [AuthGuard],\n          providers: [{\n            provide: OrderAmendService,\n            useExisting: OrderCancellationService\n          }]\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule.forChild([{\n      path: null,\n      canActivate: [CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'orderCancel'\n      }\n    }]), AmendOrderItemsModule, AmendOrderActionsModule, FormErrorsModule]]\n  });\n  return CancelOrderModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet OrderCancellationModule = /*#__PURE__*/(() => {\n  class OrderCancellationModule {}\n  OrderCancellationModule.ɵfac = function OrderCancellationModule_Factory(t) {\n    return new (t || OrderCancellationModule)();\n  };\n  OrderCancellationModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: OrderCancellationModule\n  });\n  OrderCancellationModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CancelOrderModule, CancelOrderConfirmationModule]]\n  });\n  return OrderCancellationModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet OrderReturnService = /*#__PURE__*/(() => {\n  class OrderReturnService extends OrderAmendService {\n    constructor(orderDetailsService, returnRequestService, routing, globalMessageService) {\n      super(orderDetailsService);\n      this.orderDetailsService = orderDetailsService;\n      this.returnRequestService = returnRequestService;\n      this.routing = routing;\n      this.globalMessageService = globalMessageService;\n      this.amendType = AmendOrderType.RETURN;\n    }\n    getEntries() {\n      return this.getOrder().pipe(filter(order => !!order.entries), map(order => order.entries.filter(entry => entry.entryNumber !== -1 && entry.returnableQuantity > 0)));\n    }\n    save() {\n      const orderCode = this.form.value.orderCode;\n      const entries = this.form.value.entries;\n      const inputs = Object.keys(entries).filter(entryNumber => entries[entryNumber] > 0).map(entryNumber => ({\n        orderEntryNumber: Number(entryNumber),\n        quantity: entries[entryNumber]\n      }));\n      this.form.reset();\n      this.returnRequestService.createOrderReturnRequest({\n        orderCode,\n        returnRequestEntryInputs: inputs\n      });\n      this.returnRequestService.getReturnRequestSuccess().pipe(first(Boolean)).subscribe(() => this.afterSave());\n    }\n    afterSave() {\n      this.returnRequestService.getOrderReturnRequest().pipe(first(r => !!r)).subscribe(returnRequest => {\n        const rma = returnRequest.rma;\n        this.globalMessageService.add({\n          key: 'orderDetails.cancellationAndReturn.returnSuccess',\n          params: {\n            rma\n          }\n        }, GlobalMessageType.MSG_TYPE_CONFIRMATION);\n        this.routing.go({\n          cxRoute: 'returnRequestDetails',\n          params: {\n            rma\n          }\n        });\n      });\n    }\n  }\n  OrderReturnService.ɵfac = function OrderReturnService_Factory(t) {\n    return new (t || OrderReturnService)(i0.ɵɵinject(OrderDetailsService), i0.ɵɵinject(i1.OrderReturnRequestService), i0.ɵɵinject(i1.RoutingService), i0.ɵɵinject(i1.GlobalMessageService));\n  };\n  OrderReturnService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: OrderReturnService,\n    factory: OrderReturnService.ɵfac,\n    providedIn: 'root'\n  });\n  return OrderReturnService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet OrderReturnGuard = /*#__PURE__*/(() => {\n  class OrderReturnGuard {\n    constructor(orderAmendService, semanticPathService, router) {\n      this.orderAmendService = orderAmendService;\n      this.semanticPathService = semanticPathService;\n      this.router = router;\n    }\n    canActivate() {\n      return this.orderAmendService.getForm().pipe(map(form => {\n        if (!form.valid) {\n          // the order code is not available in the route\n          // as long as we're inside a guard, hence we redirect\n          // to the common orders page.\n          return this.router.parseUrl(this.semanticPathService.get('orders'));\n        } else {\n          return true;\n        }\n      }));\n    }\n  }\n  OrderReturnGuard.ɵfac = function OrderReturnGuard_Factory(t) {\n    return new (t || OrderReturnGuard)(i0.ɵɵinject(OrderReturnService), i0.ɵɵinject(i1.SemanticPathService), i0.ɵɵinject(i1$1.Router));\n  };\n  OrderReturnGuard.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: OrderReturnGuard,\n    factory: OrderReturnGuard.ɵfac,\n    providedIn: 'root'\n  });\n  return OrderReturnGuard;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet ReturnOrderConfirmationComponent = /*#__PURE__*/(() => {\n  class ReturnOrderConfirmationComponent {\n    constructor(orderAmendService) {\n      this.orderAmendService = orderAmendService;\n      this.form$ = this.orderAmendService.getForm().pipe(tap(form => this.orderCode = form.value.orderCode));\n      this.entries$ = this.orderAmendService.getAmendedEntries();\n    }\n    submit(form) {\n      form.disable();\n      this.orderAmendService.save();\n    }\n  }\n  ReturnOrderConfirmationComponent.ɵfac = function ReturnOrderConfirmationComponent_Factory(t) {\n    return new (t || ReturnOrderConfirmationComponent)(i0.ɵɵdirectiveInject(OrderAmendService));\n  };\n  ReturnOrderConfirmationComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ReturnOrderConfirmationComponent,\n    selectors: [[\"cx-return-order-confirmation\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [4, \"ngTemplateOutlet\"], [3, \"entries\", \"isConfirmation\", 4, \"ngIf\"], [\"actions\", \"\"], [3, \"entries\", \"isConfirmation\"], [\"backRoute\", \"orderReturn\", 3, \"orderCode\", \"amendOrderForm\", 4, \"ngIf\"], [\"backRoute\", \"orderReturn\", 3, \"orderCode\", \"amendOrderForm\"]],\n    template: function ReturnOrderConfirmationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ReturnOrderConfirmationComponent_form_0_Template, 7, 6, \"form\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.form$));\n      }\n    },\n    directives: [i3.NgIf, i3$1.ɵNgNoValidate, i3$1.NgControlStatusGroup, i3$1.FormGroupDirective, i3.NgTemplateOutlet, CancelOrReturnItemsComponent, AmendOrderActionsComponent],\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ReturnOrderConfirmationComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet ReturnOrderConfirmationModule = /*#__PURE__*/(() => {\n  class ReturnOrderConfirmationModule {}\n  ReturnOrderConfirmationModule.ɵfac = function ReturnOrderConfirmationModule_Factory(t) {\n    return new (t || ReturnOrderConfirmationModule)();\n  };\n  ReturnOrderConfirmationModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ReturnOrderConfirmationModule\n  });\n  ReturnOrderConfirmationModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        ReturnOrderConfirmationComponent: {\n          component: ReturnOrderConfirmationComponent,\n          guards: [AuthGuard, OrderReturnGuard],\n          providers: [{\n            provide: OrderAmendService,\n            useExisting: OrderReturnService\n          }]\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule.forChild([{\n      path: null,\n      canActivate: [CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'orderReturnConfirmation'\n      }\n    }]), AmendOrderItemsModule, I18nModule, ReactiveFormsModule, AmendOrderActionsModule]]\n  });\n  return ReturnOrderConfirmationModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet ReturnOrderComponent = /*#__PURE__*/(() => {\n  class ReturnOrderComponent {\n    constructor(orderAmendService) {\n      this.orderAmendService = orderAmendService;\n      this.form$ = this.orderAmendService.getForm().pipe(tap(form => this.orderCode = form.value.orderCode));\n      this.entries$ = this.orderAmendService.getEntries();\n    }\n  }\n  ReturnOrderComponent.ɵfac = function ReturnOrderComponent_Factory(t) {\n    return new (t || ReturnOrderComponent)(i0.ɵɵdirectiveInject(OrderAmendService));\n  };\n  ReturnOrderComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ReturnOrderComponent,\n    selectors: [[\"cx-return-order\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [4, \"ngTemplateOutlet\"], [3, \"entries\", 4, \"ngIf\"], [\"aria-live\", \"assertive\", \"aria-atomic\", \"true\", 3, \"control\"], [\"actions\", \"\"], [3, \"entries\"], [\"backRoute\", \"orderDetails\", \"forwardRoute\", \"orderReturnConfirmation\", 3, \"orderCode\", \"amendOrderForm\", 4, \"ngIf\"], [\"backRoute\", \"orderDetails\", \"forwardRoute\", \"orderReturnConfirmation\", 3, \"orderCode\", \"amendOrderForm\"]],\n    template: function ReturnOrderComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ReturnOrderComponent_ng_container_0_Template, 8, 6, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.form$));\n      }\n    },\n    directives: [i3.NgIf, i3.NgTemplateOutlet, FormErrorsComponent, CancelOrReturnItemsComponent, AmendOrderActionsComponent],\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ReturnOrderComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet ReturnOrderModule = /*#__PURE__*/(() => {\n  class ReturnOrderModule {}\n  ReturnOrderModule.ɵfac = function ReturnOrderModule_Factory(t) {\n    return new (t || ReturnOrderModule)();\n  };\n  ReturnOrderModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ReturnOrderModule\n  });\n  ReturnOrderModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        ReturnOrderComponent: {\n          component: ReturnOrderComponent,\n          guards: [AuthGuard],\n          providers: [{\n            provide: OrderAmendService,\n            useExisting: OrderReturnService\n          }]\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule.forChild([{\n      path: null,\n      canActivate: [CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'orderReturn'\n      }\n    }]), AmendOrderItemsModule, AmendOrderActionsModule, FormErrorsModule]]\n  });\n  return ReturnOrderModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet OrderReturnModule = /*#__PURE__*/(() => {\n  class OrderReturnModule {}\n  OrderReturnModule.ɵfac = function OrderReturnModule_Factory(t) {\n    return new (t || OrderReturnModule)();\n  };\n  OrderReturnModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: OrderReturnModule\n  });\n  OrderReturnModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[ReturnOrderModule, ReturnOrderConfirmationModule]]\n  });\n  return OrderReturnModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet OrderDetailActionsComponent = /*#__PURE__*/(() => {\n  class OrderDetailActionsComponent {\n    constructor(orderDetailsService) {\n      this.orderDetailsService = orderDetailsService;\n      this.order$ = this.orderDetailsService.getOrderDetails();\n    }\n  }\n  OrderDetailActionsComponent.ɵfac = function OrderDetailActionsComponent_Factory(t) {\n    return new (t || OrderDetailActionsComponent)(i0.ɵɵdirectiveInject(OrderDetailsService));\n  };\n  OrderDetailActionsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: OrderDetailActionsComponent,\n    selectors: [[\"cx-order-details-actions\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [1, \"cx-nav\", \"row\"], [1, \"col-xs-12\", \"col-md-4\", \"col-lg-3\"], [1, \"btn\", \"btn-block\", \"btn-action\", 3, \"routerLink\"], [\"class\", \"btn btn-block btn-action\", 3, \"routerLink\", 4, \"ngIf\"]],\n    template: function OrderDetailActionsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, OrderDetailActionsComponent_ng_container_0_Template, 10, 9, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.order$));\n      }\n    },\n    directives: [i3.NgIf, i1$1.RouterLink, i1$1.RouterLinkWithHref],\n    pipes: [i3.AsyncPipe, i1.UrlPipe, i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return OrderDetailActionsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet TrackingEventsComponent = /*#__PURE__*/(() => {\n  class TrackingEventsComponent {\n    constructor(activeModal, userOrderService) {\n      this.activeModal = activeModal;\n      this.userOrderService = userOrderService;\n    }\n    ngOnDestroy() {\n      this.userOrderService.clearConsignmentTracking();\n    }\n  }\n  TrackingEventsComponent.ɵfac = function TrackingEventsComponent_Factory(t) {\n    return new (t || TrackingEventsComponent)(i0.ɵɵdirectiveInject(i1$3.NgbActiveModal), i0.ɵɵdirectiveInject(i1.UserOrderService));\n  };\n  TrackingEventsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: TrackingEventsComponent,\n    selectors: [[\"cx-tracking-events\"]],\n    decls: 7,\n    vars: 4,\n    consts: [[1, \"cx-consignment-tracking-dialog\"], [4, \"ngIf\", \"ngIfElse\"], [\"noTracking\", \"\"], [\"loading\", \"\"], [1, \"header\", \"modal-header\"], [1, \"title\", \"modal-title\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [1, \"events\", \"modal-body\"], [4, \"ngFor\", \"ngForOf\"], [1, \"shipment-heading\"], [1, \"row\"], [1, \"col-sm-12\", \"col-md-6\"], [1, \"shipment-title\"], [1, \"shipment-content\"], [4, \"ngIf\"], [\"target\", \"_blank\", 3, \"href\"], [1, \"event-body\"], [1, \"event-content\"], [1, \"event-title\"], [1, \"event-city\"], [1, \"no-tracking-heading\"], [1, \"tracking-loading\"], [\"type\", \"button\", 1, \"close\", \"btn-dismiss\", 3, \"click\"], [1, \"body\", \"modal-body\"], [1, \"col-sm-12\"]],\n    template: function TrackingEventsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, TrackingEventsComponent_ng_container_1_Template, 12, 9, \"ng-container\", 1);\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵtemplate(3, TrackingEventsComponent_ng_template_3_Template, 4, 3, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(5, TrackingEventsComponent_ng_template_5_Template, 13, 6, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        const _r3 = i0.ɵɵreference(6);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 2, ctx.tracking$))(\"ngIfElse\", _r3);\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, SpinnerComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe, i1.CxDatePipe],\n    encapsulation: 2\n  });\n  return TrackingEventsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet ConsignmentTrackingComponent = /*#__PURE__*/(() => {\n  class ConsignmentTrackingComponent {\n    constructor(userOrderService, modalService) {\n      this.userOrderService = userOrderService;\n      this.modalService = modalService;\n      this.consignmentStatus = ['SHIPPED', 'IN_TRANSIT', 'DELIVERY_COMPLETED', 'DELIVERY_REJECTED', 'DELIVERING'];\n    }\n    ngOnInit() {\n      this.consignmentTracking$ = this.userOrderService.getConsignmentTracking();\n    }\n    openTrackingDialog(consignment) {\n      this.userOrderService.loadConsignmentTracking(this.orderCode, consignment.code);\n      let modalInstance;\n      this.modalRef = this.modalService.open(TrackingEventsComponent, {\n        centered: true,\n        size: 'lg'\n      });\n      modalInstance = this.modalRef.componentInstance;\n      modalInstance.tracking$ = this.consignmentTracking$;\n      modalInstance.shipDate = consignment.statusDate;\n      modalInstance.consignmentCode = consignment.code;\n    }\n    ngOnDestroy() {\n      this.userOrderService.clearConsignmentTracking();\n    }\n  }\n  ConsignmentTrackingComponent.ɵfac = function ConsignmentTrackingComponent_Factory(t) {\n    return new (t || ConsignmentTrackingComponent)(i0.ɵɵdirectiveInject(i1.UserOrderService), i0.ɵɵdirectiveInject(ModalService));\n  };\n  ConsignmentTrackingComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ConsignmentTrackingComponent,\n    selectors: [[\"cx-consignment-tracking\"]],\n    inputs: {\n      consignment: \"consignment\",\n      orderCode: \"orderCode\"\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[4, \"ngIf\"], [\"type\", \"button\", 1, \"btn\", \"btn-action\", \"btn-track\", 3, \"click\"]],\n    template: function ConsignmentTrackingComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ConsignmentTrackingComponent_ng_container_0_Template, 2, 1, \"ng-container\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.consignment && ctx.consignment.status);\n      }\n    },\n    directives: [i3.NgIf],\n    pipes: [i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return ConsignmentTrackingComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet OrderConsignedEntriesComponent = /*#__PURE__*/(() => {\n  class OrderConsignedEntriesComponent {\n    constructor() {\n      this.promotionLocation = PromotionLocation.Order;\n    }\n    getConsignmentProducts(consignment) {\n      const products = [];\n      consignment.entries.forEach(element => {\n        products.push(element.orderEntry);\n      });\n      return products;\n    }\n  }\n  OrderConsignedEntriesComponent.ɵfac = function OrderConsignedEntriesComponent_Factory(t) {\n    return new (t || OrderConsignedEntriesComponent)();\n  };\n  OrderConsignedEntriesComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: OrderConsignedEntriesComponent,\n    selectors: [[\"cx-order-consigned-entries\"]],\n    inputs: {\n      consignments: \"consignments\",\n      order: \"order\"\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"cx-list row\", 4, \"ngFor\", \"ngForOf\"], [1, \"cx-list\", \"row\"], [1, \"cx-list-header\", \"col-12\"], [1, \"cx-list-status\"], [4, \"ngIf\"], [\"class\", \"cx-list-date\", 4, \"ngIf\"], [3, \"orderCode\", \"consignment\", 4, \"cxFeature\"], [1, \"cx-list-item\", \"col-12\"], [3, \"items\", \"readonly\", \"promotionLocation\"], [1, \"cx-list-date\"], [3, \"orderCode\", \"consignment\"]],\n    template: function OrderConsignedEntriesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, OrderConsignedEntriesComponent_div_0_Template, 8, 6, \"div\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngForOf\", ctx.consignments);\n      }\n    },\n    directives: [i3.NgForOf, i3.NgIf, i1.FeatureDirective, CartItemListComponent, ConsignmentTrackingComponent],\n    pipes: [i1.TranslatePipe, i1.CxDatePipe],\n    encapsulation: 2\n  });\n  return OrderConsignedEntriesComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst completedValues = ['DELIVERY_COMPLETED', 'PICKUP_COMPLETE'];\nconst cancelledValues = ['CANCELLED'];\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet OrderDetailItemsComponent = /*#__PURE__*/(() => {\n  class OrderDetailItemsComponent {\n    constructor(orderDetailsService) {\n      this.orderDetailsService = orderDetailsService;\n      this.promotionLocation = PromotionLocation.Order;\n      this.order$ = this.orderDetailsService.getOrderDetails();\n    }\n    ngOnInit() {\n      this.others$ = this.getOtherStatus(...completedValues, ...cancelledValues);\n      this.completed$ = this.getExactStatus(completedValues);\n      this.cancel$ = this.getExactStatus(cancelledValues);\n    }\n    getExactStatus(consignmentStatus) {\n      return this.order$.pipe(map(order => {\n        if (Boolean(order.consignments)) {\n          return order.consignments.filter(consignment => consignmentStatus.includes(consignment.status));\n        }\n      }));\n    }\n    getOtherStatus(...consignmentStatus) {\n      return this.order$.pipe(map(order => {\n        if (Boolean(order.consignments)) {\n          return order.consignments.filter(consignment => !consignmentStatus.includes(consignment.status));\n        }\n      }));\n    }\n  }\n  OrderDetailItemsComponent.ɵfac = function OrderDetailItemsComponent_Factory(t) {\n    return new (t || OrderDetailItemsComponent)(i0.ɵɵdirectiveInject(OrderDetailsService));\n  };\n  OrderDetailItemsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: OrderDetailItemsComponent,\n    selectors: [[\"cx-order-details-items\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [3, \"promotions\"], [3, \"order\", \"consignments\", 4, \"ngIf\"], [3, \"order\", \"consignments\"], [1, \"cx-list\", \"row\"], [\"class\", \"cx-list-header col-12\", 4, \"ngIf\"], [1, \"cx-list-item\", \"col-12\"], [3, \"items\", \"readonly\", \"promotionLocation\"], [1, \"cx-list-header\", \"col-12\"], [1, \"cx-list-status\"]],\n    template: function OrderDetailItemsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, OrderDetailItemsComponent_ng_container_0_Template, 4, 3, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.order$));\n      }\n    },\n    directives: [i3.NgIf, PromotionsComponent, OrderConsignedEntriesComponent, CartItemListComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return OrderDetailItemsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet OrderDetailShippingComponent = /*#__PURE__*/(() => {\n  class OrderDetailShippingComponent {\n    constructor(orderDetailsService) {\n      this.orderDetailsService = orderDetailsService;\n    }\n    ngOnInit() {\n      this.order$ = this.orderDetailsService.getOrderDetails();\n    }\n  }\n  OrderDetailShippingComponent.ɵfac = function OrderDetailShippingComponent_Factory(t) {\n    return new (t || OrderDetailShippingComponent)(i0.ɵɵdirectiveInject(OrderDetailsService));\n  };\n  OrderDetailShippingComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: OrderDetailShippingComponent,\n    selectors: [[\"cx-order-details-shipping\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [3, \"order\"]],\n    template: function OrderDetailShippingComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, OrderDetailShippingComponent_ng_container_0_Template, 2, 1, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.order$));\n      }\n    },\n    directives: [i3.NgIf, OrderOverviewComponent],\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2\n  });\n  return OrderDetailShippingComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet OrderDetailTotalsComponent = /*#__PURE__*/(() => {\n  class OrderDetailTotalsComponent {\n    constructor(orderDetailsService) {\n      this.orderDetailsService = orderDetailsService;\n    }\n    ngOnInit() {\n      this.order$ = this.orderDetailsService.getOrderDetails();\n    }\n  }\n  OrderDetailTotalsComponent.ɵfac = function OrderDetailTotalsComponent_Factory(t) {\n    return new (t || OrderDetailTotalsComponent)(i0.ɵɵdirectiveInject(OrderDetailsService));\n  };\n  OrderDetailTotalsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: OrderDetailTotalsComponent,\n    selectors: [[\"cx-order-details-totals\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [1, \"row\", \"justify-content-end\"], [1, \"cx-summary\", \"col-sm-12\", \"col-md-6\", \"col-lg-5\", \"col-xl-4\"], [3, \"cart\"]],\n    template: function OrderDetailTotalsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, OrderDetailTotalsComponent_ng_container_0_Template, 4, 1, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.order$));\n      }\n    },\n    directives: [i3.NgIf, OrderSummaryComponent],\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2\n  });\n  return OrderDetailTotalsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst moduleComponents$1 = [OrderDetailActionsComponent, OrderDetailItemsComponent, OrderDetailTotalsComponent, OrderDetailShippingComponent, TrackingEventsComponent, ConsignmentTrackingComponent, OrderConsignedEntriesComponent];\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet OrderDetailsModule = /*#__PURE__*/(() => {\n  class OrderDetailsModule {}\n  OrderDetailsModule.ɵfac = function OrderDetailsModule_Factory(t) {\n    return new (t || OrderDetailsModule)();\n  };\n  OrderDetailsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: OrderDetailsModule\n  });\n  OrderDetailsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        AccountOrderDetailsActionsComponent: {\n          component: OrderDetailActionsComponent\n        },\n        AccountOrderDetailsItemsComponent: {\n          component: OrderDetailItemsComponent\n        },\n        AccountOrderDetailsTotalsComponent: {\n          component: OrderDetailTotalsComponent\n        },\n        AccountOrderDetailsShippingComponent: {\n          component: OrderDetailShippingComponent\n        }\n      },\n      features: {\n        consignmentTracking: '1.2'\n      }\n    }), OrderDetailsService],\n    imports: [[CartSharedModule, CardModule, CommonModule, I18nModule, FeaturesConfigModule, PromotionsModule, OrderOverviewModule, UrlModule, SpinnerModule, RouterModule.forChild([{\n      path: null,\n      canActivate: [AuthGuard, CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        pageLabel: 'order',\n        cxRoute: 'orderGuest'\n      }\n    }, {\n      path: null,\n      canActivate: [AuthGuard, CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'orderDetails'\n      }\n    }])]]\n  });\n  return OrderDetailsModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet OrderHistoryComponent = /*#__PURE__*/(() => {\n  class OrderHistoryComponent {\n    constructor(routing, userOrderService, translation, userReplenishmentOrderService) {\n      this.routing = routing;\n      this.userOrderService = userOrderService;\n      this.translation = translation;\n      this.userReplenishmentOrderService = userReplenishmentOrderService;\n      this.PAGE_SIZE = 5;\n      this.orders$ = this.userOrderService.getOrderHistoryList(this.PAGE_SIZE).pipe(tap(orders => {\n        if (orders.pagination) {\n          this.sortType = orders.pagination.sort;\n        }\n      }));\n      this.hasReplenishmentOrder$ = this.userReplenishmentOrderService.getReplenishmentOrderDetails().pipe(map(order => order && Object.keys(order).length !== 0));\n      this.isLoaded$ = this.userOrderService.getOrderHistoryListLoaded();\n      /**\n       * When \"Order Return\" feature is enabled, this component becomes one tab in\n       * TabParagraphContainerComponent. This can be read from TabParagraphContainer.\n       */\n      this.tabTitleParam$ = this.orders$.pipe(map(order => {\n        var _a;\n        return (_a = order.pagination) === null || _a === void 0 ? void 0 : _a.totalResults;\n      }), filter(isNotUndefined), take(1));\n    }\n    ngOnDestroy() {\n      this.userOrderService.clearOrderList();\n    }\n    changeSortCode(sortCode) {\n      const event = {\n        sortCode,\n        currentPage: 0\n      };\n      this.sortType = sortCode;\n      this.fetchOrders(event);\n    }\n    pageChange(page) {\n      const event = {\n        sortCode: this.sortType,\n        currentPage: page\n      };\n      this.fetchOrders(event);\n    }\n    goToOrderDetail(order) {\n      this.routing.go({\n        cxRoute: 'orderDetails',\n        params: order\n      });\n    }\n    getSortLabels() {\n      return combineLatest([this.translation.translate('sorting.date'), this.translation.translate('sorting.orderNumber')]).pipe(map(([textByDate, textByOrderNumber]) => {\n        return {\n          byDate: textByDate,\n          byOrderNumber: textByOrderNumber\n        };\n      }));\n    }\n    fetchOrders(event) {\n      this.userOrderService.loadOrderList(this.PAGE_SIZE, event.currentPage, event.sortCode);\n    }\n  }\n  OrderHistoryComponent.ɵfac = function OrderHistoryComponent_Factory(t) {\n    return new (t || OrderHistoryComponent)(i0.ɵɵdirectiveInject(i1.RoutingService), i0.ɵɵdirectiveInject(i1.UserOrderService), i0.ɵɵdirectiveInject(i1.TranslationService), i0.ɵɵdirectiveInject(i1.UserReplenishmentOrderService));\n  };\n  OrderHistoryComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: OrderHistoryComponent,\n    selectors: [[\"cx-order-history\"]],\n    decls: 3,\n    vars: 8,\n    consts: [[4, \"ngIf\"], [3, \"ngClass\"], [1, \"cx-order-history-body\"], [4, \"ngIf\", \"ngIfElse\"], [\"noOrder\", \"\"], [1, \"cx-order-history-sort\", \"top\", \"row\"], [1, \"cx-order-history-form-group\", \"form-group\", \"col-sm-12\", \"col-md-4\", \"col-lg-4\"], [3, \"sortOptions\", \"sortLabels\", \"selectedOption\", \"placeholder\", \"sortListEvent\"], [\"class\", \"cx-order-history-pagination\", 4, \"ngIf\"], [1, \"table\", \"cx-order-history-table\"], [1, \"cx-order-history-thead-mobile\"], [\"scope\", \"col\"], [3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"cx-order-history-sort\", \"bottom\", \"row\"], [1, \"cx-order-history-pagination\"], [3, \"pagination\", \"viewPageEvent\"], [3, \"click\"], [1, \"cx-order-history-code\"], [1, \"d-md-none\", \"cx-order-history-label\"], [1, \"cx-order-history-value\", 3, \"routerLink\"], [1, \"cx-order-history-placed\"], [1, \"cx-order-history-status\"], [1, \"cx-order-history-total\"], [3, \"ngClass\", 4, \"ngIf\"], [\"otherOrder\", \"\"], [\"routerLinkActive\", \"active\", 1, \"btn\", \"btn-primary\", \"btn-block\", 3, \"routerLink\"]],\n    template: function OrderHistoryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, OrderHistoryComponent_ng_container_0_Template, 2, 1, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵpipe(2, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpureFunction2(5, _c39, i0.ɵɵpipeBind1(1, 1, ctx.orders$), i0.ɵɵpipeBind1(2, 3, ctx.hasReplenishmentOrder$)));\n      }\n    },\n    directives: [i3.NgIf, i3.NgClass, SortingComponent, i3.NgForOf, PaginationComponent, i1$1.RouterLinkWithHref, i1$1.RouterLinkActive],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe, i1.UrlPipe, i1.CxDatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return OrderHistoryComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet OrderHistoryModule = /*#__PURE__*/(() => {\n  class OrderHistoryModule {}\n  OrderHistoryModule.ɵfac = function OrderHistoryModule_Factory(t) {\n    return new (t || OrderHistoryModule)();\n  };\n  OrderHistoryModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: OrderHistoryModule\n  });\n  OrderHistoryModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        AccountOrderHistoryComponent: {\n          component: OrderHistoryComponent,\n          guards: [AuthGuard]\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule.forChild([{\n      path: null,\n      canActivate: [AuthGuard, CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'orders'\n      }\n    }]), RouterModule, FormsModule, NgSelectModule, ListNavigationModule, UrlModule, I18nModule]]\n  });\n  return OrderHistoryModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nconst defaultReplenishmentOrderCancellationLayoutConfig = {\n  launch: {\n    REPLENISHMENT_ORDER: {\n      inline: true,\n      component: ReplenishmentOrderCancellationDialogComponent,\n      dialogType: DIALOG_TYPE.DIALOG\n    }\n  }\n};\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet ReplenishmentOrderCancellationComponent = /*#__PURE__*/(() => {\n  class ReplenishmentOrderCancellationComponent {\n    constructor(userReplenishmentOrderService, vcr, launchDialogService) {\n      this.userReplenishmentOrderService = userReplenishmentOrderService;\n      this.vcr = vcr;\n      this.launchDialogService = launchDialogService;\n      this.subscription = new Subscription();\n      this.replenishmentOrder$ = this.userReplenishmentOrderService.getReplenishmentOrderDetails();\n    }\n    openDialog() {\n      const dialog = this.launchDialogService.openDialog(\"REPLENISHMENT_ORDER\" /* REPLENISHMENT_ORDER */, this.element, this.vcr);\n      if (dialog) {\n        this.subscription.add(dialog.pipe(take(1)).subscribe());\n      }\n    }\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n      this.userReplenishmentOrderService.clearReplenishmentOrderDetails();\n    }\n  }\n  ReplenishmentOrderCancellationComponent.ɵfac = function ReplenishmentOrderCancellationComponent_Factory(t) {\n    return new (t || ReplenishmentOrderCancellationComponent)(i0.ɵɵdirectiveInject(i1.UserReplenishmentOrderService), i0.ɵɵdirectiveInject(i0.ViewContainerRef), i0.ɵɵdirectiveInject(LaunchDialogService));\n  };\n  ReplenishmentOrderCancellationComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ReplenishmentOrderCancellationComponent,\n    selectors: [[\"cx-replenishment-order-cancellation\"]],\n    viewQuery: function ReplenishmentOrderCancellationComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c40, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.element = _t.first);\n      }\n    },\n    decls: 8,\n    vars: 10,\n    consts: [[1, \"cx-cancel-replenishment-btns\", \"row\"], [1, \"col-xs-12\", \"col-md-5\", \"col-lg-4\"], [1, \"btn\", \"btn-block\", \"btn-action\", 3, \"routerLink\"], [\"class\", \"col-xs-12 col-md-5 col-lg-4\", 4, \"ngIf\"], [1, \"btn\", \"btn-block\", \"btn-action\", 3, \"click\"], [\"element\", \"\"]],\n    template: function ReplenishmentOrderCancellationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"a\", 2);\n        i0.ɵɵpipe(3, \"cxUrl\");\n        i0.ɵɵtext(4);\n        i0.ɵɵpipe(5, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(6, ReplenishmentOrderCancellationComponent_div_6_Template, 5, 3, \"div\", 3);\n        i0.ɵɵpipe(7, \"async\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(3, 3, i0.ɵɵpureFunction0(9, _c41)));\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 5, \"common.back\"), \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(7, 7, ctx.replenishmentOrder$).active);\n      }\n    },\n    directives: [i1$1.RouterLinkWithHref, i3.NgIf],\n    pipes: [i1.UrlPipe, i1.TranslatePipe, i3.AsyncPipe],\n    encapsulation: 2\n  });\n  return ReplenishmentOrderCancellationComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet ReplenishmentOrderDetailsService = /*#__PURE__*/(() => {\n  class ReplenishmentOrderDetailsService {\n    constructor(routingService, userReplenishmentOrderService) {\n      this.routingService = routingService;\n      this.userReplenishmentOrderService = userReplenishmentOrderService;\n      this.replenishmentOrderCode$ = this.routingService.getRouterState().pipe(map(routingData => routingData.state.params.replenishmentOrderCode), distinctUntilChanged());\n      this.replenishmentOrderLoad$ = this.replenishmentOrderCode$.pipe(tap(replenishmentOrderCode => {\n        if (Boolean(replenishmentOrderCode)) {\n          this.userReplenishmentOrderService.loadReplenishmentOrderDetails(replenishmentOrderCode);\n        } else {\n          this.userReplenishmentOrderService.clearReplenishmentOrderDetails();\n        }\n      }), shareReplay({\n        bufferSize: 1,\n        refCount: true\n      }));\n    }\n    getOrderDetails() {\n      return this.replenishmentOrderLoad$.pipe(switchMap(_ => this.userReplenishmentOrderService.getReplenishmentOrderDetails()));\n    }\n  }\n  ReplenishmentOrderDetailsService.ɵfac = function ReplenishmentOrderDetailsService_Factory(t) {\n    return new (t || ReplenishmentOrderDetailsService)(i0.ɵɵinject(i1.RoutingService), i0.ɵɵinject(i1.UserReplenishmentOrderService));\n  };\n  ReplenishmentOrderDetailsService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ReplenishmentOrderDetailsService,\n    factory: ReplenishmentOrderDetailsService.ɵfac,\n    providedIn: 'root'\n  });\n  return ReplenishmentOrderDetailsService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst moduleComponents = [ReplenishmentOrderCancellationComponent];\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet ReplenishmentOrderDetailsModule = /*#__PURE__*/(() => {\n  class ReplenishmentOrderDetailsModule {}\n  ReplenishmentOrderDetailsModule.ɵfac = function ReplenishmentOrderDetailsModule_Factory(t) {\n    return new (t || ReplenishmentOrderDetailsModule)();\n  };\n  ReplenishmentOrderDetailsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ReplenishmentOrderDetailsModule\n  });\n  ReplenishmentOrderDetailsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideConfig(defaultReplenishmentOrderCancellationLayoutConfig), provideDefaultConfig({\n      cmsComponents: {\n        ReplenishmentDetailItemsComponent: {\n          component: OrderDetailItemsComponent,\n          providers: [{\n            provide: OrderDetailsService,\n            useExisting: ReplenishmentOrderDetailsService\n          }]\n        },\n        ReplenishmentDetailTotalsComponent: {\n          component: OrderDetailTotalsComponent,\n          providers: [{\n            provide: OrderDetailsService,\n            useExisting: ReplenishmentOrderDetailsService\n          }]\n        },\n        ReplenishmentDetailShippingComponent: {\n          component: OrderDetailShippingComponent,\n          providers: [{\n            provide: OrderDetailsService,\n            useExisting: ReplenishmentOrderDetailsService\n          }]\n        },\n        ReplenishmentDetailActionsComponent: {\n          component: ReplenishmentOrderCancellationComponent\n        },\n        ReplenishmentDetailOrderHistoryComponent: {\n          component: OrderHistoryComponent\n        }\n      }\n    })],\n    imports: [[CartSharedModule, CardModule, CommonModule, I18nModule, PromotionsModule, UrlModule, ReplenishmentOrderCancellationDialogModule, SpinnerModule, ListNavigationModule, RouterModule.forChild([{\n      path: null,\n      canActivate: [AuthGuard, CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'replenishmentDetails'\n      }\n    }])]]\n  });\n  return ReplenishmentOrderDetailsModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet ReplenishmentOrderHistoryComponent = /*#__PURE__*/(() => {\n  class ReplenishmentOrderHistoryComponent {\n    constructor(routing, userReplenishmentOrderService, translation, vcr, launchDialogService) {\n      this.routing = routing;\n      this.userReplenishmentOrderService = userReplenishmentOrderService;\n      this.translation = translation;\n      this.vcr = vcr;\n      this.launchDialogService = launchDialogService;\n      this.subscription = new Subscription();\n      this.PAGE_SIZE = 5;\n      this.replenishmentOrders$ = this.userReplenishmentOrderService.getReplenishmentOrderHistoryList(this.PAGE_SIZE).pipe(tap(replenishmentOrders => {\n        if (replenishmentOrders.pagination) {\n          this.sortType = replenishmentOrders.pagination.sort;\n        }\n      }));\n      this.isLoaded$ = this.userReplenishmentOrderService.getReplenishmentOrderHistoryListSuccess();\n    }\n    changeSortCode(sortCode) {\n      const event = {\n        sortCode,\n        currentPage: 0\n      };\n      this.sortType = sortCode;\n      this.fetchReplenishmentOrders(event);\n    }\n    pageChange(page) {\n      const event = {\n        sortCode: this.sortType,\n        currentPage: page\n      };\n      this.fetchReplenishmentOrders(event);\n    }\n    goToOrderDetail(order) {\n      this.routing.go({\n        cxRoute: 'replenishmentDetails',\n        params: order\n      });\n    }\n    getSortLabels() {\n      return combineLatest([this.translation.translate('sorting.date'), this.translation.translate('sorting.replenishmentNumber'), this.translation.translate('sorting.nextOrderDate')]).pipe(map(([textByDate, textByOrderNumber, textbyNextOrderDate]) => {\n        return {\n          byDate: textByDate,\n          byReplenishmentNumber: textByOrderNumber,\n          byNextOrderDate: textbyNextOrderDate\n        };\n      }));\n    }\n    openDialog(event, replenishmentOrderCode) {\n      const dialog = this.launchDialogService.openDialog(\"REPLENISHMENT_ORDER\" /* REPLENISHMENT_ORDER */, this.element, this.vcr, replenishmentOrderCode);\n      if (dialog) {\n        this.subscription.add(dialog.pipe(take(1)).subscribe());\n      }\n      event.stopPropagation();\n    }\n    fetchReplenishmentOrders(event) {\n      this.userReplenishmentOrderService.loadReplenishmentOrderList(this.PAGE_SIZE, event.currentPage, event.sortCode);\n    }\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n      this.userReplenishmentOrderService.clearReplenishmentOrderList();\n    }\n  }\n  ReplenishmentOrderHistoryComponent.ɵfac = function ReplenishmentOrderHistoryComponent_Factory(t) {\n    return new (t || ReplenishmentOrderHistoryComponent)(i0.ɵɵdirectiveInject(i1.RoutingService), i0.ɵɵdirectiveInject(i1.UserReplenishmentOrderService), i0.ɵɵdirectiveInject(i1.TranslationService), i0.ɵɵdirectiveInject(i0.ViewContainerRef), i0.ɵɵdirectiveInject(LaunchDialogService));\n  };\n  ReplenishmentOrderHistoryComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ReplenishmentOrderHistoryComponent,\n    selectors: [[\"cx-replenishment-order-history\"]],\n    viewQuery: function ReplenishmentOrderHistoryComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c40, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.element = _t.first);\n      }\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [1, \"container\"], [1, \"cx-replenishment-order-history-header\"], [1, \"cx-replenishment-order-history-body\"], [4, \"ngIf\", \"ngIfElse\"], [\"noOrder\", \"\"], [1, \"cx-replenishment-order-history-sort\", \"top\", \"row\"], [1, \"cx-replenishment-order-history-form-group\", \"form-group\", \"col-sm-12\", \"col-md-4\", \"col-lg-4\"], [3, \"sortOptions\", \"sortLabels\", \"selectedOption\", \"placeholder\", \"sortListEvent\"], [\"class\", \"cx-replenishment-order-history-pagination\", 4, \"ngIf\"], [1, \"table\", \"cx-replenishment-order-history-table\"], [1, \"cx-replenishment-order-history-thead-mobile\"], [\"scope\", \"col\"], [1, \"cx-replenishment-order-history-ellipses\"], [\"scope\", \"col\", 1, \"cx-replenishment-order-history-total\"], [3, \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"cx-replenishment-order-history-sort\", \"bottom\", \"row\"], [1, \"cx-replenishment-order-history-pagination\"], [3, \"pagination\", \"viewPageEvent\", 4, \"ngIf\"], [3, \"pagination\", \"viewPageEvent\"], [3, \"click\"], [1, \"cx-replenishment-order-history-code\"], [1, \"d-md-none\", \"cx-replenishment-order-history-label\"], [1, \"cx-replenishment-order-history-value\", 3, \"routerLink\"], [1, \"cx-replenishment-order-history-value\", \"cx-purchase-order-number\", 3, \"routerLink\"], [1, \"cx-replenishment-order-history-frequency\"], [1, \"cx-replenishment-order-history-value\", \"cx-next-order-date\", 3, \"routerLink\"], [1, \"cx-replenishment-order-history-total\"], [1, \"cx-replenishment-order-history-cancel\"], [\"class\", \"cx-order-cancel btn btn-link\", 3, \"click\", 4, \"ngIf\"], [1, \"cx-order-cancel\", \"btn\", \"btn-link\", 3, \"click\"], [\"element\", \"\"], [\"class\", \"cx-replenishment-order-history-no-order row\", 4, \"ngIf\"], [1, \"cx-replenishment-order-history-no-order\", \"row\"], [1, \"col-sm-12\", \"col-md-6\", \"col-lg-4\"], [\"routerLinkActive\", \"active\", 1, \"btn\", \"btn-primary\", \"btn-block\", 3, \"routerLink\"]],\n    template: function ReplenishmentOrderHistoryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ReplenishmentOrderHistoryComponent_ng_container_0_Template, 10, 5, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.replenishmentOrders$));\n      }\n    },\n    directives: [i3.NgIf, SortingComponent, i3.NgForOf, PaginationComponent, i1$1.RouterLinkWithHref, i1$1.RouterLinkActive],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe, i1.UrlPipe, i1.CxDatePipe, i3.SlicePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ReplenishmentOrderHistoryComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet ReplenishmentOrderHistoryModule = /*#__PURE__*/(() => {\n  class ReplenishmentOrderHistoryModule {}\n  ReplenishmentOrderHistoryModule.ɵfac = function ReplenishmentOrderHistoryModule_Factory(t) {\n    return new (t || ReplenishmentOrderHistoryModule)();\n  };\n  ReplenishmentOrderHistoryModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ReplenishmentOrderHistoryModule\n  });\n  ReplenishmentOrderHistoryModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideConfig(defaultReplenishmentOrderCancellationLayoutConfig), provideDefaultConfig({\n      cmsComponents: {\n        AccountReplenishmentHistoryComponent: {\n          component: ReplenishmentOrderHistoryComponent,\n          guards: [AuthGuard]\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule.forChild([{\n      path: null,\n      canActivate: [AuthGuard, CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'replenishmentOrders'\n      }\n    }]), RouterModule, ListNavigationModule, UrlModule, I18nModule]]\n  });\n  return ReplenishmentOrderHistoryModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ReturnRequestService = /*#__PURE__*/(() => {\n  class ReturnRequestService {\n    constructor(routingService, returnRequestService, globalMessageService) {\n      this.routingService = routingService;\n      this.returnRequestService = returnRequestService;\n      this.globalMessageService = globalMessageService;\n    }\n    get isCancelling$() {\n      return this.returnRequestService.getCancelReturnRequestLoading();\n    }\n    get isCancelSuccess$() {\n      return this.returnRequestService.getCancelReturnRequestSuccess();\n    }\n    getReturnRequest() {\n      return combineLatest([this.routingService.getRouterState(), this.returnRequestService.getOrderReturnRequest(), this.returnRequestService.getReturnRequestLoading()]).pipe(map(([routingState, returnRequest, isLoading]) => [routingState.state.params['returnCode'], returnRequest, isLoading]), filter(([returnCode]) => Boolean(returnCode)), tap(([returnCode, returnRequest, isLoading]) => {\n        if ((returnRequest === undefined || returnRequest.rma !== returnCode) && !isLoading) {\n          this.returnRequestService.loadOrderReturnRequestDetail(returnCode);\n        }\n      }), map(([_, returnRequest]) => returnRequest), filter(Boolean), distinctUntilChanged());\n    }\n    clearReturnRequest() {\n      this.returnRequestService.clearOrderReturnRequestDetail();\n    }\n    cancelReturnRequest(returnRequestCode) {\n      this.returnRequestService.cancelOrderReturnRequest(returnRequestCode, {\n        status: 'CANCELLING'\n      });\n    }\n    cancelSuccess(rma) {\n      this.returnRequestService.resetCancelReturnRequestProcessState();\n      this.globalMessageService.add({\n        key: 'returnRequest.cancelSuccess',\n        params: {\n          rma\n        }\n      }, GlobalMessageType.MSG_TYPE_CONFIRMATION);\n      this.routingService.go({\n        cxRoute: 'orders'\n      });\n    }\n    backToList() {\n      this.routingService.go({\n        cxRoute: 'orders'\n      }, {\n        state: {\n          activeTab: 1\n        }\n      });\n    }\n  }\n  ReturnRequestService.ɵfac = function ReturnRequestService_Factory(t) {\n    return new (t || ReturnRequestService)(i0.ɵɵinject(i1.RoutingService), i0.ɵɵinject(i1.OrderReturnRequestService), i0.ɵɵinject(i1.GlobalMessageService));\n  };\n  ReturnRequestService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ReturnRequestService,\n    factory: ReturnRequestService.ɵfac,\n    providedIn: 'root'\n  });\n  return ReturnRequestService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet ReturnRequestItemsComponent = /*#__PURE__*/(() => {\n  class ReturnRequestItemsComponent {\n    constructor(returnRequestService) {\n      this.returnRequestService = returnRequestService;\n      this.returnRequest$ = this.returnRequestService.getReturnRequest();\n    }\n  }\n  ReturnRequestItemsComponent.ɵfac = function ReturnRequestItemsComponent_Factory(t) {\n    return new (t || ReturnRequestItemsComponent)(i0.ɵɵdirectiveInject(ReturnRequestService));\n  };\n  ReturnRequestItemsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ReturnRequestItemsComponent,\n    selectors: [[\"cx-return-request-items\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [1, \"d-none\", \"d-md-block\", \"d-lg-block\", \"d-xl-block\"], [1, \"cx-item-list-header\", \"row\"], [1, \"cx-item-list-desc\", \"col-md-5\", \"col-lg-5\", \"col-xl-6\"], [1, \"cx-item-list-price\", \"col-md-2\", \"col-lg-2\", \"col-xl-2\"], [1, \"cx-item-list-qty\", \"col-md-3\", \"col-lg-3\", \"col-xl-2\"], [1, \"cx-item-list-total\", \"col-md-2\", \"col-lg-2\", \"col-xl-2\"], [\"class\", \"cx-item-list-row\", 4, \"ngFor\", \"ngForOf\"], [1, \"cx-item-list-row\"], [1, \"cx-item-list-items\"], [1, \"row\"], [1, \"col-2\", \"cx-image-container\"], [\"format\", \"thumbnail\", 3, \"container\"], [1, \"cx-info\", \"col-10\"], [1, \"cx-info-container\", \"row\"], [1, \"col-md-3\", \"col-lg-4\", \"col-xl-5\"], [\"class\", \"cx-name\", 4, \"ngIf\"], [\"class\", \"cx-code\", 4, \"ngIf\"], [\"class\", \"cx-property\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"cx-price col-md-3 col-lg-2 col-xl-2\", 4, \"ngIf\"], [1, \"cx-quantity\", \"col-md-3\", \"col-lg-3\", \"col-xl-3\"], [1, \"cx-label\", \"d-block\", \"d-md-none\", \"d-lg-none\", \"d-xl-none\"], [1, \"cx-value\"], [1, \"cx-total\", \"col-md-3\", \"col-lg-3\", \"col-xl-2\"], [1, \"cx-name\"], [1, \"cx-code\"], [1, \"cx-property\"], [\"class\", \"cx-label\", 4, \"ngIf\"], [\"class\", \"cx-value\", 4, \"ngIf\"], [1, \"cx-label\"], [1, \"cx-price\", \"col-md-3\", \"col-lg-2\", \"col-xl-2\"]],\n    template: function ReturnRequestItemsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ReturnRequestItemsComponent_ng_container_0_Template, 16, 13, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.returnRequest$));\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, MediaComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ReturnRequestItemsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet ReturnRequestOverviewComponent = /*#__PURE__*/(() => {\n  class ReturnRequestOverviewComponent {\n    constructor(returnRequestService) {\n      this.returnRequestService = returnRequestService;\n      this.returnRequest$ = this.returnRequestService.getReturnRequest().pipe(tap(returnRequest => this.rma = returnRequest.rma));\n      this.isCancelling$ = this.returnRequestService.isCancelling$;\n    }\n    ngOnInit() {\n      this.subscription = this.returnRequestService.isCancelSuccess$.subscribe(success => {\n        if (success) {\n          this.returnRequestService.cancelSuccess(this.rma);\n        }\n      });\n    }\n    cancelReturn(returnRequestCode) {\n      this.returnRequestService.cancelReturnRequest(returnRequestCode);\n    }\n    back() {\n      this.returnRequestService.backToList();\n    }\n    ngOnDestroy() {\n      if (this.subscription) {\n        this.subscription.unsubscribe();\n      }\n    }\n  }\n  ReturnRequestOverviewComponent.ɵfac = function ReturnRequestOverviewComponent_Factory(t) {\n    return new (t || ReturnRequestOverviewComponent)(i0.ɵɵdirectiveInject(ReturnRequestService));\n  };\n  ReturnRequestOverviewComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ReturnRequestOverviewComponent,\n    selectors: [[\"cx-return-request-overview\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [1, \"cx-nav\", \"row\"], [1, \"col-xs-12\", \"col-md-4\", \"col-lg-3\"], [1, \"btn\", \"btn-block\", \"btn-action\", 3, \"click\"], [\"class\", \"btn btn-block btn-primary\", 3, \"disabled\", \"click\", 4, \"ngIf\"], [1, \"cx-header\", \"row\"], [1, \"cx-detail\", \"col-sm-12\", \"col-md-4\"], [1, \"cx-detail-label\"], [1, \"cx-detail-value\"], [1, \"btn\", \"btn-block\", \"btn-primary\", 3, \"disabled\", \"click\"]],\n    template: function ReturnRequestOverviewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ReturnRequestOverviewComponent_ng_container_0_Template, 28, 18, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.returnRequest$));\n      }\n    },\n    directives: [i3.NgIf],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ReturnRequestOverviewComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet ReturnRequestTotalsComponent = /*#__PURE__*/(() => {\n  class ReturnRequestTotalsComponent {\n    constructor(returnRequestService) {\n      this.returnRequestService = returnRequestService;\n      this.returnRequest$ = this.returnRequestService.getReturnRequest();\n    }\n    ngOnDestroy() {\n      this.returnRequestService.clearReturnRequest();\n    }\n  }\n  ReturnRequestTotalsComponent.ɵfac = function ReturnRequestTotalsComponent_Factory(t) {\n    return new (t || ReturnRequestTotalsComponent)(i0.ɵɵdirectiveInject(ReturnRequestService));\n  };\n  ReturnRequestTotalsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ReturnRequestTotalsComponent,\n    selectors: [[\"cx-return-request-totals\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [1, \"row\", \"justify-content-end\"], [1, \"cx-summary\", \"col-sm-12\", \"col-md-6\", \"col-lg-5\", \"col-xl-4\"], [1, \"cx-summary-row\"], [1, \"col-6\", \"cx-summary-label\"], [1, \"col-6\", \"cx-summary-amount\"], [1, \"cx-summary-row\", \"cx-summary-total\"], [1, \"cx-summary-row\", \"cx-footnote\"]],\n    template: function ReturnRequestTotalsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ReturnRequestTotalsComponent_ng_container_0_Template, 27, 18, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.returnRequest$));\n      }\n    },\n    directives: [i3.NgIf],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ReturnRequestTotalsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst components = [ReturnRequestOverviewComponent, ReturnRequestItemsComponent, ReturnRequestTotalsComponent];\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet ReturnRequestDetailModule = /*#__PURE__*/(() => {\n  class ReturnRequestDetailModule {}\n  ReturnRequestDetailModule.ɵfac = function ReturnRequestDetailModule_Factory(t) {\n    return new (t || ReturnRequestDetailModule)();\n  };\n  ReturnRequestDetailModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ReturnRequestDetailModule\n  });\n  ReturnRequestDetailModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        ReturnRequestOverviewComponent: {\n          component: ReturnRequestOverviewComponent\n        },\n        ReturnRequestItemsComponent: {\n          component: ReturnRequestItemsComponent\n        },\n        ReturnRequestTotalsComponent: {\n          component: ReturnRequestTotalsComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule.forChild([{\n      path: null,\n      canActivate: [AuthGuard, CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'returnRequestDetails'\n      }\n    }]), RouterModule, UrlModule, I18nModule, MediaModule, FeaturesConfigModule]]\n  });\n  return ReturnRequestDetailModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet OrderReturnRequestListComponent = /*#__PURE__*/(() => {\n  class OrderReturnRequestListComponent {\n    constructor(returnRequestService, translation) {\n      this.returnRequestService = returnRequestService;\n      this.translation = translation;\n      this.PAGE_SIZE = 5;\n      this.returnRequests$ = this.returnRequestService.getOrderReturnRequestList(this.PAGE_SIZE).pipe(tap(requestList => {\n        if (requestList.pagination) {\n          this.sortType = requestList.pagination.sort;\n        }\n      }));\n      /**\n       * When \"Order Return\" feature is enabled, this component becomes one tab in\n       * TabParagraphContainerComponent. This can be read from TabParagraphContainer.\n       */\n      this.tabTitleParam$ = this.returnRequests$.pipe(map(returnRequests => {\n        var _a;\n        return (_a = returnRequests.pagination) === null || _a === void 0 ? void 0 : _a.totalResults;\n      }), filter(isNotUndefined), take(1));\n    }\n    ngOnDestroy() {\n      this.returnRequestService.clearOrderReturnRequestList();\n    }\n    changeSortCode(sortCode) {\n      const event = {\n        sortCode,\n        currentPage: 0\n      };\n      this.sortType = sortCode;\n      this.fetchReturnRequests(event);\n    }\n    pageChange(page) {\n      const event = {\n        sortCode: this.sortType,\n        currentPage: page\n      };\n      this.fetchReturnRequests(event);\n    }\n    getSortLabels() {\n      return combineLatest([this.translation.translate('sorting.date'), this.translation.translate('sorting.rma')]).pipe(map(([textByDate, textByRma]) => {\n        return {\n          byDate: textByDate,\n          byRMA: textByRma\n        };\n      }));\n    }\n    fetchReturnRequests(event) {\n      this.returnRequestService.loadOrderReturnRequestList(this.PAGE_SIZE, event.currentPage, event.sortCode);\n    }\n  }\n  OrderReturnRequestListComponent.ɵfac = function OrderReturnRequestListComponent_Factory(t) {\n    return new (t || OrderReturnRequestListComponent)(i0.ɵɵdirectiveInject(i1.OrderReturnRequestService), i0.ɵɵdirectiveInject(i1.TranslationService));\n  };\n  OrderReturnRequestListComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: OrderReturnRequestListComponent,\n    selectors: [[\"cx-order-return-request-list\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [1, \"container\"], [1, \"cx-order-history-body\"], [1, \"cx-order-history-sort\", \"top\", \"row\"], [1, \"cx-order-history-form-group\", \"form-group\", \"col-sm-12\", \"col-md-4\", \"col-lg-4\"], [3, \"sortOptions\", \"sortLabels\", \"selectedOption\", \"sortListEvent\"], [1, \"cx-order-history-pagination\"], [3, \"pagination\", \"viewPageEvent\"], [1, \"table\", \"cx-order-history-table\"], [1, \"cx-order-history-thead-mobile\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"cx-order-history-sort\", \"bottom\", \"row\"], [1, \"cx-order-history-code\"], [1, \"d-md-none\", \"cx-order-history-label\"], [1, \"cx-order-history-value\", 3, \"routerLink\"], [1, \"cx-order-history-placed\"], [1, \"cx-order-history-status\"]],\n    template: function OrderReturnRequestListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, OrderReturnRequestListComponent_ng_container_0_Template, 4, 1, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.returnRequests$));\n      }\n    },\n    directives: [i3.NgIf, SortingComponent, PaginationComponent, i3.NgForOf, i1$1.RouterLinkWithHref],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe, i1.UrlPipe, i1.CxDatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return OrderReturnRequestListComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet ReturnRequestListModule = /*#__PURE__*/(() => {\n  class ReturnRequestListModule {}\n  ReturnRequestListModule.ɵfac = function ReturnRequestListModule_Factory(t) {\n    return new (t || ReturnRequestListModule)();\n  };\n  ReturnRequestListModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ReturnRequestListModule\n  });\n  ReturnRequestListModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        OrderReturnRequestListComponent: {\n          component: OrderReturnRequestListComponent,\n          guards: [AuthGuard]\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule, ListNavigationModule, UrlModule, I18nModule]]\n  });\n  return ReturnRequestListModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * @deprecated since 4.2 - use order lib instead\n */\nlet OrderModule = /*#__PURE__*/(() => {\n  class OrderModule {}\n  OrderModule.ɵfac = function OrderModule_Factory(t) {\n    return new (t || OrderModule)();\n  };\n  OrderModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: OrderModule\n  });\n  OrderModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[OrderHistoryModule, OrderDetailsModule, ReplenishmentOrderDetailsModule, OrderCancellationModule, OrderReturnModule, ReplenishmentOrderHistoryModule, ReturnRequestListModule, ReturnRequestDetailModule]]\n  });\n  return OrderModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PaymentMethodsComponent = /*#__PURE__*/(() => {\n  class PaymentMethodsComponent {\n    constructor(userPaymentService, translation) {\n      this.userPaymentService = userPaymentService;\n      this.translation = translation;\n      this.iconTypes = ICON_TYPE;\n    }\n    ngOnInit() {\n      this.paymentMethods$ = this.userPaymentService.getPaymentMethods().pipe(tap(paymentDetails => {\n        // Set first payment method to DEFAULT if none is set\n        if (paymentDetails.length > 0 && !paymentDetails.find(paymentDetail => paymentDetail.defaultPayment)) {\n          this.setDefaultPaymentMethod(paymentDetails[0]);\n        }\n      }));\n      this.editCard = null;\n      this.loading$ = this.userPaymentService.getPaymentMethodsLoading();\n      this.userPaymentService.loadPaymentMethods();\n    }\n    getCardContent({\n      defaultPayment,\n      accountHolderName,\n      expiryMonth,\n      expiryYear,\n      cardNumber,\n      cardType\n    }) {\n      return combineLatest([this.translation.translate('paymentCard.setAsDefault'), this.translation.translate('common.delete'), this.translation.translate('paymentCard.deleteConfirmation'), this.translation.translate('paymentCard.expires', {\n        month: expiryMonth,\n        year: expiryYear\n      }), this.translation.translate('paymentCard.defaultPaymentMethod')]).pipe(map(([textSetAsDefault, textDelete, textDeleteConfirmation, textExpires, textDefaultPaymentMethod]) => {\n        const actions = [];\n        if (!defaultPayment) {\n          actions.push({\n            name: textSetAsDefault,\n            event: 'default'\n          });\n        }\n        actions.push({\n          name: textDelete,\n          event: 'edit'\n        });\n        const card = {\n          header: defaultPayment ? textDefaultPaymentMethod : null,\n          textBold: accountHolderName,\n          text: [cardNumber, textExpires],\n          actions,\n          deleteMsg: textDeleteConfirmation,\n          img: this.getCardIcon(cardType.code)\n        };\n        return card;\n      }));\n    }\n    deletePaymentMethod(paymentMethod) {\n      this.userPaymentService.deletePaymentMethod(paymentMethod.id);\n      this.editCard = null;\n    }\n    setEdit(paymentMethod) {\n      this.editCard = paymentMethod.id;\n    }\n    cancelCard() {\n      this.editCard = null;\n    }\n    setDefaultPaymentMethod(paymentMethod) {\n      this.userPaymentService.setPaymentMethodAsDefault(paymentMethod.id);\n    }\n    getCardIcon(code) {\n      let ccIcon;\n      if (code === 'visa') {\n        ccIcon = this.iconTypes.VISA;\n      } else if (code === 'master' || code === 'mastercard_eurocard') {\n        ccIcon = this.iconTypes.MASTER_CARD;\n      } else if (code === 'diners') {\n        ccIcon = this.iconTypes.DINERS_CLUB;\n      } else if (code === 'amex') {\n        ccIcon = this.iconTypes.AMEX;\n      } else {\n        ccIcon = this.iconTypes.CREDIT_CARD;\n      }\n      return ccIcon;\n    }\n  }\n  PaymentMethodsComponent.ɵfac = function PaymentMethodsComponent_Factory(t) {\n    return new (t || PaymentMethodsComponent)(i0.ɵɵdirectiveInject(i1.UserPaymentService), i0.ɵɵdirectiveInject(i1.TranslationService));\n  };\n  PaymentMethodsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: PaymentMethodsComponent,\n    selectors: [[\"cx-payment-methods\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [1, \"cx-payment\", \"container\"], [1, \"cx-header\"], [1, \"cx-body\"], [1, \"cx-msg\"], [4, \"ngIf\", \"ngIfElse\"], [\"cards\", \"\"], [1, \"cx-existing\", \"row\"], [\"class\", \"cx-payment-card col-sm-12 col-md-12 col-lg-6\", 4, \"ngFor\", \"ngForOf\"], [1, \"cx-payment-card\", \"col-sm-12\", \"col-md-12\", \"col-lg-6\"], [1, \"cx-payment-inner\"], [3, \"border\", \"fitToContainer\", \"content\", \"editMode\", \"deleteCard\", \"setDefaultCard\", \"editCard\", \"cancelCard\"]],\n    template: function PaymentMethodsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, PaymentMethodsComponent_ng_container_0_Template, 14, 10, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.paymentMethods$));\n      }\n    },\n    directives: [i3.NgIf, SpinnerComponent, i3.NgForOf, CardComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return PaymentMethodsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PaymentMethodsModule = /*#__PURE__*/(() => {\n  class PaymentMethodsModule {}\n  PaymentMethodsModule.ɵfac = function PaymentMethodsModule_Factory(t) {\n    return new (t || PaymentMethodsModule)();\n  };\n  PaymentMethodsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: PaymentMethodsModule\n  });\n  PaymentMethodsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        AccountPaymentDetailsComponent: {\n          component: PaymentMethodsComponent,\n          guards: [AuthGuard]\n        }\n      }\n    })],\n    imports: [[CommonModule, CardModule, SpinnerModule, I18nModule]]\n  });\n  return PaymentMethodsModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PageTitleComponent = /*#__PURE__*/(() => {\n  class PageTitleComponent {\n    constructor(component, pageMetaService) {\n      this.component = component;\n      this.pageMetaService = pageMetaService;\n    }\n    ngOnInit() {\n      this.setTitle();\n    }\n    setTitle() {\n      this.title$ = this.pageMetaService.getMeta().pipe(filter(isNotNullable), map(meta => {\n        var _a;\n        return (_a = meta.heading || meta.title) !== null && _a !== void 0 ? _a : '';\n      }));\n    }\n  }\n  PageTitleComponent.ɵfac = function PageTitleComponent_Factory(t) {\n    return new (t || PageTitleComponent)(i0.ɵɵdirectiveInject(CmsComponentData), i0.ɵɵdirectiveInject(i1.PageMetaService));\n  };\n  PageTitleComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: PageTitleComponent,\n    selectors: [[\"cx-page-title\"]],\n    decls: 3,\n    vars: 3,\n    consts: [[1, \"cx-visually-hidden\"]],\n    template: function PageTitleComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\", 0);\n        i0.ɵɵtext(1);\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, ctx.title$));\n      }\n    },\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return PageTitleComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet BreadcrumbComponent = /*#__PURE__*/(() => {\n  class BreadcrumbComponent extends PageTitleComponent {\n    constructor(component, pageMetaService, translation) {\n      super(component, pageMetaService);\n      this.component = component;\n      this.pageMetaService = pageMetaService;\n      this.translation = translation;\n    }\n    ngOnInit() {\n      super.ngOnInit();\n      this.setCrumbs();\n    }\n    setCrumbs() {\n      this.crumbs$ = combineLatest([this.pageMetaService.getMeta(), this.translation.translate('common.home')]).pipe(map(([meta, textHome]) => (meta === null || meta === void 0 ? void 0 : meta.breadcrumbs) ? meta.breadcrumbs : [{\n        label: textHome,\n        link: '/'\n      }]));\n    }\n  }\n  BreadcrumbComponent.ɵfac = function BreadcrumbComponent_Factory(t) {\n    return new (t || BreadcrumbComponent)(i0.ɵɵdirectiveInject(CmsComponentData), i0.ɵɵdirectiveInject(i1.PageMetaService), i0.ɵɵdirectiveInject(i1.TranslationService));\n  };\n  BreadcrumbComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: BreadcrumbComponent,\n    selectors: [[\"cx-breadcrumb\"]],\n    features: [i0.ɵɵInheritDefinitionFeature],\n    decls: 6,\n    vars: 6,\n    consts: [[4, \"ngFor\", \"ngForOf\"], [3, \"routerLink\", \"innerHTML\"]],\n    template: function BreadcrumbComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"nav\");\n        i0.ɵɵtemplate(1, BreadcrumbComponent_span_1_Template, 2, 2, \"span\", 0);\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"h1\");\n        i0.ɵɵtext(4);\n        i0.ɵɵpipe(5, \"async\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(2, 2, ctx.crumbs$));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 4, ctx.title$));\n      }\n    },\n    directives: [i3.NgForOf, i1$1.RouterLinkWithHref],\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return BreadcrumbComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet BreadcrumbModule = /*#__PURE__*/(() => {\n  class BreadcrumbModule {}\n  BreadcrumbModule.ɵfac = function BreadcrumbModule_Factory(t) {\n    return new (t || BreadcrumbModule)();\n  };\n  BreadcrumbModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: BreadcrumbModule\n  });\n  BreadcrumbModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        BreadcrumbComponent: {\n          component: BreadcrumbComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule, PageMetaModule]]\n  });\n  return BreadcrumbModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet NavigationService = /*#__PURE__*/(() => {\n  class NavigationService {\n    constructor(cmsService, semanticPathService) {\n      this.cmsService = cmsService;\n      this.semanticPathService = semanticPathService;\n    }\n    createNavigation(data$) {\n      return combineLatest([data$, this.getNavigationNode(data$)]).pipe(map(([data, nav]) => {\n        return data ? {\n          title: data.name,\n          children: [nav]\n        } : undefined;\n      }));\n    }\n    /**\n     * returns an observable with the `NavigationNode` for the given `CmsNavigationComponent`.\n     * This function will load the navigation underlying entries and children if they haven't been\n     * loaded so far.\n     */\n    getNavigationNode(data$) {\n      if (!data$) {\n        return of();\n      }\n      return data$.pipe(filter(data => !!data), switchMap(data => {\n        const navigation = data.navigationNode ? data.navigationNode : data;\n        return this.cmsService.getNavigationEntryItems(navigation.uid).pipe(tap(items => {\n          if (items === undefined) {\n            this.loadNavigationEntryItems(navigation, true);\n          } else {\n            // we should check whether the existing node items are what expected\n            const expectedItems = [];\n            this.loadNavigationEntryItems(navigation, false, expectedItems);\n            const existingItems = Object.keys(items).map(key => items[key].uid);\n            const missingItems = expectedItems.filter(it => !existingItems.includes(it.id));\n            if (missingItems.length > 0) {\n              this.cmsService.loadNavigationItems(navigation.uid, missingItems);\n            }\n          }\n        }), filter(Boolean), map(items => this.populateNavigationNode(navigation, items)));\n      }));\n    }\n    /**\n     * Loads all navigation entry items' type and id. Dispatch action to load all these items\n     * @param nodeData\n     * @param root\n     * @param itemsList\n     */\n    loadNavigationEntryItems(nodeData, root, itemsList = []) {\n      if (nodeData.entries && nodeData.entries.length > 0) {\n        nodeData.entries.forEach(entry => {\n          itemsList.push({\n            superType: entry.itemSuperType,\n            id: entry.itemId\n          });\n        });\n      }\n      if (nodeData.children && nodeData.children.length > 0) {\n        nodeData.children.forEach(child => this.loadNavigationEntryItems(child, false, itemsList));\n      }\n      if (root) {\n        this.cmsService.loadNavigationItems(nodeData.uid, itemsList);\n      }\n    }\n    /**\n     * Create a new node tree for the view\n     * @param nodeData\n     * @param items\n     */\n    populateNavigationNode(nodeData, items) {\n      var _a;\n      const node = {};\n      if (nodeData.title) {\n        // the node title will be populated by the first entry (if any)\n        // if there's no nodeData.title available\n        node.title = nodeData.title;\n      }\n      // populate style classes to apply CMS driven styling\n      if (nodeData.styleClasses) {\n        node.styleClasses = nodeData.styleClasses;\n      }\n      // populate style attributes to apply CMS driven styling\n      if (nodeData.styleAttributes) {\n        node.styleAttributes = nodeData.styleAttributes;\n      }\n      if (nodeData.entries && nodeData.entries.length > 0) {\n        this.populateLink(node, nodeData.entries[0], items);\n      }\n      if (((_a = nodeData.children) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n        const children = nodeData.children.map(child => this.populateNavigationNode(child, items)).filter(Boolean);\n        if (children.length > 0) {\n          node.children = children;\n        }\n      }\n      // return null in case there are no children\n      return Object.keys(node).length === 0 ? null : node;\n    }\n    /**\n     * The node link is driven by the first entry.\n     */\n    populateLink(node, entry, items) {\n      const item = items[`${entry.itemId}_${entry.itemSuperType}`];\n      // now we only consider CMSLinkComponent\n      if (item && entry.itemType === 'CMSLinkComponent') {\n        if (!node.title) {\n          node.title = item.linkName;\n        }\n        const url = this.getLink(item);\n        // only populate the node link if we have a visible node\n        if (node.title && url) {\n          node.url = url;\n          // the backend provide boolean value for the target\n          // in case the link should be opened in a new window\n          if (item.target === 'true' || item.target === true) {\n            node.target = '_blank';\n          }\n        }\n        // populate style classes to apply CMS driven styling\n        if (item.styleClasses) {\n          node.styleClasses = item.styleClasses;\n        }\n        // populate style attributes to apply CMS driven styling\n        if (item.styleAttributes) {\n          node.styleAttributes = item.styleAttributes;\n        }\n      }\n    }\n    /**\n     *\n     * Gets the URL or link to a related item (category),\n     * also taking into account content pages (contentPageLabelOrId)\n     * and product pages (productCode)\n     */\n    getLink(item) {\n      if (item.url) {\n        return item.url;\n      } else if (item.contentPageLabelOrId) {\n        return item.contentPageLabelOrId;\n      } else if (item.categoryCode) {\n        return this.semanticPathService.transform({\n          cxRoute: 'category',\n          params: {\n            code: item.categoryCode,\n            name: item.name\n          }\n        });\n      } else if (item.productCode) {\n        return this.semanticPathService.transform({\n          cxRoute: 'product',\n          params: {\n            code: item.productCode,\n            name: item.name\n          }\n        });\n      }\n    }\n  }\n  NavigationService.ɵfac = function NavigationService_Factory(t) {\n    return new (t || NavigationService)(i0.ɵɵinject(i1.CmsService), i0.ɵɵinject(i1.SemanticPathService));\n  };\n  NavigationService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: NavigationService,\n    factory: NavigationService.ɵfac,\n    providedIn: 'root'\n  });\n  return NavigationService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet HamburgerMenuService = /*#__PURE__*/(() => {\n  class HamburgerMenuService {\n    constructor(router) {\n      this.isExpanded = new BehaviorSubject(false);\n      router.events.pipe(filter(event => event instanceof NavigationStart)).subscribe(() => {\n        this.toggle(true);\n      });\n    }\n    /**\n     * toggles the expand state of the hamburger menu\n     */\n    toggle(forceCollapse) {\n      if (forceCollapse) {\n        this.isExpanded.next(false);\n      } else {\n        this.isExpanded.next(!this.isExpanded.value);\n      }\n    }\n  }\n  HamburgerMenuService.ɵfac = function HamburgerMenuService_Factory(t) {\n    return new (t || HamburgerMenuService)(i0.ɵɵinject(i1$1.Router));\n  };\n  HamburgerMenuService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: HamburgerMenuService,\n    factory: HamburgerMenuService.ɵfac,\n    providedIn: 'root'\n  });\n  return HamburgerMenuService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet NavigationUIComponent = /*#__PURE__*/(() => {\n  class NavigationUIComponent {\n    constructor(router, renderer, elemRef, hamburgerMenuService) {\n      this.router = router;\n      this.renderer = renderer;\n      this.elemRef = elemRef;\n      this.hamburgerMenuService = hamburgerMenuService;\n      /**\n       * the icon type that will be used for navigation nodes\n       * with children.\n       */\n      this.iconType = ICON_TYPE;\n      /**\n       * Indicates whether the navigation should support flyout.\n       * If flyout is set to true, the\n       * nested child navigation nodes will only appear on hover or focus.\n       */\n      this.flyout = true;\n      this.isOpen = false;\n      this.openNodes = [];\n      this.subscriptions = new Subscription();\n      this.resize = new EventEmitter();\n      this.subscriptions.add(this.router.events.pipe(filter(event => event instanceof NavigationEnd)).subscribe(() => this.clear()));\n      this.subscriptions.add(this.resize.pipe(debounceTime(50)).subscribe(() => {\n        this.alignWrappersToRightIfStickOut();\n      }));\n    }\n    onResize() {\n      this.resize.next();\n    }\n    /**\n     * During initialization of this component, we will check the resetMenuOnClose flag and attach a menu reset listener if needed.\n     */\n    ngOnInit() {\n      if (this.resetMenuOnClose) {\n        this.resetOnMenuCollapse();\n      }\n    }\n    /**\n     * This method performs the action of resetting the menu (close all sub menus and return to main options)\n     * when the menu is closed.\n     */\n    resetOnMenuCollapse() {\n      var _a;\n      this.subscriptions.add((_a = this.hamburgerMenuService) === null || _a === void 0 ? void 0 : _a.isExpanded.pipe(distinctUntilChanged(), filter(Boolean)).subscribe(() => {\n        this.reinitalizeMenu();\n      }));\n    }\n    /**\n     * This method performs the actions required to reset the state of the menu and reset any visual components.\n     */\n    reinitalizeMenu() {\n      var _a;\n      if (((_a = this.openNodes) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n        this.clear();\n        this.renderer.removeClass(this.elemRef.nativeElement, 'is-open');\n      }\n    }\n    toggleOpen(event) {\n      if (event.type === 'keydown') {\n        event.preventDefault();\n      }\n      const node = event.currentTarget;\n      if (this.openNodes.includes(node)) {\n        if (event.type === 'keydown') {\n          this.back();\n        } else {\n          this.openNodes = this.openNodes.filter(n => n !== node);\n          this.renderer.removeClass(node, 'is-open');\n        }\n      } else {\n        this.openNodes.push(node);\n      }\n      this.updateClasses();\n      event.stopImmediatePropagation();\n      event.stopPropagation();\n    }\n    back() {\n      if (this.openNodes[this.openNodes.length - 1]) {\n        this.renderer.removeClass(this.openNodes[this.openNodes.length - 1], 'is-open');\n        this.openNodes.pop();\n        this.updateClasses();\n      }\n    }\n    clear() {\n      this.openNodes = [];\n      this.updateClasses();\n    }\n    onMouseEnter(event) {\n      this.alignWrapperToRightIfStickOut(event.currentTarget);\n      this.focusAfterPreviousClicked(event);\n    }\n    getTotalDepth(node, depth = 0) {\n      if (node.children && node.children.length > 0) {\n        return Math.max(...node.children.map(n => this.getTotalDepth(n, depth + 1)));\n      } else {\n        return depth;\n      }\n    }\n    getColumnCount(length) {\n      return Math.round(length / (this.wrapAfter || length));\n    }\n    focusAfterPreviousClicked(event) {\n      const target = event.target || event.relatedTarget;\n      if (target.ownerDocument.activeElement.matches('nav[tabindex]') && target.parentElement.matches('.flyout')) {\n        target.focus();\n      }\n      return target.ownerDocument;\n    }\n    ngOnDestroy() {\n      if (this.subscriptions) {\n        this.subscriptions.unsubscribe();\n      }\n    }\n    alignWrapperToRightIfStickOut(node) {\n      const wrapper = node.querySelector('.wrapper');\n      const body = node.closest('body');\n      if (wrapper) {\n        this.renderer.removeStyle(wrapper, 'margin-left');\n        if (wrapper.offsetLeft + wrapper.offsetWidth > body.offsetLeft + body.offsetWidth) {\n          this.renderer.setStyle(wrapper, 'margin-left', `${node.offsetWidth - wrapper.offsetWidth}px`);\n        }\n      }\n    }\n    alignWrappersToRightIfStickOut() {\n      const navs = this.elemRef.nativeElement.childNodes;\n      Array.from(navs).filter(node => node.tagName === 'NAV').forEach(nav => this.alignWrapperToRightIfStickOut(nav));\n    }\n    updateClasses() {\n      this.openNodes.forEach((node, i) => {\n        if (i + 1 < this.openNodes.length) {\n          this.renderer.addClass(node, 'is-opened');\n          this.renderer.removeClass(node, 'is-open');\n        } else {\n          this.renderer.removeClass(node, 'is-opened');\n          this.renderer.addClass(node, 'is-open');\n        }\n      });\n      this.isOpen = this.openNodes.length > 0;\n    }\n  }\n  NavigationUIComponent.ɵfac = function NavigationUIComponent_Factory(t) {\n    return new (t || NavigationUIComponent)(i0.ɵɵdirectiveInject(i1$1.Router), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(HamburgerMenuService));\n  };\n  NavigationUIComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: NavigationUIComponent,\n    selectors: [[\"cx-navigation-ui\"]],\n    hostVars: 4,\n    hostBindings: function NavigationUIComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"resize\", function NavigationUIComponent_resize_HostBindingHandler() {\n          return ctx.onResize();\n        }, false, i0.ɵɵresolveWindow);\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"flyout\", ctx.flyout)(\"is-open\", ctx.isOpen);\n      }\n    },\n    inputs: {\n      node: \"node\",\n      wrapAfter: \"wrapAfter\",\n      resetMenuOnClose: \"resetMenuOnClose\",\n      flyout: \"flyout\",\n      isOpen: \"isOpen\"\n    },\n    decls: 4,\n    vars: 2,\n    consts: [[\"class\", \"back is-open\", 3, \"click\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"nav\", \"\"], [1, \"back\", \"is-open\", 3, \"click\"], [3, \"type\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [3, \"click\", \"mouseenter\", \"keydown.space\", \"keydown.esc\"], [3, \"url\", \"target\", \"style\", \"class\", 4, \"ngIf\", \"ngIfElse\"], [\"heading\", \"\"], [\"class\", \"wrapper\", 4, \"ngIf\"], [3, \"url\", \"target\"], [3, \"type\", 4, \"ngIf\"], [1, \"wrapper\"], [\"class\", \"all\", 3, \"url\", \"target\", 4, \"ngIf\"], [1, \"childs\"], [1, \"all\", 3, \"url\", \"target\"]],\n    template: function NavigationUIComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, NavigationUIComponent_div_0_Template, 5, 4, \"div\", 0);\n        i0.ɵɵtemplate(1, NavigationUIComponent_ng_container_1_Template, 2, 4, \"ng-container\", 1);\n        i0.ɵɵtemplate(2, NavigationUIComponent_ng_template_2_Template, 5, 3, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.flyout && (ctx.node == null ? null : ctx.node.children.length) > 1);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.node == null ? null : ctx.node.children);\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, IconComponent, i3.NgTemplateOutlet, GenericLinkComponent],\n    pipes: [i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return NavigationUIComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CategoryNavigationComponent = /*#__PURE__*/(() => {\n  class CategoryNavigationComponent {\n    constructor(componentData, service) {\n      this.componentData = componentData;\n      this.service = service;\n      this.node$ = this.service.getNavigationNode(this.componentData.data$);\n      this.data$ = this.componentData.data$;\n    }\n  }\n  CategoryNavigationComponent.ɵfac = function CategoryNavigationComponent_Factory(t) {\n    return new (t || CategoryNavigationComponent)(i0.ɵɵdirectiveInject(CmsComponentData), i0.ɵɵdirectiveInject(NavigationService));\n  };\n  CategoryNavigationComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CategoryNavigationComponent,\n    selectors: [[\"cx-category-navigation\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[3, \"node\", \"ngClass\", \"wrapAfter\", \"resetMenuOnClose\", 4, \"ngIf\"], [3, \"node\", \"ngClass\", \"wrapAfter\", \"resetMenuOnClose\"]],\n    template: function CategoryNavigationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CategoryNavigationComponent_cx_navigation_ui_0_Template, 2, 6, \"cx-navigation-ui\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.data$));\n      }\n    },\n    directives: [i3.NgIf, NavigationUIComponent, i3.NgClass],\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return CategoryNavigationComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet NavigationComponent = /*#__PURE__*/(() => {\n  class NavigationComponent {\n    constructor(componentData, service) {\n      this.componentData = componentData;\n      this.service = service;\n      this.node$ = this.service.createNavigation(this.componentData.data$);\n      this.styleClass$ = this.componentData.data$.pipe(map(d => d === null || d === void 0 ? void 0 : d.styleClass));\n    }\n  }\n  NavigationComponent.ɵfac = function NavigationComponent_Factory(t) {\n    return new (t || NavigationComponent)(i0.ɵɵdirectiveInject(CmsComponentData), i0.ɵɵdirectiveInject(NavigationService));\n  };\n  NavigationComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: NavigationComponent,\n    selectors: [[\"cx-navigation\"]],\n    decls: 3,\n    vars: 6,\n    consts: [[3, \"node\", \"ngClass\"]],\n    template: function NavigationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"cx-navigation-ui\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵpipe(2, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"node\", i0.ɵɵpipeBind1(1, 2, ctx.node$))(\"ngClass\", i0.ɵɵpipeBind1(2, 4, ctx.styleClass$));\n      }\n    },\n    directives: [NavigationUIComponent, i3.NgClass],\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return NavigationComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet NavigationModule = /*#__PURE__*/(() => {\n  class NavigationModule {}\n  NavigationModule.ɵfac = function NavigationModule_Factory(t) {\n    return new (t || NavigationModule)();\n  };\n  NavigationModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: NavigationModule\n  });\n  NavigationModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        NavigationComponent: {\n          component: NavigationComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule, IconModule, GenericLinkModule, I18nModule]]\n  });\n  return NavigationModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CategoryNavigationModule = /*#__PURE__*/(() => {\n  class CategoryNavigationModule {}\n  CategoryNavigationModule.ɵfac = function CategoryNavigationModule_Factory(t) {\n    return new (t || CategoryNavigationModule)();\n  };\n  CategoryNavigationModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: CategoryNavigationModule\n  });\n  CategoryNavigationModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        CategoryNavigationComponent: {\n          component: CategoryNavigationComponent,\n          data: {\n            resetMenuOnClose: true\n          }\n        }\n      }\n    })],\n    imports: [[CommonModule, NavigationModule]]\n  });\n  return CategoryNavigationModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FooterNavigationComponent = /*#__PURE__*/(() => {\n  class FooterNavigationComponent {\n    constructor(componentData, service) {\n      this.componentData = componentData;\n      this.service = service;\n      this.node$ = this.service.getNavigationNode(this.componentData.data$);\n      this.styleClass$ = this.componentData.data$.pipe(map(d => d === null || d === void 0 ? void 0 : d.styleClass));\n    }\n  }\n  FooterNavigationComponent.ɵfac = function FooterNavigationComponent_Factory(t) {\n    return new (t || FooterNavigationComponent)(i0.ɵɵdirectiveInject(CmsComponentData), i0.ɵɵdirectiveInject(NavigationService));\n  };\n  FooterNavigationComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: FooterNavigationComponent,\n    selectors: [[\"cx-footer-navigation\"]],\n    decls: 3,\n    vars: 7,\n    consts: [[3, \"node\", \"flyout\", \"ngClass\"]],\n    template: function FooterNavigationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"cx-navigation-ui\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵpipe(2, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"node\", i0.ɵɵpipeBind1(1, 3, ctx.node$))(\"flyout\", false)(\"ngClass\", i0.ɵɵpipeBind1(2, 5, ctx.styleClass$));\n      }\n    },\n    directives: [NavigationUIComponent, i3.NgClass],\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return FooterNavigationComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FooterNavigationModule = /*#__PURE__*/(() => {\n  class FooterNavigationModule {}\n  FooterNavigationModule.ɵfac = function FooterNavigationModule_Factory(t) {\n    return new (t || FooterNavigationModule)();\n  };\n  FooterNavigationModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: FooterNavigationModule\n  });\n  FooterNavigationModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        FooterNavigationComponent: {\n          component: FooterNavigationComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule, NavigationModule, GenericLinkModule, I18nModule]]\n  });\n  return FooterNavigationModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet PageTitleModule = /*#__PURE__*/(() => {\n  class PageTitleModule {}\n  PageTitleModule.ɵfac = function PageTitleModule_Factory(t) {\n    return new (t || PageTitleModule)();\n  };\n  PageTitleModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: PageTitleModule\n  });\n  PageTitleModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        PageTitleComponent: {\n          component: PageTitleComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule, PageMetaModule]]\n  });\n  return PageTitleModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet HighlightPipe = /*#__PURE__*/(() => {\n  class HighlightPipe {\n    transform(text, match) {\n      if (!match) {\n        return text;\n      }\n      return text.replace(match.trim(), `<span class=\"highlight\">${match.trim()}</span>`);\n    }\n  }\n  HighlightPipe.ɵfac = function HighlightPipe_Factory(t) {\n    return new (t || HighlightPipe)();\n  };\n  HighlightPipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"cxHighlight\",\n    type: HighlightPipe,\n    pure: true\n  });\n  return HighlightPipe;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Indicates that the user chose a suggestion\n */\nlet SearchBoxSuggestionSelectedEvent = /*#__PURE__*/(() => {\n  class SearchBoxSuggestionSelectedEvent extends CxEvent {}\n  /**\n   * Event's type\n   */\n  SearchBoxSuggestionSelectedEvent.type = 'SearchBoxSuggestionSelectedEvent';\n  /**\n   * Indicates that the user chose a product suggestion\n   */\n  return SearchBoxSuggestionSelectedEvent;\n})();\nlet SearchBoxProductSelectedEvent = /*#__PURE__*/(() => {\n  class SearchBoxProductSelectedEvent extends CxEvent {}\n  /**\n   * Event's type\n   */\n  SearchBoxProductSelectedEvent.type = 'SearchBoxProductSelectedEvent';\n  return SearchBoxProductSelectedEvent;\n})();\nconst HAS_SEARCH_RESULT_CLASS = 'has-searchbox-results';\nlet SearchBoxComponentService = /*#__PURE__*/(() => {\n  class SearchBoxComponentService {\n    constructor(searchService, routingService, translationService, winRef, eventService) {\n      this.searchService = searchService;\n      this.routingService = routingService;\n      this.translationService = translationService;\n      this.winRef = winRef;\n      this.eventService = eventService;\n    }\n    /**\n     * Executes the search for products and suggestions,\n     * unless the configuration is setup to not search for\n     * products or suggestions.\n     */\n    search(query, config) {\n      if (!query || query === '') {\n        this.clearResults();\n        return;\n      }\n      if (config.minCharactersBeforeRequest && query.length < config.minCharactersBeforeRequest) {\n        return;\n      }\n      if (config.displayProducts) {\n        this.searchService.search(query, {\n          pageSize: config.maxProducts\n        });\n      }\n      if (config.displaySuggestions) {\n        this.searchService.searchSuggestions(query, {\n          pageSize: config.maxSuggestions\n        });\n      }\n    }\n    /**\n     * Returns an observable with the SearchResults. When there's any\n     * result, the body tag will get a classname, so that specific style\n     * rules can be applied.\n     */\n    getResults(config) {\n      return combineLatest([this.getProductResults(config), this.getProductSuggestions(config), this.getSearchMessage(config)]).pipe(map(([productResults, suggestions, message]) => {\n        return {\n          products: productResults ? productResults.products : null,\n          suggestions,\n          message\n        };\n      }), tap(results => this.toggleBodyClass(HAS_SEARCH_RESULT_CLASS, this.hasResults(results))));\n    }\n    /**\n     * Clears the searchbox results, so that old values are\n     * no longer emited upon next search.\n     */\n    clearResults() {\n      this.searchService.clearResults();\n      this.toggleBodyClass(HAS_SEARCH_RESULT_CLASS, false);\n    }\n    hasBodyClass(className) {\n      return this.winRef.document.body.classList.contains(className);\n    }\n    toggleBodyClass(className, add) {\n      if (add === undefined) {\n        this.winRef.document.body.classList.toggle(className);\n      } else {\n        add ? this.winRef.document.body.classList.add(className) : this.winRef.document.body.classList.remove(className);\n      }\n    }\n    /**\n     * Dispatches a searchbox event for product selected\n     *\n     * @param eventData data for the \"SearchBoxProductSelectedEvent\"\n     */\n    dispatchProductSelectedEvent(eventData) {\n      this.eventService.dispatch({\n        freeText: eventData.freeText,\n        productCode: eventData.productCode\n      }, SearchBoxProductSelectedEvent);\n    }\n    /**\n     * Dispatches a searchbox event for suggestion selected\n     *\n     * @param eventData data for the \"SearchBoxSuggestionSelectedEvent\"\n     */\n    dispatchSuggestionSelectedEvent(eventData) {\n      this.eventService.dispatch({\n        freeText: eventData.freeText,\n        selectedSuggestion: eventData.selectedSuggestion,\n        searchSuggestions: eventData.searchSuggestions\n      }, SearchBoxSuggestionSelectedEvent);\n    }\n    /**\n     * For search results model, it returns true when:\n     * * there is any product OR\n     * * the is any search suggestion OR\n     * * there is a message.\n     *\n     * Otherwise it returns false.\n     */\n    hasResults(results) {\n      return !!results.products && results.products.length > 0 || !!results.suggestions && results.suggestions.length > 0 || !!results.message;\n    }\n    /**\n     * Emits product search results in case when the config property `displayProducts` is true.\n     * Otherwise it emits an empty object.\n     */\n    getProductResults(config) {\n      if (config.displayProducts) {\n        return this.searchService.getResults();\n      } else {\n        return of({});\n      }\n    }\n    /**\n     * Loads suggestions from the backend. In case there's no suggestion\n     * available, we try to get an exact match suggestion.\n     */\n    getProductSuggestions(config) {\n      if (!config.displaySuggestions) {\n        return of([]);\n      } else {\n        return this.searchService.getSuggestionResults().pipe(map(res => res.map(suggestion => suggestion.value)), switchMap(suggestions => {\n          if (suggestions.length === 0) {\n            return this.getExactSuggestion(config).pipe(map(match => match ? [match] : []));\n          } else {\n            return of(suggestions);\n          }\n        }));\n      }\n    }\n    /**\n     * Whenever there is at least 1 product, we simulate\n     * a suggestion to provide easy access to the search result page\n     */\n    getExactSuggestion(config) {\n      return this.getProductResults(config).pipe(switchMap(productResult => {\n        return productResult.products && productResult.products.length > 0 ? this.fetchTranslation('searchBox.help.exactMatch', {\n          term: productResult.freeTextSearch\n        }) : of(null);\n      }));\n    }\n    /**\n     * Emits a 'no match' message, in case the product search results and search suggestions are empty.\n     * Otherwise it emits null.\n     */\n    getSearchMessage(config) {\n      return combineLatest([this.getProductResults(config), this.getProductSuggestions(config)]).pipe(switchMap(([productResult, suggestions]) => {\n        if (productResult && productResult.products && productResult.products.length === 0 && suggestions && suggestions.length === 0) {\n          return this.fetchTranslation('searchBox.help.noMatch');\n        } else {\n          return of(null);\n        }\n      }));\n    }\n    /**\n     * Navigates to the search result page with a given query\n     */\n    launchSearchPage(query) {\n      this.routingService.go({\n        cxRoute: 'search',\n        params: {\n          query\n        }\n      });\n    }\n    fetchTranslation(translationKey, options) {\n      return this.translationService.translate(translationKey, options);\n    }\n  }\n  SearchBoxComponentService.ɵfac = function SearchBoxComponentService_Factory(t) {\n    return new (t || SearchBoxComponentService)(i0.ɵɵinject(i1.SearchboxService), i0.ɵɵinject(i1.RoutingService), i0.ɵɵinject(i1.TranslationService), i0.ɵɵinject(i1.WindowRef), i0.ɵɵinject(i1.EventService));\n  };\n  SearchBoxComponentService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: SearchBoxComponentService,\n    factory: SearchBoxComponentService.ɵfac,\n    providedIn: 'root'\n  });\n  return SearchBoxComponentService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst DEFAULT_SEARCH_BOX_CONFIG = {\n  minCharactersBeforeRequest: 1,\n  displayProducts: true,\n  displaySuggestions: true,\n  maxProducts: 5,\n  maxSuggestions: 5,\n  displayProductImages: true\n};\nlet SearchBoxComponent = /*#__PURE__*/(() => {\n  class SearchBoxComponent {\n    constructor(searchBoxComponentService, componentData, winRef, routingService) {\n      var _a;\n      this.searchBoxComponentService = searchBoxComponentService;\n      this.componentData = componentData;\n      this.winRef = winRef;\n      this.routingService = routingService;\n      this.iconTypes = ICON_TYPE;\n      /**\n       * In some occasions we need to ignore the close event,\n       * for example when we click inside the search result section.\n       */\n      this.ignoreCloseEvent = false;\n      this.chosenWord = '';\n      /**\n       * Returns the SearchBox configuration. The configuration is driven by multiple\n       * layers: default configuration, (optional) backend configuration and (optional)\n       * input configuration.\n       */\n      this.config$ = (((_a = this.componentData) === null || _a === void 0 ? void 0 : _a.data$) || of({})).pipe(map(config => {\n        const isBool = (obj, prop) => (obj === null || obj === void 0 ? void 0 : obj[prop]) !== 'false' && (obj === null || obj === void 0 ? void 0 : obj[prop]) !== false;\n        return Object.assign(Object.assign(Object.assign(Object.assign({}, DEFAULT_SEARCH_BOX_CONFIG), config), {\n          displayProducts: isBool(config, 'displayProducts'),\n          displayProductImages: isBool(config, 'displayProductImages'),\n          displaySuggestions: isBool(config, 'displaySuggestions')\n        }), this.config);\n      }), tap(config => this.config = config));\n      this.results$ = this.config$.pipe(switchMap(config => this.searchBoxComponentService.getResults(config)));\n    }\n    /**\n     * Sets the search box input field\n     */\n    set queryText(value) {\n      if (value) {\n        this.search(value);\n      }\n    }\n    ngOnInit() {\n      this.subscription = this.routingService.getRouterState().pipe(filter(data => !data.nextState)).subscribe(data => {\n        var _a, _b;\n        if (!(((_a = data.state.context) === null || _a === void 0 ? void 0 : _a.id) === 'search' && ((_b = data.state.context) === null || _b === void 0 ? void 0 : _b.type) === PageType.CONTENT_PAGE)) this.chosenWord = '';\n      });\n    }\n    /**\n     * Closes the searchBox and opens the search result page.\n     */\n    search(query) {\n      this.searchBoxComponentService.search(query, this.config);\n      // force the searchBox to open\n      this.open();\n    }\n    /**\n     * Opens the type-ahead searchBox\n     */\n    open() {\n      this.searchBoxComponentService.toggleBodyClass('searchbox-is-active', true);\n    }\n    /**\n     * Dispatch UI events for Suggestion selected\n     *\n     * @param eventData the data for the event\n     */\n    dispatchSuggestionEvent(eventData) {\n      this.searchBoxComponentService.dispatchSuggestionSelectedEvent(eventData);\n    }\n    /**\n     * Dispatch UI events for Product selected\n     *\n     * @param eventData the data for the event\n     */\n    dispatchProductEvent(eventData) {\n      this.searchBoxComponentService.dispatchProductSelectedEvent(eventData);\n    }\n    /**\n     * Closes the type-ahead searchBox.\n     */\n    close(event, force) {\n      // Use timeout to detect changes\n      setTimeout(() => {\n        if (!this.ignoreCloseEvent && !this.isSearchBoxFocused() || force) {\n          this.blurSearchBox(event);\n        }\n      });\n    }\n    blurSearchBox(event) {\n      this.searchBoxComponentService.toggleBodyClass('searchbox-is-active', false);\n      if (event && event.target) {\n        event.target.blur();\n      }\n    }\n    // Check if focus is on searchbox or result list elements\n    isSearchBoxFocused() {\n      return this.getResultElements().includes(this.getFocusedElement()) || this.winRef.document.querySelector('input[aria-label=\"Search\"]') === this.getFocusedElement();\n    }\n    /**\n     * Especially in mobile we do not want the search icon\n     * to focus the input again when it's already open.\n     * */\n    avoidReopen(event) {\n      if (this.searchBoxComponentService.hasBodyClass('searchbox-is-active')) {\n        this.close(event);\n        event.preventDefault();\n      }\n    }\n    // Return result list as HTMLElement array\n    getResultElements() {\n      return Array.from(this.winRef.document.querySelectorAll('.products > li a, .suggestions > li a'));\n    }\n    // Return focused element as HTMLElement\n    getFocusedElement() {\n      return this.winRef.document.activeElement;\n    }\n    updateChosenWord(chosenWord) {\n      this.chosenWord = chosenWord;\n    }\n    getFocusedIndex() {\n      return this.getResultElements().indexOf(this.getFocusedElement());\n    }\n    // Focus on previous item in results list\n    focusPreviousChild(event) {\n      event.preventDefault(); // Negate normal keyscroll\n      const [results, focusedIndex] = [this.getResultElements(), this.getFocusedIndex()];\n      // Focus on last index moving to first\n      if (results.length) {\n        if (focusedIndex < 1) {\n          results[results.length - 1].focus();\n        } else {\n          results[focusedIndex - 1].focus();\n        }\n      }\n    }\n    // Focus on next item in results list\n    focusNextChild(event) {\n      this.open();\n      event.preventDefault(); // Negate normal keyscroll\n      const [results, focusedIndex] = [this.getResultElements(), this.getFocusedIndex()];\n      // Focus on first index moving to last\n      if (results.length) {\n        if (focusedIndex >= results.length - 1) {\n          results[0].focus();\n        } else {\n          results[focusedIndex + 1].focus();\n        }\n      }\n    }\n    /**\n     * Opens the PLP with the given query.\n     *\n     * TODO: if there's a single product match, we could open the PDP.\n     */\n    launchSearchResult(event, query) {\n      if (!query || query.trim().length === 0) {\n        return;\n      }\n      this.close(event);\n      this.searchBoxComponentService.launchSearchPage(query);\n    }\n    /**\n     * Disables closing the search result list.\n     */\n    disableClose() {\n      this.ignoreCloseEvent = true;\n    }\n    preventDefault(ev) {\n      ev.preventDefault();\n    }\n    /**\n     * Clears the search box input field\n     */\n    clear(el) {\n      this.disableClose();\n      el.value = '';\n      this.searchBoxComponentService.clearResults();\n      // Use Timeout to run after blur event to prevent the searchbox from closing on mobile\n      setTimeout(() => {\n        // Retain focus on input lost by clicking on icon\n        el.focus();\n        this.ignoreCloseEvent = false;\n      });\n    }\n    ngOnDestroy() {\n      var _a;\n      (_a = this.subscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n    }\n  }\n  SearchBoxComponent.ɵfac = function SearchBoxComponent_Factory(t) {\n    return new (t || SearchBoxComponent)(i0.ɵɵdirectiveInject(SearchBoxComponentService), i0.ɵɵdirectiveInject(CmsComponentData, 8), i0.ɵɵdirectiveInject(i1.WindowRef), i0.ɵɵdirectiveInject(i1.RoutingService));\n  };\n  SearchBoxComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: SearchBoxComponent,\n    selectors: [[\"cx-searchbox\"]],\n    inputs: {\n      config: \"config\",\n      queryText: \"queryText\"\n    },\n    decls: 15,\n    vars: 21,\n    consts: [[1, \"searchbox\"], [\"autocomplete\", \"off\", \"aria-describedby\", \"initialDescription\", \"aria-controls\", \"results\", 3, \"placeholder\", \"value\", \"focus\", \"click\", \"input\", \"blur\", \"keydown.escape\", \"keydown.enter\", \"keydown.arrowup\", \"keydown.arrowdown\"], [\"searchInput\", \"\"], [1, \"reset\", 3, \"mousedown\", \"keydown.enter\"], [3, \"type\"], [\"role\", \"presentation\", 1, \"search-icon\"], [1, \"search\", 3, \"click\"], [\"class\", \"results\", \"id\", \"results\", \"role\", \"listbox\", 3, \"click\", 4, \"ngIf\"], [\"id\", \"results\", \"role\", \"listbox\", 1, \"results\", 3, \"click\"], [\"class\", \"message\", 3, \"innerHTML\", 4, \"ngIf\"], [\"tabindex\", \"0\", 1, \"suggestions\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"products\", \"tabindex\", \"0\", 4, \"ngIf\"], [\"id\", \"initialDescription\", 1, \"cx-visually-hidden\"], [\"aria-live\", \"assertive\", \"class\", \"cx-visually-hidden\", 4, \"ngIf\"], [1, \"message\", 3, \"innerHTML\"], [3, \"innerHTML\", \"routerLink\", \"keydown.arrowup\", \"keydown.arrowdown\", \"keydown.enter\", \"keydown.escape\", \"blur\", \"mousedown\", \"click\"], [\"tabindex\", \"0\", 1, \"products\"], [3, \"routerLink\", \"keydown.arrowup\", \"keydown.arrowdown\", \"keydown.enter\", \"keydown.escape\", \"blur\", \"mousedown\", \"click\"], [\"format\", \"thumbnail\", \"role\", \"presentation\", 3, \"container\", 4, \"ngIf\"], [1, \"name\", 3, \"innerHTML\"], [1, \"price\"], [\"format\", \"thumbnail\", \"role\", \"presentation\", 3, \"container\"], [\"aria-live\", \"assertive\", 1, \"cx-visually-hidden\"]],\n    template: function SearchBoxComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r34 = i0.ɵɵgetCurrentView();\n        i0.ɵɵelementStart(0, \"label\", 0);\n        i0.ɵɵelementStart(1, \"input\", 1, 2);\n        i0.ɵɵlistener(\"focus\", function SearchBoxComponent_Template_input_focus_1_listener() {\n          return ctx.open();\n        })(\"click\", function SearchBoxComponent_Template_input_click_1_listener() {\n          return ctx.open();\n        })(\"input\", function SearchBoxComponent_Template_input_input_1_listener() {\n          i0.ɵɵrestoreView(_r34);\n          const _r0 = i0.ɵɵreference(2);\n          return ctx.search(_r0.value);\n        })(\"blur\", function SearchBoxComponent_Template_input_blur_1_listener($event) {\n          return ctx.close($event);\n        })(\"keydown.escape\", function SearchBoxComponent_Template_input_keydown_escape_1_listener($event) {\n          return ctx.close($event);\n        })(\"keydown.enter\", function SearchBoxComponent_Template_input_keydown_enter_1_listener($event) {\n          i0.ɵɵrestoreView(_r34);\n          const _r0 = i0.ɵɵreference(2);\n          ctx.close($event, true);\n          ctx.launchSearchResult($event, _r0.value);\n          return ctx.updateChosenWord(_r0.value);\n        })(\"keydown.arrowup\", function SearchBoxComponent_Template_input_keydown_arrowup_1_listener($event) {\n          return ctx.focusPreviousChild($event);\n        })(\"keydown.arrowdown\", function SearchBoxComponent_Template_input_keydown_arrowdown_1_listener($event) {\n          return ctx.focusNextChild($event);\n        });\n        i0.ɵɵpipe(3, \"cxTranslate\");\n        i0.ɵɵpipe(4, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"button\", 3);\n        i0.ɵɵlistener(\"mousedown\", function SearchBoxComponent_Template_button_mousedown_5_listener() {\n          i0.ɵɵrestoreView(_r34);\n          const _r0 = i0.ɵɵreference(2);\n          return ctx.clear(_r0);\n        })(\"keydown.enter\", function SearchBoxComponent_Template_button_keydown_enter_5_listener() {\n          i0.ɵɵrestoreView(_r34);\n          const _r0 = i0.ɵɵreference(2);\n          return ctx.clear(_r0);\n        });\n        i0.ɵɵpipe(6, \"cxTranslate\");\n        i0.ɵɵelement(7, \"cx-icon\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 5);\n        i0.ɵɵelement(9, \"cx-icon\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"button\", 6);\n        i0.ɵɵlistener(\"click\", function SearchBoxComponent_Template_button_click_10_listener() {\n          return ctx.open();\n        });\n        i0.ɵɵpipe(11, \"cxTranslate\");\n        i0.ɵɵelement(12, \"cx-icon\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(13, SearchBoxComponent_div_13_Template, 10, 10, \"div\", 7);\n        i0.ɵɵpipe(14, \"async\");\n      }\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(2);\n        i0.ɵɵclassProp(\"dirty\", !!_r0.value);\n        i0.ɵɵadvance(1);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.chosenWord);\n        i0.ɵɵproperty(\"placeholder\", i0.ɵɵpipeBind1(3, 11, \"searchBox.placeholder\"));\n        i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(4, 13, \"common.search\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(6, 15, \"common.reset\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"type\", ctx.iconTypes.RESET);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"type\", ctx.iconTypes.SEARCH);\n        i0.ɵɵadvance(1);\n        i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(11, 17, \"common.search\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"type\", ctx.iconTypes.SEARCH);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(14, 19, ctx.results$));\n      }\n    },\n    directives: [IconComponent, i3.NgIf, i3.NgForOf, i1$1.RouterLinkWithHref, MediaComponent],\n    pipes: [i1.TranslatePipe, i3.AsyncPipe, HighlightPipe, i1.UrlPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return SearchBoxComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet SearchBoxModule = /*#__PURE__*/(() => {\n  class SearchBoxModule {}\n  SearchBoxModule.ɵfac = function SearchBoxModule_Factory(t) {\n    return new (t || SearchBoxModule)();\n  };\n  SearchBoxModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: SearchBoxModule\n  });\n  SearchBoxModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        SearchBoxComponent: {\n          component: SearchBoxComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule, MediaModule, IconModule, UrlModule, I18nModule]]\n  });\n  return SearchBoxModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductCarouselService = /*#__PURE__*/(() => {\n  class ProductCarouselService {\n    constructor(productService, semanticPathService) {\n      this.productService = productService;\n      this.semanticPathService = semanticPathService;\n    }\n    /**\n     * Loads the product data and converts it `CarouselItem`.\n     */\n    loadProduct(code) {\n      return this.productService.get(code).pipe(filter(Boolean), map(product => this.convertProduct(product)));\n    }\n    /**\n     * Converts the product to a generic CarouselItem\n     */\n    convertProduct(source, displayTitle = true, displayProductPrices = true) {\n      const item = {};\n      if (displayTitle) {\n        item.title = source.name;\n      }\n      if (displayProductPrices && source.price && source.price.formattedValue) {\n        item.price = source.price.formattedValue;\n      }\n      if (source.images && source.images.PRIMARY) {\n        item.media = {\n          container: source.images.PRIMARY,\n          format: 'product'\n        };\n      }\n      item.route = this.semanticPathService.transform({\n        cxRoute: 'product',\n        params: source\n      });\n      return item;\n    }\n  }\n  ProductCarouselService.ɵfac = function ProductCarouselService_Factory(t) {\n    return new (t || ProductCarouselService)(i0.ɵɵinject(i1.ProductService), i0.ɵɵinject(i1.SemanticPathService));\n  };\n  ProductCarouselService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ProductCarouselService,\n    factory: ProductCarouselService.ɵfac,\n    providedIn: 'root'\n  });\n  return ProductCarouselService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductCarouselComponent = /*#__PURE__*/(() => {\n  class ProductCarouselComponent {\n    constructor(componentData, productService) {\n      this.componentData = componentData;\n      this.productService = productService;\n      this.PRODUCT_SCOPE = \"list\" /* LIST */;\n      this.componentData$ = this.componentData.data$.pipe(filter(Boolean));\n      /**\n       * returns an Observable string for the title.\n       */\n      this.title$ = this.componentData$.pipe(map(data => data.title));\n      /**\n       * Observable that holds an Array of Observables. This is done, so that\n       * the component UI could consider to lazy load the UI components when they're\n       * in the viewpoint.\n       */\n      this.items$ = this.componentData$.pipe(map(data => {\n        var _a, _b;\n        return (_b = (_a = data.productCodes) === null || _a === void 0 ? void 0 : _a.trim().split(' ')) !== null && _b !== void 0 ? _b : [];\n      }), map(codes => codes.map(code => this.productService.get(code, [this.PRODUCT_SCOPE, \"price\" /* PRICE */]))));\n    }\n  }\n\n  ProductCarouselComponent.ɵfac = function ProductCarouselComponent_Factory(t) {\n    return new (t || ProductCarouselComponent)(i0.ɵɵdirectiveInject(CmsComponentData), i0.ɵɵdirectiveInject(i1.ProductService));\n  };\n  ProductCarouselComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ProductCarouselComponent,\n    selectors: [[\"cx-product-carousel\"]],\n    decls: 5,\n    vars: 7,\n    consts: [[\"itemWidth\", \"285px\", 3, \"items\", \"title\", \"template\"], [\"carouselItem\", \"\"], [\"tabindex\", \"0\", 3, \"routerLink\"], [\"format\", \"product\", 3, \"container\", \"alt\"], [1, \"price\"]],\n    template: function ProductCarouselComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"cx-carousel\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵtemplate(3, ProductCarouselComponent_ng_template_3_Template, 7, 9, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(4);\n        i0.ɵɵproperty(\"items\", i0.ɵɵpipeBind1(1, 3, ctx.items$))(\"title\", i0.ɵɵpipeBind1(2, 5, ctx.title$))(\"template\", _r0);\n      }\n    },\n    directives: [CarouselComponent, i1$1.RouterLinkWithHref, MediaComponent],\n    pipes: [i3.AsyncPipe, i1.UrlPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ProductCarouselComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductCarouselModule = /*#__PURE__*/(() => {\n  class ProductCarouselModule {}\n  ProductCarouselModule.ɵfac = function ProductCarouselModule_Factory(t) {\n    return new (t || ProductCarouselModule)();\n  };\n  ProductCarouselModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ProductCarouselModule\n  });\n  ProductCarouselModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        ProductCarouselComponent: {\n          component: ProductCarouselComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, CarouselModule, MediaModule, RouterModule, UrlModule]]\n  });\n  return ProductCarouselModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductReferencesComponent = /*#__PURE__*/(() => {\n  class ProductReferencesComponent {\n    constructor(cmsComponentData, currentProductService, productReferenceService) {\n      this.cmsComponentData = cmsComponentData;\n      this.currentProductService = currentProductService;\n      this.productReferenceService = productReferenceService;\n      /**\n       * Observable with an Array of Observables. This is done so that\n       * the component UI could consider to lazy load the UI components when they're\n       * in the viewpoint.\n       */\n      this.items$ = this.productCode$.pipe(withLatestFrom(this.componentData$), tap(([productCode, data]) => this.productReferenceService.loadProductReferences(productCode, data === null || data === void 0 ? void 0 : data.productReferenceTypes)), switchMap(([productCode, data]) => this.getProductReferences(productCode, data === null || data === void 0 ? void 0 : data.productReferenceTypes)));\n    }\n    get componentData$() {\n      return this.cmsComponentData.data$.pipe(filter(Boolean));\n    }\n    /**\n     * Returns an Observable String for the product code\n     */\n    get productCode$() {\n      return this.currentProductService.getProduct().pipe(filter(isNotNullable), map(product => product.code), tap(_ => this.productReferenceService.cleanReferences()));\n    }\n    /**\n     * Returns an Observable String for the title\n     */\n    get title$() {\n      return this.componentData$.pipe(map(data => data === null || data === void 0 ? void 0 : data.title));\n    }\n    /**\n     * Returns an observable for product references\n     */\n    getProductReferences(code, referenceType) {\n      return this.productReferenceService.getProductReferences(code, referenceType).pipe(filter(Boolean), map(references => references.map(reference => of(reference.target))));\n    }\n  }\n  ProductReferencesComponent.ɵfac = function ProductReferencesComponent_Factory(t) {\n    return new (t || ProductReferencesComponent)(i0.ɵɵdirectiveInject(CmsComponentData), i0.ɵɵdirectiveInject(CurrentProductService), i0.ɵɵdirectiveInject(i1.ProductReferenceService));\n  };\n  ProductReferencesComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ProductReferencesComponent,\n    selectors: [[\"cx-product-references\"]],\n    decls: 5,\n    vars: 7,\n    consts: [[3, \"title\", \"items\", \"template\"], [\"carouselItem\", \"\"], [\"tabindex\", \"0\", 3, \"routerLink\"], [\"format\", \"product\", 3, \"container\"], [1, \"price\"]],\n    template: function ProductReferencesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"cx-carousel\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵtemplate(3, ProductReferencesComponent_ng_template_3_Template, 7, 8, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(4);\n        i0.ɵɵproperty(\"title\", i0.ɵɵpipeBind1(1, 3, ctx.title$))(\"items\", i0.ɵɵpipeBind1(2, 5, ctx.items$))(\"template\", _r0);\n      }\n    },\n    directives: [CarouselComponent, i1$1.RouterLinkWithHref, MediaComponent],\n    pipes: [i3.AsyncPipe, i1.UrlPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ProductReferencesComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductReferencesModule = /*#__PURE__*/(() => {\n  class ProductReferencesModule {}\n  ProductReferencesModule.ɵfac = function ProductReferencesModule_Factory(t) {\n    return new (t || ProductReferencesModule)();\n  };\n  ProductReferencesModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ProductReferencesModule\n  });\n  ProductReferencesModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        ProductReferencesComponent: {\n          component: ProductReferencesComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, CarouselModule, MediaModule, RouterModule, UrlModule]]\n  });\n  return ProductReferencesModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst defaultViewConfig = {\n  view: {\n    defaultPageSize: 12,\n    infiniteScroll: {\n      active: false,\n      productLimit: 0,\n      showMoreButton: false\n    }\n  }\n};\nlet ProductImagesComponent = /*#__PURE__*/(() => {\n  class ProductImagesComponent {\n    constructor(currentProductService) {\n      this.currentProductService = currentProductService;\n      this.mainMediaContainer = new BehaviorSubject(null);\n      this.product$ = this.currentProductService.getProduct().pipe(filter(isNotNullable), distinctUntilChanged(), tap(p => {\n        var _a;\n        this.mainMediaContainer.next(((_a = p.images) === null || _a === void 0 ? void 0 : _a.PRIMARY) ? p.images.PRIMARY : {});\n      }));\n      this.thumbs$ = this.product$.pipe(map(p => this.createThumbs(p)));\n      this.mainImage$ = combineLatest([this.product$, this.mainMediaContainer]).pipe(map(([, container]) => container));\n    }\n    openImage(item) {\n      this.mainMediaContainer.next(item);\n    }\n    isActive(thumbnail) {\n      return this.mainMediaContainer.pipe(filter(Boolean), map(container => {\n        return container.zoom && container.zoom.url && thumbnail.zoom && thumbnail.zoom.url && container.zoom.url === thumbnail.zoom.url;\n      }));\n    }\n    /** find the index of the main media in the list of media */\n    getActive(thumbs) {\n      return this.mainMediaContainer.pipe(filter(Boolean), map(container => {\n        const current = thumbs.find(t => t.media && container.zoom && t.media.container && t.media.container.zoom && t.media.container.zoom.url === container.zoom.url);\n        return thumbs.indexOf(current);\n      }));\n    }\n    /**\n     * Return an array of CarouselItems for the product thumbnails.\n     * In case there are less then 2 thumbs, we return null.\n     */\n    createThumbs(product) {\n      if (!product.images || !product.images.GALLERY || product.images.GALLERY.length < 2) {\n        return [];\n      }\n      return product.images.GALLERY.map(c => of({\n        container: c\n      }));\n    }\n  }\n  ProductImagesComponent.ɵfac = function ProductImagesComponent_Factory(t) {\n    return new (t || ProductImagesComponent)(i0.ɵɵdirectiveInject(CurrentProductService));\n  };\n  ProductImagesComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ProductImagesComponent,\n    selectors: [[\"cx-product-images\"]],\n    decls: 6,\n    vars: 6,\n    consts: [[4, \"ngIf\"], [\"thumb\", \"\"], [3, \"container\"], [\"class\", \"thumbs\", \"itemWidth\", \"120px\", 3, \"items\", \"hideIndicators\", \"template\", 4, \"ngIf\"], [\"itemWidth\", \"120px\", 1, \"thumbs\", 3, \"items\", \"hideIndicators\", \"template\"], [\"tabindex\", \"0\", \"format\", \"product\", 3, \"container\", \"focus\"]],\n    template: function ProductImagesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProductImagesComponent_ng_container_0_Template, 2, 1, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵtemplate(2, ProductImagesComponent_ng_container_2_Template, 2, 1, \"ng-container\", 0);\n        i0.ɵɵpipe(3, \"async\");\n        i0.ɵɵtemplate(4, ProductImagesComponent_ng_template_4_Template, 2, 5, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.mainImage$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 4, ctx.thumbs$));\n      }\n    },\n    directives: [i3.NgIf, MediaComponent, CarouselComponent],\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ProductImagesComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductImagesModule = /*#__PURE__*/(() => {\n  class ProductImagesModule {}\n  ProductImagesModule.ɵfac = function ProductImagesModule_Factory(t) {\n    return new (t || ProductImagesModule)();\n  };\n  ProductImagesModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ProductImagesModule\n  });\n  ProductImagesModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        ProductImagesComponent: {\n          component: ProductImagesComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule, MediaModule, OutletModule, CarouselModule]]\n  });\n  return ProductImagesModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductIntroComponent = /*#__PURE__*/(() => {\n  class ProductIntroComponent {\n    constructor(currentProductService, translationService, winRef) {\n      this.currentProductService = currentProductService;\n      this.translationService = translationService;\n      this.winRef = winRef;\n      this.reviewsTabAvailable = new BehaviorSubject(false);\n      this.product$ = this.currentProductService.getProduct();\n    }\n    ngAfterContentChecked() {\n      this.reviewsTabAvailable.next(!!this.getReviewsComponent());\n    }\n    // Scroll to views component on page and click \"Reviews\" tab\n    showReviews() {\n      // Use translated label for Reviews tab reference\n      this.translationService.translate('TabPanelContainer.tabs.ProductReviewsTabComponent').subscribe(reviewsTabLabel => {\n        const tabsComponent = this.getTabsComponent();\n        const reviewsTab = this.getTabByLabel(reviewsTabLabel, tabsComponent);\n        const reviewsComponent = this.getReviewsComponent();\n        if (reviewsTab && reviewsComponent) {\n          this.clickTabIfInactive(reviewsTab);\n          setTimeout(() => reviewsComponent.scrollIntoView({\n            behavior: 'smooth'\n          }), 0);\n        }\n      }).unsubscribe();\n    }\n    // NOTE: Does not currently exists as its own component\n    // but part of tabs component. This is likely to change in refactor.\n    getReviewsComponent() {\n      return this.winRef.document.querySelector('cx-product-reviews');\n    }\n    // Get Tabs Component if exists on page\n    getTabsComponent() {\n      return this.winRef.document.querySelector('cx-tab-paragraph-container');\n    }\n    // Click to activate tab if not already active\n    clickTabIfInactive(tab) {\n      if (!tab.classList.contains('active') || tab.classList.contains('toggled')) {\n        tab.click();\n      }\n    }\n    // Get Tab by label if exists on page\n    getTabByLabel(label, tabsComponent) {\n      if (tabsComponent) {\n        // NOTE: Reads through button tags to click on correct tab\n        // There may be a better way of doing this now/after refactor\n        const tabElements = tabsComponent.getElementsByTagName('button');\n        // Look through button tab elements until finding tab with label\n        for (const buttonElement of Array.from(tabElements)) {\n          if (buttonElement.innerHTML.includes(label)) {\n            return buttonElement;\n          }\n        }\n      }\n    }\n  }\n  ProductIntroComponent.ɵfac = function ProductIntroComponent_Factory(t) {\n    return new (t || ProductIntroComponent)(i0.ɵɵdirectiveInject(CurrentProductService), i0.ɵɵdirectiveInject(i1.TranslationService), i0.ɵɵdirectiveInject(i1.WindowRef));\n  };\n  ProductIntroComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ProductIntroComponent,\n    selectors: [[\"cx-product-intro\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [\"class\", \"rating\", 4, \"ngIf\"], [1, \"code\"], [1, \"rating\"], [3, \"rating\"], [1, \"count\"], [\"class\", \"btn btn-link cx-action-link\", 3, \"click\", 4, \"ngIf\"], [1, \"btn\", \"btn-link\", \"cx-action-link\", 3, \"click\"]],\n    template: function ProductIntroComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProductIntroComponent_ng_container_0_Template, 6, 6, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.product$));\n      }\n    },\n    directives: [i3.NgIf, StarRatingComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe, i3.DecimalPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ProductIntroComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductIntroModule = /*#__PURE__*/(() => {\n  class ProductIntroModule {}\n  ProductIntroModule.ɵfac = function ProductIntroModule_Factory(t) {\n    return new (t || ProductIntroModule)();\n  };\n  ProductIntroModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ProductIntroModule\n  });\n  ProductIntroModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        ProductIntroComponent: {\n          component: ProductIntroComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, I18nModule, StarRatingModule]]\n  });\n  return ProductIntroModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * The `ProductListComponentService` is used to search products. The service is used\n * on the Product Listing Page, for listing products and the facet navigation.\n *\n * The service exposes the product search results based on the category and search\n * route parameters. The route parameters are used to query products by the help of\n * the `ProductSearchService`.\n */\nlet ProductListComponentService = /*#__PURE__*/(() => {\n  class ProductListComponentService {\n    constructor(productSearchService, routing, activatedRoute, currencyService, languageService, router, config) {\n      this.productSearchService = productSearchService;\n      this.routing = routing;\n      this.activatedRoute = activatedRoute;\n      this.currencyService = currencyService;\n      this.languageService = languageService;\n      this.router = router;\n      this.config = config;\n      this.RELEVANCE_ALLCATEGORIES = ':relevance:allCategories:';\n      /**\n       * Emits the search results for the current search query.\n       *\n       * The `searchResults$` is _not_ concerned with querying, it only observes the\n       * `productSearchService.getResults()`\n       */\n      this.searchResults$ = this.productSearchService.getResults().pipe(filter(searchResult => Object.keys(searchResult).length > 0));\n      /**\n       * Observes the route and performs a search on each route change.\n       *\n       * Context changes, such as language and currencies are also taken\n       * into account, so that the search is performed again.\n       */\n      this.searchByRouting$ = combineLatest([this.routing.getRouterState().pipe(distinctUntilChanged((x, y) => {\n        // router emits new value also when the anticipated `nextState` changes\n        // but we want to perform search only when current url changes\n        return x.state.url === y.state.url;\n      })), ...this.siteContext]).pipe(debounceTime(0), map(([routerState, ..._context]) => routerState.state), tap(state => {\n        const criteria = this.getCriteriaFromRoute(state.params, state.queryParams);\n        this.search(criteria);\n      }));\n      /**\n       * This stream is used for the Product Listing and Product Facets.\n       *\n       * It not only emits search results, but also performs a search on every change\n       * of the route (i.e. route params or query params).\n       *\n       * When a user leaves the PLP route, the PLP component unsubscribes from this stream\n       * so no longer the search is performed on route change.\n       */\n      this.model$ = using(() => this.searchByRouting$.subscribe(), () => this.searchResults$).pipe(shareReplay({\n        bufferSize: 1,\n        refCount: true\n      }));\n    }\n    /**\n     * Expose the `SearchCriteria`. The search criteria are driven by the route parameters.\n     *\n     * This search route configuration is not yet configurable\n     * (see https://github.com/SAP/spartacus/issues/7191).\n     */\n    getCriteriaFromRoute(routeParams, queryParams) {\n      var _a;\n      return {\n        query: queryParams.query || this.getQueryFromRouteParams(routeParams),\n        pageSize: queryParams.pageSize || ((_a = this.config.view) === null || _a === void 0 ? void 0 : _a.defaultPageSize),\n        currentPage: queryParams.currentPage,\n        sortCode: queryParams.sortCode\n      };\n    }\n    /**\n     * Resolves the search query from the given `ProductListRouteParams`.\n     */\n    getQueryFromRouteParams({\n      query,\n      categoryCode,\n      brandCode\n    }) {\n      if (query) {\n        return query;\n      }\n      if (categoryCode) {\n        return this.RELEVANCE_ALLCATEGORIES + categoryCode;\n      }\n      // TODO: drop support for brands as they should be treated\n      // similarly as any category.\n      if (brandCode) {\n        return this.RELEVANCE_ALLCATEGORIES + brandCode;\n      }\n    }\n    /**\n     * Performs a search based on the given search criteria.\n     *\n     * The search is delegated to the `ProductSearchService`.\n     */\n    search(criteria) {\n      const currentPage = criteria.currentPage;\n      const pageSize = criteria.pageSize;\n      const sort = criteria.sortCode;\n      this.productSearchService.search(criteria.query,\n      // TODO: consider dropping this complex passing of cleaned object\n      Object.assign({}, currentPage && {\n        currentPage\n      }, pageSize && {\n        pageSize\n      }, sort && {\n        sort\n      }));\n    }\n    /**\n     * Get items from a given page without using navigation\n     */\n    getPageItems(pageNumber) {\n      this.routing.getRouterState().subscribe(route => {\n        const routeCriteria = this.getCriteriaFromRoute(route.state.params, route.state.queryParams);\n        const criteria = Object.assign(Object.assign({}, routeCriteria), {\n          currentPage: pageNumber\n        });\n        this.search(criteria);\n      }).unsubscribe();\n    }\n    /**\n     * Sort the search results by the given sort code.\n     */\n    sort(sortCode) {\n      this.route({\n        sortCode\n      });\n    }\n    /**\n     * Routes to the next product listing page, using the given `queryParams`. The\n     * `queryParams` support sorting, pagination and querying.\n     *\n     * The `queryParams` are delegated to the Angular router `NavigationExtras`.\n     */\n    route(queryParams) {\n      this.router.navigate([], {\n        queryParams,\n        queryParamsHandling: 'merge',\n        relativeTo: this.activatedRoute\n      });\n    }\n    /**\n     * The site context is used to update the search query in case of a\n     * changing context. The context will typically influence the search data.\n     *\n     * We keep this private for now, as we're likely refactoring this in the next\n     * major version.\n     */\n    get siteContext() {\n      // TODO: we should refactor this so that custom context will be taken\n      // into account automatically. Ideally, we drop the specific context\n      // from the constructor, and query a ContextService for all contexts.\n      return [this.languageService.getActive(), this.currencyService.getActive()];\n    }\n  }\n  ProductListComponentService.ɵfac = function ProductListComponentService_Factory(t) {\n    return new (t || ProductListComponentService)(i0.ɵɵinject(i1.ProductSearchService), i0.ɵɵinject(i1.RoutingService), i0.ɵɵinject(i1$1.ActivatedRoute), i0.ɵɵinject(i1.CurrencyService), i0.ɵɵinject(i1.LanguageService), i0.ɵɵinject(i1$1.Router), i0.ɵɵinject(ViewConfig));\n  };\n  ProductListComponentService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ProductListComponentService,\n    factory: ProductListComponentService.ɵfac,\n    providedIn: 'root'\n  });\n  return ProductListComponentService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nvar ViewModes = /*#__PURE__*/(() => {\n  (function (ViewModes) {\n    ViewModes[\"Grid\"] = \"grid\";\n    ViewModes[\"List\"] = \"list\";\n  })(ViewModes || (ViewModes = {}));\n  return ViewModes;\n})();\nlet ProductViewComponent = /*#__PURE__*/(() => {\n  class ProductViewComponent {\n    constructor() {\n      this.iconTypes = ICON_TYPE;\n      this.modeChange = new EventEmitter();\n    }\n    get buttonClass() {\n      const viewName = this.viewMode.toLowerCase();\n      return `cx-product-${viewName}`;\n    }\n    /**\n     *   Display icons inversely to allow users\n     *   to see the view they will navigate to\n     */\n    get viewMode() {\n      if (this.mode === 'list') {\n        return this.iconTypes.GRID;\n      } else if (this.mode === 'grid') {\n        return this.iconTypes.LIST;\n      }\n    }\n    changeMode() {\n      const newMode = this.mode === ViewModes.Grid ? ViewModes.List : ViewModes.Grid;\n      this.modeChange.emit(newMode);\n    }\n  }\n  ProductViewComponent.ɵfac = function ProductViewComponent_Factory(t) {\n    return new (t || ProductViewComponent)();\n  };\n  ProductViewComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ProductViewComponent,\n    selectors: [[\"cx-product-view\"]],\n    inputs: {\n      mode: \"mode\"\n    },\n    outputs: {\n      modeChange: \"modeChange\"\n    },\n    decls: 5,\n    vars: 8,\n    consts: [[\"tabindex\", \"0\", 1, \"btn\", \"cx-product-layout\", 3, \"ngClass\", \"click\"], [3, \"type\", 4, \"ngIf\"], [3, \"type\"]],\n    template: function ProductViewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function ProductViewComponent_Template_button_click_0_listener() {\n          return ctx.changeMode();\n        });\n        i0.ɵɵpipe(1, \"cxTranslate\");\n        i0.ɵɵpipe(2, \"cxTranslate\");\n        i0.ɵɵtemplate(3, ProductViewComponent_cx_icon_3_Template, 1, 1, \"cx-icon\", 1);\n        i0.ɵɵtemplate(4, ProductViewComponent_cx_icon_4_Template, 1, 1, \"cx-icon\", 1);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngClass\", ctx.buttonClass);\n        i0.ɵɵattribute(\"aria-label\", ctx.viewMode === ctx.iconTypes.GRID ? i0.ɵɵpipeBind1(1, 4, \"productView.gridView\") : ctx.viewMode === ctx.iconTypes.LIST ? i0.ɵɵpipeBind1(2, 6, \"productView.listView\") : null);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.viewMode === ctx.iconTypes.GRID);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.viewMode === ctx.iconTypes.LIST);\n      }\n    },\n    directives: [i3.NgClass, i3.NgIf, IconComponent],\n    pipes: [i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ProductViewComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nvar ProductDetailOutlets = /*#__PURE__*/(() => {\n  (function (ProductDetailOutlets) {\n    ProductDetailOutlets[\"INTRO\"] = \"PDP.INTRO\";\n    ProductDetailOutlets[\"PRICE\"] = \"PDP.PRICE\";\n    ProductDetailOutlets[\"SHARE\"] = \"PDP.SHARE\";\n    ProductDetailOutlets[\"SUMMARY\"] = \"PDP.SUMMARY\";\n  })(ProductDetailOutlets || (ProductDetailOutlets = {}));\n  return ProductDetailOutlets;\n})();\nvar ProductListOutlets = /*#__PURE__*/(() => {\n  (function (ProductListOutlets) {\n    ProductListOutlets[\"ITEM_ACTIONS\"] = \"cx-product-list-item.actions\";\n    ProductListOutlets[\"ITEM_DETAILS\"] = \"cx-product-list-item.details\";\n  })(ProductListOutlets || (ProductListOutlets = {}));\n  return ProductListOutlets;\n})();\n/**\n * Context for `ProductListItemComponent`.\n */let ProductListItemContext = /*#__PURE__*/(() => {\n  class ProductListItemContext {}\n  ProductListItemContext.ɵfac = function ProductListItemContext_Factory(t) {\n    return new (t || ProductListItemContext)();\n  };\n  ProductListItemContext.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ProductListItemContext,\n    factory: ProductListItemContext.ɵfac\n  });\n  return ProductListItemContext;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Context source for `ProductListItemComponent`.\n *\n * `ProductListItemContext` should be injected instead in child components.\n */\nlet ProductListItemContextSource = /*#__PURE__*/(() => {\n  class ProductListItemContextSource extends ProductListItemContext {\n    constructor() {\n      super(...arguments);\n      this.product$ = new ReplaySubject(1);\n    }\n  }\n  ProductListItemContextSource.ɵfac = /* @__PURE__ */function () {\n    let ɵProductListItemContextSource_BaseFactory;\n    return function ProductListItemContextSource_Factory(t) {\n      return (ɵProductListItemContextSource_BaseFactory || (ɵProductListItemContextSource_BaseFactory = i0.ɵɵgetInheritedFactory(ProductListItemContextSource)))(t || ProductListItemContextSource);\n    };\n  }();\n  ProductListItemContextSource.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ProductListItemContextSource,\n    factory: ProductListItemContextSource.ɵfac\n  });\n  return ProductListItemContextSource;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductGridItemComponent = /*#__PURE__*/(() => {\n  class ProductGridItemComponent {\n    constructor(productListItemContextSource) {\n      this.productListItemContextSource = productListItemContextSource;\n      this.ProductListOutlets = ProductListOutlets;\n    }\n    ngOnChanges(changes) {\n      if (changes === null || changes === void 0 ? void 0 : changes.product) {\n        this.productListItemContextSource.product$.next(this.product);\n      }\n    }\n  }\n  ProductGridItemComponent.ɵfac = function ProductGridItemComponent_Factory(t) {\n    return new (t || ProductGridItemComponent)(i0.ɵɵdirectiveInject(ProductListItemContextSource));\n  };\n  ProductGridItemComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ProductGridItemComponent,\n    selectors: [[\"cx-product-grid-item\"]],\n    inputs: {\n      product: \"product\"\n    },\n    features: [i0.ɵɵProvidersFeature([ProductListItemContextSource, {\n      provide: ProductListItemContext,\n      useExisting: ProductListItemContextSource\n    }]), i0.ɵɵNgOnChangesFeature],\n    decls: 7,\n    vars: 15,\n    consts: [[\"tabindex\", \"-1\", 1, \"cx-product-image-container\", 3, \"routerLink\"], [\"format\", \"product\", 1, \"cx-product-image\", 3, \"container\", \"alt\"], [1, \"cx-product-name\", 3, \"routerLink\", \"innerHTML\"], [3, \"cxOutlet\"], [1, \"cx-product-rating\"], [3, \"rating\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"cx-product-price-container\"], [1, \"cx-product-price\"], [3, \"rating\"], [3, \"showQuantity\", \"product\", 4, \"ngIf\"], [3, \"showQuantity\", \"product\"]],\n    template: function ProductGridItemComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"a\", 0);\n        i0.ɵɵpipe(1, \"cxUrl\");\n        i0.ɵɵelement(2, \"cx-media\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"a\", 2);\n        i0.ɵɵpipe(4, \"cxUrl\");\n        i0.ɵɵtemplate(5, ProductGridItemComponent_ng_template_5_Template, 7, 6, \"ng-template\", 3);\n        i0.ɵɵtemplate(6, ProductGridItemComponent_ng_template_6_Template, 1, 1, \"ng-template\", 3);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(1, 7, i0.ɵɵpureFunction1(11, _c5, ctx.product)));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"container\", ctx.product.images == null ? null : ctx.product.images.PRIMARY)(\"alt\", ctx.product.summary);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(4, 9, i0.ɵɵpureFunction1(13, _c5, ctx.product)))(\"innerHTML\", ctx.product.nameHtml, i0.ɵɵsanitizeHtml);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"cxOutlet\", ctx.ProductListOutlets.ITEM_DETAILS);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"cxOutlet\", ctx.ProductListOutlets.ITEM_ACTIONS);\n      }\n    },\n    directives: [i1$1.RouterLinkWithHref, MediaComponent, OutletDirective, i3.NgIf, StarRatingComponent, AddToCartComponent],\n    pipes: [i1.UrlPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ProductGridItemComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductListItemComponent = /*#__PURE__*/(() => {\n  class ProductListItemComponent {\n    constructor(productListItemContextSource) {\n      this.productListItemContextSource = productListItemContextSource;\n      this.ProductListOutlets = ProductListOutlets;\n    }\n    ngOnChanges(changes) {\n      if (changes === null || changes === void 0 ? void 0 : changes.product) {\n        this.productListItemContextSource.product$.next(this.product);\n      }\n    }\n  }\n  ProductListItemComponent.ɵfac = function ProductListItemComponent_Factory(t) {\n    return new (t || ProductListItemComponent)(i0.ɵɵdirectiveInject(ProductListItemContextSource));\n  };\n  ProductListItemComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ProductListItemComponent,\n    selectors: [[\"cx-product-list-item\"]],\n    inputs: {\n      product: \"product\"\n    },\n    features: [i0.ɵɵProvidersFeature([ProductListItemContextSource, {\n      provide: ProductListItemContext,\n      useExisting: ProductListItemContextSource\n    }]), i0.ɵɵNgOnChangesFeature],\n    decls: 16,\n    vars: 17,\n    consts: [[1, \"row\"], [1, \"col-12\", \"col-md-4\"], [\"tabindex\", \"-1\", 1, \"cx-product-image-container\", 3, \"routerLink\"], [\"format\", \"product\", 1, \"cx-product-image\", 3, \"container\", \"alt\"], [1, \"col-12\", \"col-md-8\"], [1, \"cx-product-name\", 3, \"routerLink\"], [3, \"innerHtml\"], [3, \"cxOutlet\"], [1, \"cx-product-summary\", 3, \"innerHtml\"], [3, \"rating\", 4, \"ngIf\"], [\"class\", \"cx-product-no-review\", 4, \"ngIf\"], [1, \"cx-product-price\"], [3, \"rating\"], [1, \"cx-product-no-review\"], [3, \"showQuantity\", \"product\", 4, \"ngIf\"], [3, \"showQuantity\", \"product\"]],\n    template: function ProductListItemComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"a\", 2);\n        i0.ɵɵpipe(3, \"cxUrl\");\n        i0.ɵɵelement(4, \"cx-media\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"a\", 5);\n        i0.ɵɵpipe(7, \"cxUrl\");\n        i0.ɵɵelement(8, \"h2\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(9, ProductListItemComponent_ng_template_9_Template, 5, 6, \"ng-template\", 7);\n        i0.ɵɵelementStart(10, \"div\", 0);\n        i0.ɵɵelementStart(11, \"div\", 4);\n        i0.ɵɵelementStart(12, \"p\", 8);\n        i0.ɵɵtext(13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 1);\n        i0.ɵɵtemplate(15, ProductListItemComponent_ng_template_15_Template, 1, 1, \"ng-template\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(3, 9, i0.ɵɵpureFunction1(13, _c5, ctx.product)));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"container\", ctx.product.images == null ? null : ctx.product.images.PRIMARY)(\"alt\", ctx.product.summary);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(7, 11, i0.ɵɵpureFunction1(15, _c5, ctx.product)));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"innerHtml\", ctx.product.nameHtml, i0.ɵɵsanitizeHtml);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"cxOutlet\", ctx.ProductListOutlets.ITEM_DETAILS);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"innerHtml\", ctx.product.summary, i0.ɵɵsanitizeHtml);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.product.summary, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"cxOutlet\", ctx.ProductListOutlets.ITEM_ACTIONS);\n      }\n    },\n    directives: [i1$1.RouterLinkWithHref, MediaComponent, OutletDirective, i3.NgIf, StarRatingComponent, AddToCartComponent],\n    pipes: [i1.UrlPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ProductListItemComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductScrollComponent = /*#__PURE__*/(() => {\n  class ProductScrollComponent {\n    constructor(productListComponentService, ref) {\n      this.productListComponentService = productListComponentService;\n      this.ref = ref;\n      this.subscription = new Subscription();\n      this.ViewModes = ViewModes;\n      this.appendProducts = false;\n      this.resetList = false;\n      this.isMaxProducts = false;\n      this.isLastPage = false;\n      this.isEmpty = false;\n    }\n    set setConfig(inputConfig) {\n      this.setComponentConfigurations(inputConfig);\n    }\n    set setModel(inputModel) {\n      this.infiniteScrollOperations(inputModel);\n    }\n    set setViewMode(inputViewMode) {\n      this.inputViewMode = inputViewMode;\n      //If viewMode is already set (meaning it is not the first load)\n      //Reset the product list\n      if (this.viewMode) {\n        this.resetListOnViewModeChange();\n      } else {\n        //If viewMode is not set (meaning it is the first load)\n        //Set the viewMode\n        this.viewMode = inputViewMode;\n      }\n    }\n    scrollPage(pageNumber) {\n      this.appendProducts = true;\n      this.ref.markForCheck();\n      this.productListComponentService.getPageItems(pageNumber);\n    }\n    loadNextPage(pageNumber) {\n      this.isMaxProducts = false;\n      this.scrollPage(pageNumber);\n    }\n    scrollToTop() {\n      window.scroll(0, 0);\n    }\n    setComponentConfigurations(scrollConfig) {\n      var _a, _b, _c, _d;\n      const isButton = (_b = (_a = scrollConfig.view) === null || _a === void 0 ? void 0 : _a.infiniteScroll) === null || _b === void 0 ? void 0 : _b.showMoreButton;\n      const configProductLimit = (_d = (_c = scrollConfig.view) === null || _c === void 0 ? void 0 : _c.infiniteScroll) === null || _d === void 0 ? void 0 : _d.productLimit;\n      //Display \"show more\" button every time when button configuration is true\n      //Otherwise, only display \"show more\" when the configuration product limit is reached\n      this.productLimit = isButton ? 1 : configProductLimit;\n    }\n    infiniteScrollOperations(inputModel) {\n      if (this.appendProducts) {\n        this.model = Object.assign(Object.assign({}, inputModel), {\n          products: this.model.products.concat(inputModel.products)\n        });\n      } else {\n        this.model = inputModel;\n        this.maxProducts = this.productLimit;\n      }\n      this.setConditions();\n      this.ref.markForCheck();\n    }\n    resetListOnViewModeChange() {\n      this.scrollToTop();\n      this.resetList = true;\n      this.productListComponentService.getPageItems(0);\n    }\n    //Set booleans after model has been retrieved\n    setConditions() {\n      this.isEmpty = !this.model.products || this.model.products.length === 0;\n      this.isLastPage = this.model.pagination.currentPage === this.model.pagination.totalPages - 1;\n      this.isMaxProducts = this.productLimit && this.productLimit !== 0 && this.model.products.length >= this.maxProducts;\n      //Add the productLimit to the current number of products to determine the next max number of products\n      if (this.isMaxProducts) {\n        this.maxProducts = this.model.products.length + this.productLimit;\n      }\n      //Only change viewMode once the new model is set\n      //This prevents flickering issues\n      if (this.viewMode !== this.inputViewMode) {\n        this.viewMode = this.inputViewMode;\n      }\n      this.resetList = false;\n      this.appendProducts = false;\n    }\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n    }\n  }\n  ProductScrollComponent.ɵfac = function ProductScrollComponent_Factory(t) {\n    return new (t || ProductScrollComponent)(i0.ɵɵdirectiveInject(ProductListComponentService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  ProductScrollComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ProductScrollComponent,\n    selectors: [[\"cx-product-scroll\"]],\n    inputs: {\n      setConfig: [\"scrollConfig\", \"setConfig\"],\n      setModel: [\"model\", \"setModel\"],\n      setViewMode: [\"inputViewMode\", \"setViewMode\"]\n    },\n    decls: 2,\n    vars: 2,\n    consts: [[4, \"ngIf\"], [\"infiniteScroll\", \"\", 3, \"infiniteScrollDistance\", \"infiniteScrollThrottle\", \"infiniteScrollDisabled\", \"scrolled\"], [1, \"row\"], [\"class\", \"col-12 col-sm-6 col-md-4\", 3, \"product\", 4, \"ngFor\", \"ngForOf\"], [3, \"className\"], [\"class\", \"btn btn-block btn-action\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-block btn-action align-btn\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"cx-spinner\", 4, \"ngIf\"], [1, \"col-12\", \"col-sm-6\", \"col-md-4\", 3, \"product\"], [1, \"btn\", \"btn-block\", \"btn-action\", 3, \"click\"], [1, \"btn\", \"btn-block\", \"btn-action\", \"align-btn\", 3, \"click\"], [1, \"cx-spinner\"], [\"class\", \"cx-product-search-list\", 3, \"product\", 4, \"ngFor\", \"ngForOf\"], [1, \"cx-product-search-list\", 3, \"product\"]],\n    template: function ProductScrollComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProductScrollComponent_ng_container_0_Template, 8, 8, \"ng-container\", 0);\n        i0.ɵɵtemplate(1, ProductScrollComponent_ng_container_1_Template, 7, 8, \"ng-container\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.viewMode === ctx.ViewModes.Grid);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.viewMode === ctx.ViewModes.List);\n      }\n    },\n    directives: [i3.NgIf, i6.InfiniteScrollDirective, i3.NgForOf, ProductGridItemComponent, SpinnerComponent, ProductListItemComponent],\n    pipes: [i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return ProductScrollComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductListComponent = /*#__PURE__*/(() => {\n  class ProductListComponent {\n    constructor(pageLayoutService, productListComponentService, scrollConfig) {\n      this.pageLayoutService = pageLayoutService;\n      this.productListComponentService = productListComponentService;\n      this.scrollConfig = scrollConfig;\n      this.subscription = new Subscription();\n      this.model$ = this.productListComponentService.model$;\n      this.viewMode$ = new BehaviorSubject(ViewModes.Grid);\n      this.ViewModes = ViewModes;\n    }\n    ngOnInit() {\n      var _a, _b;\n      this.isInfiniteScroll = (_b = (_a = this.scrollConfig.view) === null || _a === void 0 ? void 0 : _a.infiniteScroll) === null || _b === void 0 ? void 0 : _b.active;\n      this.subscription.add(this.pageLayoutService.templateName$.pipe(take(1)).subscribe(template => {\n        this.viewMode$.next(template === 'ProductGridPageTemplate' ? ViewModes.Grid : ViewModes.List);\n      }));\n    }\n    sortList(sortCode) {\n      this.productListComponentService.sort(sortCode);\n    }\n    setViewMode(mode) {\n      this.viewMode$.next(mode);\n    }\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n    }\n  }\n  ProductListComponent.ɵfac = function ProductListComponent_Factory(t) {\n    return new (t || ProductListComponent)(i0.ɵɵdirectiveInject(PageLayoutService), i0.ɵɵdirectiveInject(ProductListComponentService), i0.ɵɵdirectiveInject(ViewConfig));\n  };\n  ProductListComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ProductListComponent,\n    selectors: [[\"cx-product-list\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[\"class\", \"cx-page\", 4, \"ngIf\"], [1, \"cx-page\"], [1, \"cx-page-section\"], [1, \"container\"], [1, \"row\"], [\"class\", \"col-12 col-lg-12\", 4, \"ngIf\"], [1, \"col-12\", \"col-lg-12\"], [1, \"cx-sorting\", \"top\"], [1, \"form-group\", \"cx-sort-dropdown\", \"col-12\", \"col-lg-4\", \"mr-auto\"], [3, \"sortOptions\", \"selectedOption\", \"placeholder\", \"sortListEvent\"], [\"class\", \"col-auto\", 4, \"ngIf\"], [1, \"col-auto\", \"ml-auto\", \"ml-lg-0\"], [3, \"mode\", \"modeChange\"], [1, \"cx-product-container\"], [4, \"ngIf\", \"ngIfElse\"], [\"infiniteScroll\", \"\"], [1, \"cx-sorting\", \"bottom\"], [1, \"col-auto\"], [1, \"cx-pagination\"], [\"queryParam\", \"currentPage\", 3, \"pagination\", \"defaultPage\"], [4, \"ngIf\"], [\"class\", \"col-12 col-sm-6 col-md-4\", 3, \"product\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-12\", \"col-sm-6\", \"col-md-4\", 3, \"product\"], [\"class\", \"cx-product-search-list\", 3, \"product\", 4, \"ngFor\", \"ngForOf\"], [1, \"cx-product-search-list\", 3, \"product\"], [3, \"scrollConfig\", \"model\", \"inputViewMode\"]],\n    template: function ProductListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProductListComponent_div_0_Template, 6, 3, \"div\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.model$));\n      }\n    },\n    directives: [i3.NgIf, SortingComponent, ProductViewComponent, PaginationComponent, i3.NgForOf, ProductGridItemComponent, ProductListItemComponent, ProductScrollComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return ProductListComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nvar FacetGroupCollapsedState = /*#__PURE__*/(() => {\n  (function (FacetGroupCollapsedState) {\n    FacetGroupCollapsedState[\"EXPANDED\"] = \"EXPANDED\";\n    FacetGroupCollapsedState[\"COLLAPSED\"] = \"COLLAPSED\";\n  })(FacetGroupCollapsedState || (FacetGroupCollapsedState = {}));\n  return FacetGroupCollapsedState;\n})();\n/**\n * Provides access to all the facets and active facets for the Product Listing Page.\n */let ProductFacetService = /*#__PURE__*/(() => {\n  class ProductFacetService {\n    constructor(routing, productListComponentService) {\n      this.routing = routing;\n      this.productListComponentService = productListComponentService;\n      this.routeState$ = this.routing.getRouterState().pipe(pluck('state'));\n      /**\n       * Returns the search results for the current page.\n       */\n      this.searchResult$ = this.routeState$.pipe(switchMap(state => this.productListComponentService.model$.pipe(filter(page => this.filterForPage(state, page)), map(page => {\n        var _a;\n        return Object.assign(Object.assign({}, page), {\n          breadcrumbs: this.filterBreadcrumbs((_a = page === null || page === void 0 ? void 0 : page.breadcrumbs) !== null && _a !== void 0 ? _a : [], state.params)\n        });\n      }))));\n      /**\n       * Observes the facets and active facets for the given page. The facet data\n       * is provided in a `FacetList`.\n       */\n      this.facetList$ = this.searchResult$.pipe(map(result => ({\n        facets: result.facets,\n        activeFacets: result.breadcrumbs\n      })));\n    }\n    /**\n     * Filters the current result by verifying if the result is related to the page.\n     * This is done to avoid a combination of the next page and the current search results.\n     */\n    filterForPage(state, page) {\n      var _a, _b;\n      if (!((_b = (_a = page.currentQuery) === null || _a === void 0 ? void 0 : _a.query) === null || _b === void 0 ? void 0 : _b.value)) {\n        return false;\n      }\n      if (state.context.type === PageType.CATEGORY_PAGE) {\n        return page.currentQuery.query.value.indexOf(`allCategories:${state.context.id}`) > -1;\n      }\n      if (state.context.type === PageType.CONTENT_PAGE && state.context.id === 'search') {\n        return page.currentQuery.query.value.startsWith(`${state.params.query}:`);\n      }\n      return false;\n    }\n    /**\n     * Filter breadcrumbs which are not actively selected but coming from\n     * the route navigation.\n     *\n     * The breadcrumbs might include the active category page code, which is not actively\n     * selected by the user.\n     */\n    filterBreadcrumbs(breadcrumbs, params) {\n      return breadcrumbs ? breadcrumbs.filter(breadcrumb => !(breadcrumb.facetCode === 'allCategories' && (breadcrumb.facetValueCode === params.categoryCode || breadcrumb.facetValueCode === params.brandCode))) : [];\n    }\n  }\n  ProductFacetService.ɵfac = function ProductFacetService_Factory(t) {\n    return new (t || ProductFacetService)(i0.ɵɵinject(i1.RoutingService), i0.ɵɵinject(ProductListComponentService));\n  };\n  ProductFacetService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ProductFacetService,\n    factory: ProductFacetService.ɵfac,\n    providedIn: 'root'\n  });\n  return ProductFacetService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Provides access to the facets as well as their UI state. The UI state\n * represents user related changes on the facets, such as expanding or\n * collapsing a facet group or expanding the number of _visible_ facet values.\n */\nlet FacetService = /*#__PURE__*/(() => {\n  class FacetService {\n    constructor(productFacetService) {\n      this.productFacetService = productFacetService;\n      /**\n       * An internal map where we keep the UI state of the facets.\n       */\n      this.facetState = new Map();\n      /**\n       * Observes the facets for the given page and configures the initial UI state.\n       *\n       * Facets are configured on each emission so that we keep the facet UI state.\n       * This is mainly done to keep the state during usage of the facet, but also\n       * benefitial when the facets are rebuild while using them.\n       */\n      this.facetList$ = this.productFacetService.facetList$.pipe(tap(facetList => {\n        facetList.facets.forEach(facet => this.initialize(facet));\n      }));\n    }\n    /**\n     * Returns the observed UI state for the facet.\n     *\n     * The state is initialized using the `initialize` method.\n     */\n    getState(facet) {\n      this.initialize(facet);\n      return this.facetState.get(facet.name);\n    }\n    /**\n     * Returns the UI state for the facet.\n     *\n     * The state is initialized using the `initialize` method.\n     */\n    getStateSnapshot(facet) {\n      return this.getState(facet).value;\n    }\n    /**\n     * Toggles the facet expanded state. If the expanded state becomes false,\n     * the visible values will decrease to the top values only.\n     *\n     * If the optional value argument is provided the expanded state will be set\n     * to this value, regardless of the current `expanded` state.\n     */\n    toggle(facet, isExpanded) {\n      const state = this.getStateSnapshot(facet);\n      const toggledState = {\n        toggled: isExpanded ? FacetGroupCollapsedState.COLLAPSED : FacetGroupCollapsedState.EXPANDED\n      };\n      if (toggledState.toggled === FacetGroupCollapsedState.COLLAPSED) {\n        toggledState.maxVisible = state.topVisible;\n      }\n      this.updateState(facet, toggledState);\n    }\n    /**\n     * Increases the visible values to the maximum values of the facet.\n     */\n    increaseVisibleValues(facet) {\n      this.updateState(facet, {\n        maxVisible: facet.values.length\n      });\n    }\n    /**\n     * Decreases the visible values to the topValueCount.\n     *\n     * The topValueCount defaults to 6, but can be controlled in\n     * the backend as well.\n     */\n    decreaseVisibleValues(facet) {\n      this.updateState(facet, {\n        maxVisible: facet.topValueCount\n      });\n    }\n    /**\n     * Persists the facet state and initializes the default values for the top\n     * and max visible values.\n     */\n    initialize(facet) {\n      var _a;\n      const topFacets = facet.topValueCount > 0 ? facet.topValueCount : ((_a = facet.values) === null || _a === void 0 ? void 0 : _a.length) || 0;\n      if (!this.hasState(facet)) {\n        this.facetState.set(facet.name, new BehaviorSubject({\n          topVisible: topFacets,\n          maxVisible: topFacets\n        }));\n      }\n    }\n    /**\n     * Updates the state of the facet in the local facet map.\n     */\n    updateState(facet, property) {\n      const state = Object.assign(Object.assign({}, this.getStateSnapshot(facet)), property);\n      this.facetState.get(facet.name).next(state);\n    }\n    hasState(facet) {\n      return this.facetState.has(facet.name);\n    }\n    getLinkParams(query) {\n      return {\n        // to avoid encoding issues with facets that have space (' ') in their name,\n        // we replace the decoded '+' back to empty space ' '.\n        // For more, see https://github.com/SAP/spartacus/issues/7348\n        query: new HttpUrlEncodingCodec().decodeValue(query).replace(/\\+/g, ' ')\n      };\n    }\n  }\n  FacetService.ɵfac = function FacetService_Factory(t) {\n    return new (t || FacetService)(i0.ɵɵinject(ProductFacetService));\n  };\n  FacetService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: FacetService,\n    factory: FacetService.ɵfac,\n    providedIn: 'root'\n  });\n  return FacetService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Active facets render the applied facet values as a list of focusable buttons\n * which can be used to remove the applied facet value.\n */\nlet ActiveFacetsComponent = /*#__PURE__*/(() => {\n  class ActiveFacetsComponent {\n    constructor(facetService) {\n      this.facetService = facetService;\n      /** Active facets which are applied to the product results. */\n      this.facetList$ = this.facetService.facetList$;\n      /** Configurable icon which is used for the active facet close button */\n      this.closeIcon = ICON_TYPE.CLOSE;\n    }\n    getLinkParams(facet) {\n      var _a, _b;\n      return this.facetService.getLinkParams((_b = (_a = facet.removeQuery) === null || _a === void 0 ? void 0 : _a.query) === null || _b === void 0 ? void 0 : _b.value);\n    }\n    /**\n     * The focus key is used to persist the focus on the facet when the DOM is being\n     * recreated. We only apply the focus key for the given _active_ facet when there\n     * the original facets is not available. This happens for non multi-valued facets.\n     *\n     * With this approach, the we keep the focus, either at the facet list or on the\n     * active facets.\n     */\n    getFocusKey(facetList, facet) {\n      var _a;\n      return ((_a = facetList.facets) === null || _a === void 0 ? void 0 : _a.find(f => {\n        var _a;\n        return (_a = f.values) === null || _a === void 0 ? void 0 : _a.find(val => val.name === facet.facetValueName);\n      })) ? '' : facet.facetValueName;\n    }\n  }\n  ActiveFacetsComponent.ɵfac = function ActiveFacetsComponent_Factory(t) {\n    return new (t || ActiveFacetsComponent)(i0.ɵɵdirectiveInject(FacetService));\n  };\n  ActiveFacetsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ActiveFacetsComponent,\n    selectors: [[\"cx-active-facets\"]],\n    inputs: {\n      closeIcon: \"closeIcon\"\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [\"routerLink\", \"./\", 3, \"queryParams\", \"cxFocus\", 4, \"ngFor\", \"ngForOf\"], [\"routerLink\", \"./\", 3, \"queryParams\", \"cxFocus\"], [\"aria-hidden\", \"true\", 3, \"type\"]],\n    template: function ActiveFacetsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ActiveFacetsComponent_ng_container_0_Template, 3, 2, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.facetList$));\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, i1$1.RouterLinkWithHref, FocusDirective, IconComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return ActiveFacetsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ActiveFacetsModule = /*#__PURE__*/(() => {\n  class ActiveFacetsModule {}\n  ActiveFacetsModule.ɵfac = function ActiveFacetsModule_Factory(t) {\n    return new (t || ActiveFacetsModule)();\n  };\n  ActiveFacetsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ActiveFacetsModule\n  });\n  ActiveFacetsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, RouterModule, I18nModule, IconModule, KeyboardFocusModule]]\n  });\n  return ActiveFacetsModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FacetComponent = /*#__PURE__*/(() => {\n  class FacetComponent {\n    constructor(facetService, elementRef, cd) {\n      this.facetService = facetService;\n      this.elementRef = elementRef;\n      this.cd = cd;\n      /** configurable icon that is used to collapse the facet group  */\n      this.expandIcon = ICON_TYPE.EXPAND;\n      this.collapseIcon = ICON_TYPE.COLLAPSE;\n    }\n    set facet(value) {\n      this._facet = value;\n      this.isMultiSelect = !!value.multiSelect;\n      this.state$ = this.facetService.getState(value);\n    }\n    get facet() {\n      return this._facet;\n    }\n    /**\n     * Handles clicking the heading of the facet group, which means toggling\n     * the visibility of the group (collapse / expand) and optionally focusing\n     * the group.\n     */\n    toggleGroup(event) {\n      var _a;\n      const host = this.elementRef.nativeElement;\n      const isLocked = (_a = this.keyboardFocus) === null || _a === void 0 ? void 0 : _a.isLocked;\n      this.facetService.toggle(this.facet, this.isExpanded);\n      if (!isLocked || this.isExpanded) {\n        host.focus();\n        // we stop propagating the event as otherwise the focus on the host will trigger\n        // an unlock event from the LockFocus directive.\n        event.stopPropagation();\n      }\n    }\n    get isExpanded() {\n      return this.values.first.nativeElement.offsetParent !== null;\n    }\n    openLink(event) {\n      event.target.click();\n      event.preventDefault();\n    }\n    /**\n     * Increases the number of visible values for the facet. This is delegated\n     * to `facetService.increaseVisibleValues`.\n     */\n    increaseVisibleValues() {\n      this.facetService.increaseVisibleValues(this.facet);\n    }\n    /**\n     * Decreases the number of visible values for the facet. This is delegated\n     * to `facetService.decreaseVisibleValues`.\n     */\n    decreaseVisibleValues() {\n      this.facetService.decreaseVisibleValues(this.facet);\n    }\n    getLinkParams(value) {\n      var _a;\n      return this.facetService.getLinkParams((_a = value.query) === null || _a === void 0 ? void 0 : _a.query.value);\n    }\n  }\n  FacetComponent.ɵfac = function FacetComponent_Factory(t) {\n    return new (t || FacetComponent)(i0.ɵɵdirectiveInject(FacetService), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  FacetComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: FacetComponent,\n    selectors: [[\"cx-facet\"]],\n    viewQuery: function FacetComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(FocusDirective, 5);\n        i0.ɵɵviewQuery(_c50, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.keyboardFocus = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.values = _t);\n      }\n    },\n    hostVars: 2,\n    hostBindings: function FacetComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"multi-select\", ctx.isMultiSelect);\n      }\n    },\n    inputs: {\n      expandIcon: \"expandIcon\",\n      collapseIcon: \"collapseIcon\",\n      facet: \"facet\"\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [1, \"heading\", 3, \"click\"], [1, \"collapse-icon\", 3, \"type\"], [1, \"expand-icon\", 3, \"type\"], [\"routerLink\", \"./\", \"class\", \"value\", 3, \"queryParams\", \"selected\", \"cxFocus\", \"keydown.space\", 4, \"ngFor\", \"ngForOf\"], [1, \"more\"], [\"class\", \"cx-action-link\", \"cxFocus\", \"moreorless\", 3, \"click\", 4, \"ngIf\"], [\"routerLink\", \"./\", 1, \"value\", 3, \"queryParams\", \"cxFocus\", \"keydown.space\"], [\"facetValue\", \"\"], [1, \"label\"], [1, \"count\"], [\"cxFocus\", \"moreorless\", 1, \"cx-action-link\", 3, \"click\"]],\n    template: function FacetComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, FacetComponent_ng_container_0_Template, 12, 15, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.state$));\n      }\n    },\n    directives: [i3.NgIf, IconComponent, i3.NgForOf, i1$1.RouterLinkWithHref, FocusDirective],\n    pipes: [i3.AsyncPipe, i3.SlicePipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return FacetComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FacetListComponent = /*#__PURE__*/(() => {\n  class FacetListComponent {\n    constructor(facetService, elementRef, renderer) {\n      this.facetService = facetService;\n      this.elementRef = elementRef;\n      this.renderer = renderer;\n      /** Emits when the list must close */\n      this.closeList = new EventEmitter();\n      /** The list of all facet and values related to the products in the list */\n      this.facetList$ = this.facetService.facetList$;\n      this.iconTypes = ICON_TYPE;\n      this.dialogFocusConfig = {\n        trap: true,\n        block: true,\n        focusOnEscape: true,\n        autofocus: 'cx-facet'\n      };\n    }\n    /**\n     * Indicates that the facet navigation is rendered in dialog.\n     */\n    set isDialog(value) {\n      this._isDialog = value;\n      if (value) {\n        this.renderer.addClass(document.body, 'modal-open');\n      }\n    }\n    get isDialog() {\n      return this._isDialog;\n    }\n    handleClick() {\n      this.close();\n    }\n    /**\n     * Toggles the facet group in case it is not expanded.\n     */\n    expandFacetGroup(facet, ref) {\n      if (!ref.isExpanded) {\n        this.facetService.toggle(facet, ref.isExpanded);\n      }\n    }\n    /**\n     * Indicates that the facet group has been expanded.\n     */\n    isExpanded(facet) {\n      return this.facetService.getState(facet).pipe(map(value => value.toggled === FacetGroupCollapsedState.EXPANDED));\n    }\n    /**\n     * Indicates that the facet group has been collapsed.\n     */\n    isCollapsed(facet) {\n      return this.facetService.getState(facet).pipe(map(value => value.toggled === FacetGroupCollapsedState.COLLAPSED));\n    }\n    close(event) {\n      this.renderer.removeClass(document.body, 'modal-open');\n      this.closeList.emit(event);\n    }\n    block(event) {\n      event.stopPropagation();\n    }\n  }\n  FacetListComponent.ɵfac = function FacetListComponent_Factory(t) {\n    return new (t || FacetListComponent)(i0.ɵɵdirectiveInject(FacetService), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Renderer2));\n  };\n  FacetListComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: FacetListComponent,\n    selectors: [[\"cx-facet-list\"]],\n    hostBindings: function FacetListComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function FacetListComponent_click_HostBindingHandler() {\n          return ctx.handleClick();\n        });\n      }\n    },\n    inputs: {\n      isDialog: \"isDialog\"\n    },\n    outputs: {\n      closeList: \"closeList\"\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[\"class\", \"inner\", 3, \"cxFocus\", \"esc\", \"click\", 4, \"ngIf\"], [1, \"inner\", 3, \"cxFocus\", \"esc\", \"click\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\", 3, \"type\"], [3, \"facet\", \"cxFocus\", \"expanded\", \"collapsed\", \"unlock\", 4, \"ngFor\", \"ngForOf\"], [3, \"facet\", \"cxFocus\", \"unlock\"], [\"facetRef\", \"\"]],\n    template: function FacetListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, FacetListComponent_div_0_Template, 8, 10, \"div\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        let tmp_0_0;\n        i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = i0.ɵɵpipeBind1(1, 1, ctx.facetList$)) == null ? null : tmp_0_0.facets);\n      }\n    },\n    directives: [i3.NgIf, FocusDirective, IconComponent, i3.NgForOf, FacetComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return FacetListComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FacetModule = /*#__PURE__*/(() => {\n  class FacetModule {}\n  FacetModule.ɵfac = function FacetModule_Factory(t) {\n    return new (t || FacetModule)();\n  };\n  FacetModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: FacetModule\n  });\n  FacetModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, RouterModule, UrlModule, I18nModule, IconModule, KeyboardFocusModule]]\n  });\n  return FacetModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FacetListModule = /*#__PURE__*/(() => {\n  class FacetListModule {}\n  FacetListModule.ɵfac = function FacetListModule_Factory(t) {\n    return new (t || FacetListModule)();\n  };\n  FacetListModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: FacetListModule\n  });\n  FacetListModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, I18nModule, IconModule, FacetModule, KeyboardFocusModule]]\n  });\n  return FacetListModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductFacetNavigationComponent = /*#__PURE__*/(() => {\n  class ProductFacetNavigationComponent {\n    constructor(breakpointService) {\n      this.breakpointService = breakpointService;\n      this.iconTypes = ICON_TYPE;\n      /**\n       * We delay the removal of DOM so that animations can finish playing before the\n       * DOM is removed. Removing the DOM, as hidding is not enough to stop elements\n       * to be focused.\n       */\n      this.CLOSE_DELAY = 300;\n      this.open$ = new BehaviorSubject(false);\n      /**\n       * Emits the open state that indicates whether the facet list should be rendered.\n       * This is either done instantly, or after the user triggers this by using the trigger\n       * button. This driven by the visiibility of the trigger, so that the CSS drives\n       * the behaviour. This can differ per breakpoint.\n       *\n       * There's a configurable delay for the closed state, so that the DOM is not removed\n       * before some CSS animations are done.\n       */\n      this.isOpen$ = this.breakpointService.breakpoint$.pipe(\n      // deffer emitting a new value to the next micro-task to ensure that the `hasTrigger`\n      // method represents the actual UI state.\n      observeOn(asapScheduler), switchMap(() => this.hasTrigger ? this.open$ : of(true)), delayWhen(launched => interval(launched ? 0 : this.CLOSE_DELAY)));\n      /**\n       * Emits the active state that indicates whether the facet list is activated. Activation\n       * is related to the css, so that a animation or transition can visualize opening/closing\n       * the list (i.e. dialog).\n       */\n      this.isActive$ = this.open$.pipe(\n      // deffer emitting a new value to the next micro-task to ensure the active class is\n      //  applied after the DOM is created\n      observeOn(asapScheduler));\n    }\n    launch() {\n      this.open$.next(true);\n    }\n    close() {\n      this.open$.next(false);\n      this.trigger.nativeElement.focus();\n    }\n    /**\n     * Indicates that the facet navigation should be open explicitely by a trigger.\n     * This is fully controlled by CSS, where the trigger button can be hidden\n     * (display:none) for certain screen sizes.\n     */\n    get hasTrigger() {\n      return this.trigger.nativeElement.offsetParent !== null;\n    }\n  }\n  ProductFacetNavigationComponent.ɵfac = function ProductFacetNavigationComponent_Factory(t) {\n    return new (t || ProductFacetNavigationComponent)(i0.ɵɵdirectiveInject(BreakpointService));\n  };\n  ProductFacetNavigationComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ProductFacetNavigationComponent,\n    selectors: [[\"cx-product-facet-navigation\"]],\n    viewQuery: function ProductFacetNavigationComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c52, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.trigger = _t.first);\n      }\n    },\n    decls: 8,\n    vars: 7,\n    consts: [[1, \"btn\", \"btn-action\", \"btn-block\", \"dialog-trigger\", 3, \"click\"], [\"trigger\", \"\"], [3, \"type\"], [3, \"isDialog\", \"active\", \"dialog\", \"closeList\", 4, \"ngIf\"], [3, \"isDialog\", \"closeList\"]],\n    template: function ProductFacetNavigationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0, 1);\n        i0.ɵɵlistener(\"click\", function ProductFacetNavigationComponent_Template_button_click_0_listener() {\n          return ctx.launch();\n        });\n        i0.ɵɵelement(2, \"cx-icon\", 2);\n        i0.ɵɵtext(3);\n        i0.ɵɵpipe(4, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"cx-active-facets\");\n        i0.ɵɵtemplate(6, ProductFacetNavigationComponent_cx_facet_list_6_Template, 2, 7, \"cx-facet-list\", 3);\n        i0.ɵɵpipe(7, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"type\", ctx.iconTypes.FILTER);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 3, \"productList.filterBy.label\"), \"\\n\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(7, 5, ctx.isOpen$));\n      }\n    },\n    directives: [IconComponent, ActiveFacetsComponent, i3.NgIf, FacetListComponent],\n    pipes: [i1.TranslatePipe, i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ProductFacetNavigationComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductFacetNavigationModule = /*#__PURE__*/(() => {\n  class ProductFacetNavigationModule {}\n  ProductFacetNavigationModule.ɵfac = function ProductFacetNavigationModule_Factory(t) {\n    return new (t || ProductFacetNavigationModule)();\n  };\n  ProductFacetNavigationModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ProductFacetNavigationModule\n  });\n  ProductFacetNavigationModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, FacetListModule, ActiveFacetsModule, IconModule, I18nModule, ConfigModule.withConfig({\n      cmsComponents: {\n        ProductRefinementComponent: {\n          component: ProductFacetNavigationComponent\n        }\n      }\n    })]]\n  });\n  return ProductFacetNavigationModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductListModule = /*#__PURE__*/(() => {\n  class ProductListModule {}\n  ProductListModule.ɵfac = function ProductListModule_Factory(t) {\n    return new (t || ProductListModule)();\n  };\n  ProductListModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ProductListModule\n  });\n  ProductListModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig(defaultViewConfig), provideDefaultConfig({\n      cmsComponents: {\n        CMSProductListComponent: {\n          component: ProductListComponent\n        },\n        ProductGridComponent: {\n          component: ProductListComponent\n        },\n        SearchResultsListComponent: {\n          component: ProductListComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule, MediaModule, AddToCartModule, ItemCounterModule, ListNavigationModule, UrlModule, I18nModule, StarRatingModule, IconModule, SpinnerModule, InfiniteScrollModule, FeaturesConfigModule, OutletModule]]\n  });\n  return ProductListModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductSummaryComponent = /*#__PURE__*/(() => {\n  class ProductSummaryComponent {\n    constructor(currentProductService) {\n      this.currentProductService = currentProductService;\n      this.outlets = ProductDetailOutlets;\n      this.product$ = this.currentProductService.getProduct([\"details\" /* DETAILS */, \"price\" /* PRICE */]);\n    }\n  }\n\n  ProductSummaryComponent.ɵfac = function ProductSummaryComponent_Factory(t) {\n    return new (t || ProductSummaryComponent)(i0.ɵɵdirectiveInject(CurrentProductService));\n  };\n  ProductSummaryComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ProductSummaryComponent,\n    selectors: [[\"cx-product-summary\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [3, \"cxOutlet\", \"cxOutletContext\"], [1, \"price\"], [1, \"summary\", 3, \"innerHTML\"]],\n    template: function ProductSummaryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProductSummaryComponent_ng_container_0_Template, 3, 8, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.product$));\n      }\n    },\n    directives: [i3.NgIf, OutletDirective],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ProductSummaryComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductSummaryModule = /*#__PURE__*/(() => {\n  class ProductSummaryModule {}\n  ProductSummaryModule.ɵfac = function ProductSummaryModule_Factory(t) {\n    return new (t || ProductSummaryModule)();\n  };\n  ProductSummaryModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ProductSummaryModule\n  });\n  ProductSummaryModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        ProductSummaryComponent: {\n          component: ProductSummaryComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, OutletModule, I18nModule]]\n  });\n  return ProductSummaryModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductAttributesComponent = /*#__PURE__*/(() => {\n  class ProductAttributesComponent {\n    constructor(currentProductService) {\n      this.currentProductService = currentProductService;\n      this.product$ = this.currentProductService.getProduct(\"attributes\" /* ATTRIBUTES */);\n    }\n  }\n\n  ProductAttributesComponent.ɵfac = function ProductAttributesComponent_Factory(t) {\n    return new (t || ProductAttributesComponent)(i0.ɵɵdirectiveInject(CurrentProductService));\n  };\n  ProductAttributesComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ProductAttributesComponent,\n    selectors: [[\"cx-product-attributes\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [1, \"container\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function ProductAttributesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProductAttributesComponent_ng_container_0_Template, 6, 4, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.product$));\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ProductAttributesComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductAttributesModule = /*#__PURE__*/(() => {\n  class ProductAttributesModule {}\n  ProductAttributesModule.ɵfac = function ProductAttributesModule_Factory(t) {\n    return new (t || ProductAttributesModule)();\n  };\n  ProductAttributesModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ProductAttributesModule\n  });\n  ProductAttributesModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        ProductSpecsTabComponent: {\n          component: ProductAttributesComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, I18nModule]]\n  });\n  return ProductAttributesModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductDetailsTabComponent = /*#__PURE__*/(() => {\n  class ProductDetailsTabComponent {\n    constructor(currentProductService) {\n      this.currentProductService = currentProductService;\n    }\n    ngOnInit() {\n      this.product$ = this.currentProductService.getProduct();\n    }\n  }\n  ProductDetailsTabComponent.ɵfac = function ProductDetailsTabComponent_Factory(t) {\n    return new (t || ProductDetailsTabComponent)(i0.ɵɵdirectiveInject(CurrentProductService));\n  };\n  ProductDetailsTabComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ProductDetailsTabComponent,\n    selectors: [[\"cx-product-details-tab\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [1, \"container\", 3, \"innerHTML\"]],\n    template: function ProductDetailsTabComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProductDetailsTabComponent_ng_container_0_Template, 2, 1, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.product$));\n      }\n    },\n    directives: [i3.NgIf],\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ProductDetailsTabComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductDetailsTabModule = /*#__PURE__*/(() => {\n  class ProductDetailsTabModule {}\n  ProductDetailsTabModule.ɵfac = function ProductDetailsTabModule_Factory(t) {\n    return new (t || ProductDetailsTabModule)();\n  };\n  ProductDetailsTabModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ProductDetailsTabModule\n  });\n  ProductDetailsTabModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        ProductDetailsTabComponent: {\n          component: ProductDetailsTabComponent\n        }\n      }\n    })],\n    imports: [[CommonModule]]\n  });\n  return ProductDetailsTabModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductReviewsComponent = /*#__PURE__*/(() => {\n  class ProductReviewsComponent {\n    constructor(reviewService, currentProductService, fb, cd) {\n      this.reviewService = reviewService;\n      this.currentProductService = currentProductService;\n      this.fb = fb;\n      this.cd = cd;\n      this.isWritingReview = false;\n      // TODO: configurable\n      this.initialMaxListItems = 5;\n      this.product$ = this.currentProductService.getProduct();\n      this.reviews$ = this.product$.pipe(filter(p => !!p), map(p => p.code), distinctUntilChanged(), switchMap(productCode => this.reviewService.getByProductCode(productCode)), tap(() => {\n        this.resetReviewForm();\n        this.maxListItems = this.initialMaxListItems;\n      }));\n    }\n    initiateWriteReview() {\n      this.isWritingReview = true;\n      this.cd.detectChanges();\n      if (this.titleInput && this.titleInput.nativeElement) {\n        this.titleInput.nativeElement.focus();\n      }\n    }\n    cancelWriteReview() {\n      this.isWritingReview = false;\n      this.resetReviewForm();\n      this.cd.detectChanges();\n      if (this.writeReviewButton && this.writeReviewButton.nativeElement) {\n        this.writeReviewButton.nativeElement.focus();\n      }\n    }\n    setRating(rating) {\n      this.reviewForm.controls.rating.setValue(rating);\n    }\n    submitReview(product) {\n      if (this.reviewForm.valid) {\n        this.addReview(product);\n      } else {\n        this.reviewForm.markAllAsTouched();\n      }\n    }\n    addReview(product) {\n      const reviewFormControls = this.reviewForm.controls;\n      const review = {\n        headline: reviewFormControls.title.value,\n        comment: reviewFormControls.comment.value,\n        rating: reviewFormControls.rating.value,\n        alias: reviewFormControls.reviewerName.value\n      };\n      this.reviewService.add(product.code, review);\n      this.isWritingReview = false;\n      this.resetReviewForm();\n      this.cd.detectChanges();\n      if (this.writeReviewButton && this.writeReviewButton.nativeElement) {\n        this.writeReviewButton.nativeElement.focus();\n      }\n    }\n    resetReviewForm() {\n      this.reviewForm = this.fb.group({\n        title: ['', Validators.required],\n        comment: ['', Validators.required],\n        rating: [null, CustomFormValidators.starRatingEmpty],\n        reviewerName: ''\n      });\n    }\n  }\n  ProductReviewsComponent.ɵfac = function ProductReviewsComponent_Factory(t) {\n    return new (t || ProductReviewsComponent)(i0.ɵɵdirectiveInject(i1.ProductReviewService), i0.ɵɵdirectiveInject(CurrentProductService), i0.ɵɵdirectiveInject(i3$1.FormBuilder), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n  };\n  ProductReviewsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: ProductReviewsComponent,\n    selectors: [[\"cx-product-reviews\"]],\n    viewQuery: function ProductReviewsComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c54, 5);\n        i0.ɵɵviewQuery(_c55, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.titleInput = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.writeReviewButton = _t.first);\n      }\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[\"class\", \"container\", 4, \"ngIf\"], [1, \"container\"], [4, \"ngIf\", \"ngIfElse\"], [\"writeReview\", \"\"], [1, \"header\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [\"writeReviewButton\", \"\"], [\"class\", \"rating\", 3, \"rating\", 4, \"ngIf\"], [\"class\", \"rating\", 4, \"ngIf\"], [1, \"rating\", 3, \"rating\"], [1, \"rating\"], [4, \"ngIf\"], [\"class\", \"review\", \"tabindex\", \"0\", 4, \"ngFor\", \"ngForOf\"], [\"tabindex\", \"0\", 1, \"review\"], [1, \"title\"], [3, \"rating\"], [1, \"name\"], [1, \"date\"], [1, \"text\"], [\"class\", \"btn btn-primary\", 3, \"click\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [1, \"label-content\"], [\"aria-required\", \"true\", \"type\", \"text\", \"formControlName\", \"title\", 1, \"form-control\"], [\"titleInput\", \"\"], [\"aria-live\", \"assertive\", \"aria-atomic\", \"true\", 3, \"control\"], [\"aria-required\", \"true\", \"rows\", \"3\", \"formControlName\", \"comment\", 1, \"form-control\"], [\"aria-required\", \"true\", \"type\", \"number\", \"formControlName\", \"rating\", 1, \"rating-input\"], [3, \"disabled\", \"change\"], [\"type\", \"text\", \"formControlName\", \"reviewerName\", 1, \"form-control\"], [1, \"form-group\", \"row\"], [1, \"col-12\", \"col-md-4\"], [\"type\", \"button\", 1, \"btn\", \"btn-block\", \"btn-secondary\", 3, \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-block\", \"btn-primary\"]],\n    template: function ProductReviewsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ProductReviewsComponent_div_0_Template, 7, 6, \"div\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.product$));\n      }\n    },\n    directives: [i3.NgIf, StarRatingComponent, i3.NgForOf, i3$1.ɵNgNoValidate, i3$1.NgControlStatusGroup, i3$1.FormGroupDirective, i3$1.DefaultValueAccessor, i3$1.NgControlStatus, i3$1.FormControlName, FormErrorsComponent, i3$1.NumberValueAccessor],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe, i3.SlicePipe, i1.CxDatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return ProductReviewsComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductReviewsModule = /*#__PURE__*/(() => {\n  class ProductReviewsModule {}\n  ProductReviewsModule.ɵfac = function ProductReviewsModule_Factory(t) {\n    return new (t || ProductReviewsModule)();\n  };\n  ProductReviewsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ProductReviewsModule\n  });\n  ProductReviewsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        ProductReviewsTabComponent: {\n          component: ProductReviewsComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, ReactiveFormsModule, FormsModule, I18nModule, StarRatingModule, FormErrorsModule]]\n  });\n  return ProductReviewsModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductTabsModule = /*#__PURE__*/(() => {\n  class ProductTabsModule {}\n  ProductTabsModule.ɵfac = function ProductTabsModule_Factory(t) {\n    return new (t || ProductTabsModule)();\n  };\n  ProductTabsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ProductTabsModule\n  });\n  ProductTabsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[ProductAttributesModule, ProductDetailsTabModule, ProductReviewsModule]]\n  });\n  return ProductTabsModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet StockNotificationDialogComponent = /*#__PURE__*/(() => {\n  class StockNotificationDialogComponent {\n    constructor(modalService, interestsService) {\n      this.modalService = modalService;\n      this.interestsService = interestsService;\n      this.enabledPrefs = [];\n    }\n    close() {\n      this.modalService.dismissActiveModal();\n    }\n    ngOnDestroy() {\n      if (this.subscribeSuccess$) {\n        this.subscribeSuccess$.subscribe(success => {\n          if (success) {\n            this.interestsService.resetAddInterestState();\n          }\n        }).unsubscribe();\n      }\n    }\n  }\n  StockNotificationDialogComponent.ɵfac = function StockNotificationDialogComponent_Factory(t) {\n    return new (t || StockNotificationDialogComponent)(i0.ɵɵdirectiveInject(ModalService), i0.ɵɵdirectiveInject(i1.UserInterestsService));\n  };\n  StockNotificationDialogComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: StockNotificationDialogComponent,\n    selectors: [[\"cx-stock-notification-dialog\"]],\n    decls: 12,\n    vars: 10,\n    consts: [[1, \"cx-dialog-header\", \"modal-header\"], [1, \"cx-dialog-title\", \"modal-title\"], [\"type\", \"button\", \"tabindex\", \"-1\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [4, \"ngIf\", \"ngIfElse\"], [\"loading\", \"\"], [1, \"cx-dialog-body\", \"modal-body\"], [1, \"container\"], [\"class\", \"channels\", 4, \"ngFor\", \"ngForOf\"], [1, \"link-prefs\", 3, \"routerLink\", \"click\"], [1, \"link-interests\", 3, \"routerLink\", \"click\"], [1, \"row\"], [1, \"cx-dialog-actions\", \"col-sm-12\", \"col-md-3\", \"offset-md-9\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-block\", \"btn-ok\", 3, \"click\"], [1, \"channels\"], [4, \"ngIf\"], [1, \"cx-dialog-row\"], [1, \"col-sm-12\"]],\n    template: function StockNotificationDialogComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵtext(2);\n        i0.ɵɵpipe(3, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function StockNotificationDialogComponent_Template_button_click_4_listener() {\n          return ctx.close();\n        });\n        i0.ɵɵpipe(5, \"cxTranslate\");\n        i0.ɵɵelementStart(6, \"span\", 3);\n        i0.ɵɵtext(7, \"\\xD7\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, StockNotificationDialogComponent_ng_container_8_Template, 31, 32, \"ng-container\", 4);\n        i0.ɵɵpipe(9, \"async\");\n        i0.ɵɵtemplate(10, StockNotificationDialogComponent_ng_template_10_Template, 7, 3, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(11);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 4, \"stockNotification.subscriptionDialog.header\"), \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(5, 6, \"common.close\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(9, 8, ctx.subscribeSuccess$))(\"ngIfElse\", _r1);\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, i1$1.RouterLinkWithHref, SpinnerComponent],\n    pipes: [i1.TranslatePipe, i3.AsyncPipe],\n    encapsulation: 2\n  });\n  return StockNotificationDialogComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet StockNotificationComponent = /*#__PURE__*/(() => {\n  class StockNotificationComponent {\n    constructor(currentProductService, globalMessageService, translationService, interestsService, modalService, notificationPrefService, userIdService) {\n      this.currentProductService = currentProductService;\n      this.globalMessageService = globalMessageService;\n      this.translationService = translationService;\n      this.interestsService = interestsService;\n      this.modalService = modalService;\n      this.notificationPrefService = notificationPrefService;\n      this.userIdService = userIdService;\n      this.anonymous = true;\n      this.enabledPrefs = [];\n      this.subscriptions = new Subscription();\n    }\n    ngOnInit() {\n      this.outOfStock$ = combineLatest([this.currentProductService.getProduct().pipe(filter(isNotNullable)), this.userIdService.getUserId()]).pipe(tap(([product, userId]) => {\n        this.productCode = product.code;\n        if (userId !== OCC_USER_ID_ANONYMOUS) {\n          this.anonymous = false;\n          this.notificationPrefService.loadPreferences();\n          this.interestsService.loadProductInterests(null, null, null, product.code, NotificationType.BACK_IN_STOCK);\n        }\n      }), map(([product]) => !!product.stock && product.stock.stockLevelStatus === 'outOfStock'));\n      this.hasProductInterests$ = this.interestsService.getProductInterests().pipe(map(interests => !!interests.results && interests.results.length === 1));\n      this.subscribeSuccess$ = this.interestsService.getAddProductInterestSuccess();\n      this.isRemoveInterestLoading$ = this.interestsService.getRemoveProdutInterestLoading();\n      this.prefsEnabled$ = this.notificationPrefService.getEnabledPreferences().pipe(tap(prefs => this.enabledPrefs = prefs), map(prefs => prefs.length > 0));\n      this.subscriptions.add(this.interestsService.getAddProductInterestError().subscribe(error => {\n        if (error) {\n          this.onInterestAddingError();\n        }\n      }));\n      this.subscriptions.add(this.interestsService.getRemoveProdutInterestSuccess().subscribe(success => {\n        if (success) {\n          this.onInterestRemovingSuccess();\n        }\n      }));\n    }\n    subscribe() {\n      this.openDialog();\n      this.interestsService.addProductInterest(this.productCode, NotificationType.BACK_IN_STOCK);\n    }\n    unsubscribe() {\n      this.interestsService.removeProdutInterest({\n        product: {\n          code: this.productCode\n        },\n        productInterestEntry: [{\n          interestType: NotificationType.BACK_IN_STOCK\n        }]\n      }, true);\n    }\n    onInterestRemovingSuccess() {\n      this.subscriptions.add(this.translationService.translate('stockNotification.unsubscribeSuccess').pipe(first()).subscribe(text => this.globalMessageService.add(text, GlobalMessageType.MSG_TYPE_INFO)));\n      this.interestsService.resetRemoveInterestState();\n    }\n    onInterestAddingError() {\n      this.modalService.dismissActiveModal();\n      this.interestsService.resetAddInterestState();\n    }\n    openDialog() {\n      const modalInstance = this.modalService.open(StockNotificationDialogComponent, {\n        centered: true,\n        size: 'lg'\n      }).componentInstance;\n      modalInstance.subscribeSuccess$ = this.subscribeSuccess$;\n      modalInstance.enabledPrefs = this.enabledPrefs;\n    }\n    ngOnDestroy() {\n      this.subscriptions.unsubscribe();\n      this.interestsService.clearProductInterests();\n      this.notificationPrefService.clearPreferences();\n    }\n  }\n  StockNotificationComponent.ɵfac = function StockNotificationComponent_Factory(t) {\n    return new (t || StockNotificationComponent)(i0.ɵɵdirectiveInject(CurrentProductService), i0.ɵɵdirectiveInject(i1.GlobalMessageService), i0.ɵɵdirectiveInject(i1.TranslationService), i0.ɵɵdirectiveInject(i1.UserInterestsService), i0.ɵɵdirectiveInject(ModalService), i0.ɵɵdirectiveInject(i1.UserNotificationPreferenceService), i0.ɵɵdirectiveInject(i1.UserIdService));\n  };\n  StockNotificationComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: StockNotificationComponent,\n    selectors: [[\"cx-stock-notification\"]],\n    decls: 8,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [\"disableNotify\", \"\"], [\"stopNotify\", \"\"], [\"loading\", \"\"], [4, \"ngIf\", \"ngIfElse\"], [1, \"stock-notification-notes\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-block\", \"btn-notify\", 3, \"click\"], [\"id\", \"outOfStockMessage\", 1, \"stock-notification-notes\"], [\"loggedIn\", \"\"], [\"type\", \"button\", \"disabled\", \"true\", \"aria-describedby\", \"outOfStockMessage\", 1, \"btn\", \"btn-primary\", \"btn-block\", \"btn-notify\"], [3, \"routerLink\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-block\", \"btn-stop-notify\", 3, \"click\"], [1, \"cx-dialog-body\", \"modal-body\"], [1, \"cx-dialog-row\"], [1, \"col-sm-12\"]],\n    template: function StockNotificationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, StockNotificationComponent_ng_container_0_Template, 3, 4, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵtemplate(2, StockNotificationComponent_ng_template_2_Template, 8, 5, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(4, StockNotificationComponent_ng_template_4_Template, 2, 4, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(6, StockNotificationComponent_ng_template_6_Template, 4, 0, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.outOfStock$));\n      }\n    },\n    directives: [i3.NgIf, i1$1.RouterLinkWithHref, SpinnerComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe, i1.UrlPipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return StockNotificationComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet StockNotificationModule = /*#__PURE__*/(() => {\n  class StockNotificationModule {}\n  StockNotificationModule.ɵfac = function StockNotificationModule_Factory(t) {\n    return new (t || StockNotificationModule)();\n  };\n  StockNotificationModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: StockNotificationModule\n  });\n  StockNotificationModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        StockNotificationComponent: {\n          component: StockNotificationComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, RouterModule, I18nModule, SpinnerModule, UrlModule]]\n  });\n  return StockNotificationModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Guards the _login_ route.\n *\n * Takes care of routing the user to a auth server login page (if implicit or code flow is used).\n * In case of Resource Owner Password Flow just renders the page as normal CMS page.\n */\nlet LoginGuard = /*#__PURE__*/(() => {\n  class LoginGuard {\n    constructor(authService, authRedirectService, authConfigService, cmsPageGuard) {\n      this.authService = authService;\n      this.authRedirectService = authRedirectService;\n      this.authConfigService = authConfigService;\n      this.cmsPageGuard = cmsPageGuard;\n    }\n    canActivate(route, state) {\n      return this.authService.isUserLoggedIn().pipe(take(1), switchMap(isUserLoggedIn => {\n        if (this.authConfigService.getOAuthFlow() === OAuthFlow.ResourceOwnerPasswordFlow || isUserLoggedIn) {\n          return this.cmsPageGuard.canActivate(route, state);\n        } else {\n          // Remember the previous url, so we can redirect user to that page after OAuth server callback\n          this.authRedirectService.reportNotAuthGuard();\n          // This method can trigger redirect to OAuth server that's why we don't return anything in this case\n          const redirected = this.authService.loginWithRedirect();\n          if (!redirected) {\n            return of(false);\n          }\n          return EMPTY;\n        }\n      }));\n    }\n  }\n  LoginGuard.ɵfac = function LoginGuard_Factory(t) {\n    return new (t || LoginGuard)(i0.ɵɵinject(i1.AuthService), i0.ɵɵinject(i1.AuthRedirectService), i0.ɵɵinject(i1.AuthConfigService), i0.ɵɵinject(CmsPageGuard));\n  };\n  LoginGuard.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: LoginGuard,\n    factory: LoginGuard.ɵfac,\n    providedIn: 'root'\n  });\n  return LoginGuard;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * This module enables to quickly switch from Resource Owner Password Flow\n * to Implicit Flow or Authorization Code Flow. The `login` route in this case will be\n * responsible for initalizing the redirect to OAuth server to login.\n *\n * Instead of manually invoking OAuth redirect you only have to redirect to `login` page.\n */\nlet LoginRouteModule = /*#__PURE__*/(() => {\n  class LoginRouteModule {}\n  LoginRouteModule.ɵfac = function LoginRouteModule_Factory(t) {\n    return new (t || LoginRouteModule)();\n  };\n  LoginRouteModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: LoginRouteModule\n  });\n  LoginRouteModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[PageLayoutModule, RouterModule.forChild([{\n      path: null,\n      canActivate: [LoginGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'login'\n      }\n    }])]]\n  });\n  return LoginRouteModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Guards the _logout_ route.\n *\n * Takes care of routing the user to a logout page (if available) or redirects to\n * the homepage. If the homepage is protected, the user is redirected\n * to the login route instead.\n */\nlet LogoutGuard = /*#__PURE__*/(() => {\n  class LogoutGuard {\n    constructor(auth, cms, semanticPathService, protectedRoutes, router, authRedirectService) {\n      this.auth = auth;\n      this.cms = cms;\n      this.semanticPathService = semanticPathService;\n      this.protectedRoutes = protectedRoutes;\n      this.router = router;\n      this.authRedirectService = authRedirectService;\n    }\n    canActivate() {\n      // Logout route should never be remembered as a redirect url after login (that would cause logout right after login).\n      this.authRedirectService.reportNotAuthGuard();\n      /**\n       * First we want to complete logout process before redirecting to logout page\n       * We want to avoid errors like `token is no longer valid`\n       */\n      return from(this.logout()).pipe(switchMap(() => {\n        return this.cms.hasPage({\n          id: this.semanticPathService.get('logout'),\n          type: PageType.CONTENT_PAGE\n        }).pipe(map(hasPage => {\n          if (!hasPage) {\n            return this.getRedirectUrl();\n          }\n          // TODO(#9385): Use CMS page guard here.\n          return hasPage;\n        }));\n      }));\n    }\n    logout() {\n      return this.auth.coreLogout();\n    }\n    /**\n     * Whenever there is no specific \"logout\" page configured in the CMS,\n     * we redirect after the user is logged out.\n     *\n     * The user gets redirected to the homepage, unless the homepage is protected\n     * (in case of a closed shop). We'll redirect to the login page instead.\n     */\n    getRedirectUrl() {\n      const cxRoute = this.protectedRoutes.shouldProtect ? 'login' : 'home';\n      return this.router.parseUrl(this.semanticPathService.get(cxRoute));\n    }\n  }\n  LogoutGuard.ɵfac = function LogoutGuard_Factory(t) {\n    return new (t || LogoutGuard)(i0.ɵɵinject(i1.AuthService), i0.ɵɵinject(i1.CmsService), i0.ɵɵinject(i1.SemanticPathService), i0.ɵɵinject(i1.ProtectedRoutesService), i0.ɵɵinject(i1$1.Router), i0.ɵɵinject(i1.AuthRedirectService));\n  };\n  LogoutGuard.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: LogoutGuard,\n    factory: LogoutGuard.ɵfac,\n    providedIn: 'root'\n  });\n  return LogoutGuard;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet LogoutModule = /*#__PURE__*/(() => {\n  class LogoutModule {}\n  LogoutModule.ɵfac = function LogoutModule_Factory(t) {\n    return new (t || LogoutModule)();\n  };\n  LogoutModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: LogoutModule\n  });\n  LogoutModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[PageLayoutModule, RouterModule.forChild([{\n      path: null,\n      canActivate: [LogoutGuard, CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'logout'\n      }\n    }])]]\n  });\n  return LogoutModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet UserComponentModule = /*#__PURE__*/(() => {\n  class UserComponentModule {}\n  UserComponentModule.ɵfac = function UserComponentModule_Factory(t) {\n    return new (t || UserComponentModule)();\n  };\n  UserComponentModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: UserComponentModule\n  });\n  UserComponentModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[LogoutModule, LoginRouteModule, ReactiveFormsModule, RouterModule, UrlModule]]\n  });\n  return UserComponentModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet WishListItemComponent = /*#__PURE__*/(() => {\n  class WishListItemComponent {\n    constructor() {\n      this.isLoading = false;\n      this.remove = new EventEmitter();\n    }\n    removeEntry(item) {\n      this.remove.emit(item);\n    }\n  }\n  WishListItemComponent.ɵfac = function WishListItemComponent_Factory(t) {\n    return new (t || WishListItemComponent)();\n  };\n  WishListItemComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: WishListItemComponent,\n    selectors: [[\"cx-wish-list-item\"]],\n    inputs: {\n      isLoading: \"isLoading\",\n      cartEntry: \"cartEntry\"\n    },\n    outputs: {\n      remove: \"remove\"\n    },\n    decls: 20,\n    vars: 16,\n    consts: [[1, \"row\"], [1, \"cx-image-container\", \"col-2\"], [\"tabindex\", \"-1\", 3, \"routerLink\"], [\"format\", \"thumbnail\", 3, \"container\"], [1, \"cx-info\", \"col-10\"], [1, \"cx-info-container\", \"row\"], [1, \"col-md-5\", \"col-lg-5\", \"col-xl-5\"], [\"class\", \"cx-name\", 4, \"ngIf\"], [\"class\", \"cx-code\", 4, \"ngIf\"], [4, \"ngIf\"], [\"class\", \"cx-price col-md-3 col-lg-4 col-xl-4\", 4, \"ngIf\"], [1, \"col-sm-8\", \"col-md-4\", \"col-lg-3\", \"col-xl-3\", \"cx-add-to-cart\"], [3, \"showQuantity\", \"product\", 4, \"ngIf\", \"ngIfElse\"], [\"outOfStock\", \"\"], [1, \"cx-return-button\", \"col-12\"], [1, \"btn\", \"cx-action-link\", 3, \"disabled\", \"click\"], [1, \"cx-name\"], [1, \"cx-link\", 3, \"routerLink\"], [1, \"cx-code\"], [\"class\", \"cx-property\", 4, \"ngFor\", \"ngForOf\"], [1, \"cx-property\"], [\"class\", \"cx-label\", 4, \"ngIf\"], [1, \"cx-label\"], [1, \"cx-price\", \"col-md-3\", \"col-lg-4\", \"col-xl-4\"], [1, \"cx-label\", \"d-block\", \"d-md-none\", \"d-lg-none\", \"d-xl-none\"], [\"class\", \"cx-value\", 4, \"ngIf\"], [1, \"cx-value\"], [3, \"showQuantity\", \"product\"], [1, \"cx-out-of-stock\"]],\n    template: function WishListItemComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelementStart(2, \"a\", 2);\n        i0.ɵɵpipe(3, \"cxUrl\");\n        i0.ɵɵelement(4, \"cx-media\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 4);\n        i0.ɵɵelementStart(6, \"div\", 5);\n        i0.ɵɵelementStart(7, \"div\", 6);\n        i0.ɵɵtemplate(8, WishListItemComponent_div_8_Template, 5, 6, \"div\", 7);\n        i0.ɵɵtemplate(9, WishListItemComponent_div_9_Template, 3, 4, \"div\", 8);\n        i0.ɵɵtemplate(10, WishListItemComponent_ng_container_10_Template, 2, 1, \"ng-container\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(11, WishListItemComponent_div_11_Template, 5, 4, \"div\", 10);\n        i0.ɵɵelementStart(12, \"div\", 11);\n        i0.ɵɵtemplate(13, WishListItemComponent_cx_add_to_cart_13_Template, 1, 2, \"cx-add-to-cart\", 12);\n        i0.ɵɵtemplate(14, WishListItemComponent_ng_template_14_Template, 3, 3, \"ng-template\", null, 13, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 14);\n        i0.ɵɵelementStart(17, \"button\", 15);\n        i0.ɵɵlistener(\"click\", function WishListItemComponent_Template_button_click_17_listener() {\n          return ctx.removeEntry(ctx.cartEntry);\n        });\n        i0.ɵɵtext(18);\n        i0.ɵɵpipe(19, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        const _r5 = i0.ɵɵreference(15);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpipeBind1(3, 10, i0.ɵɵpureFunction1(14, _c5, ctx.cartEntry.product)));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"container\", ctx.cartEntry.product.images == null ? null : ctx.cartEntry.product.images.PRIMARY);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.cartEntry.product.name);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.cartEntry.product.code);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.cartEntry.product.baseOptions == null ? null : ctx.cartEntry.product.baseOptions.length);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.cartEntry.basePrice);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.cartEntry.product.stock.stockLevelStatus !== \"outOfStock\")(\"ngIfElse\", _r5);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(19, 12, \"common.remove\"), \" \");\n      }\n    },\n    directives: [i1$1.RouterLinkWithHref, MediaComponent, i3.NgIf, i3.NgForOf, AddToCartComponent],\n    pipes: [i1.UrlPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return WishListItemComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet WishListComponent = /*#__PURE__*/(() => {\n  class WishListComponent {\n    constructor(wishListService) {\n      this.wishListService = wishListService;\n      this.wishList$ = this.wishListService.getWishList();\n      this.loading$ = this.wishListService.getWishListLoading();\n    }\n    removeEntry(item) {\n      this.wishListService.removeEntry(item);\n    }\n  }\n  WishListComponent.ɵfac = function WishListComponent_Factory(t) {\n    return new (t || WishListComponent)(i0.ɵɵdirectiveInject(i1.WishListService));\n  };\n  WishListComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: WishListComponent,\n    selectors: [[\"cx-wish-list\"]],\n    decls: 4,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [\"emptyWishList\", \"\"], [4, \"ngIf\", \"ngIfElse\"], [1, \"d-none\", \"d-md-block\", \"d-lg-block\", \"d-xl-block\"], [1, \"cx-item-list-header\", \"row\"], [1, \"cx-item-list-desc\", \"col-md-7\", \"col-lg-6\", \"col-xl-6\"], [1, \"cx-item-list-price\", \"col-md-3\", \"col-lg-4\", \"col-xl-4\"], [1, \"cx-item-list-total\", \"col-md-2\", \"col-lg-2\", \"col-xl-2\"], [\"class\", \"cx-item-list-row\", 4, \"ngFor\", \"ngForOf\"], [1, \"cx-item-list-row\"], [1, \"cx-wish-list-items\", 3, \"cartEntry\", \"isLoading\", \"remove\"]],\n    template: function WishListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, WishListComponent_ng_container_0_Template, 2, 2, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵtemplate(2, WishListComponent_ng_template_2_Template, 3, 3, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.wishList$));\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, WishListItemComponent],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return WishListComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet WishListModule = /*#__PURE__*/(() => {\n  class WishListModule {}\n  WishListModule.ɵfac = function WishListModule_Factory(t) {\n    return new (t || WishListModule)();\n  };\n  WishListModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: WishListModule\n  });\n  WishListModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        WishListComponent: {\n          component: WishListComponent,\n          guards: [AuthGuard]\n        }\n      }\n    })],\n    imports: [[AddToCartModule, CommonModule, I18nModule, MediaModule, RouterModule, StarRatingModule, UrlModule, ItemCounterModule]]\n  });\n  return WishListModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction getProductDetailsUrlMatcherFactory(service, defaultMatcherFactory) {\n  const factory = route => {\n    const defaultMatcher = defaultMatcherFactory(route);\n    const suffixPDPMatcher = getSuffixUrlMatcher({\n      marker: 'p',\n      paramName: 'productCode'\n    });\n    return service.getCombined([defaultMatcher, suffixPDPMatcher]);\n  };\n  return factory;\n}\n/**\n * Injection token with url matcher factory for PDP.\n * The provided url matcher matches both:\n * - the configured `paths` from routing config and\n * - custom pattern  `** / p / :productCode`\n *\n * If the this matcher doesn't fit the requirements, it can be replaced with the DEFAULT_URL_MATCHER\n * or additional matchers can be added for a specific route.\n *\n * Note: Matchers will \"match\" a route, but do not contribute to the creation of the route, nor do they guard routes.\n */\nconst PRODUCT_DETAILS_URL_MATCHER = new InjectionToken('PRODUCT_DETAILS_URL_MATCHER', {\n  providedIn: 'root',\n  factory: () => getProductDetailsUrlMatcherFactory(inject(UrlMatcherService), inject(DEFAULT_URL_MATCHER))\n});\nlet ProductDetailsPageModule = /*#__PURE__*/(() => {\n  class ProductDetailsPageModule {}\n  ProductDetailsPageModule.ɵfac = function ProductDetailsPageModule_Factory(t) {\n    return new (t || ProductDetailsPageModule)();\n  };\n  ProductDetailsPageModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ProductDetailsPageModule\n  });\n  ProductDetailsPageModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      routing: {\n        routes: {\n          product: {\n            matchers: [PRODUCT_DETAILS_URL_MATCHER]\n          }\n        }\n      }\n    })],\n    imports: [[RouterModule.forChild([{\n      path: null,\n      canActivate: [CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'product'\n      }\n    }])]]\n  });\n  return ProductDetailsPageModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction getProductListingUrlMatcherFactory(service, defaultMatcherFactory) {\n  const factory = route => {\n    const defaultMatcher = defaultMatcherFactory(route);\n    const suffixPLPMatcher = getSuffixUrlMatcher({\n      marker: 'c',\n      paramName: 'categoryCode'\n    });\n    return service.getCombined([defaultMatcher, suffixPLPMatcher]);\n  };\n  return factory;\n}\n/**\n * Injection token with url matcher factory for PLP.\n * The provided url matcher matches both:\n * - the configured `paths` from routing config and\n * - custom pattern  `** / c / :categoryCode`\n *\n * If the this matcher doesn't fit the requirements, it can be replaced with the DEFAULT_URL_MATCHER\n * or additional matchers can be added for a specific route.\n *\n * Note: Matchers will \"match\" a route, but do not contribute to the creation of the route, nor do they guard routes.\n */\nconst PRODUCT_LISTING_URL_MATCHER = new InjectionToken('PRODUCT_LISTING_URL_MATCHER', {\n  providedIn: 'root',\n  factory: () => getProductListingUrlMatcherFactory(inject(UrlMatcherService), inject(DEFAULT_URL_MATCHER))\n});\nlet ProductListingPageModule = /*#__PURE__*/(() => {\n  class ProductListingPageModule {}\n  ProductListingPageModule.ɵfac = function ProductListingPageModule_Factory(t) {\n    return new (t || ProductListingPageModule)();\n  };\n  ProductListingPageModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ProductListingPageModule\n  });\n  ProductListingPageModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      routing: {\n        routes: {\n          category: {\n            matchers: [PRODUCT_LISTING_URL_MATCHER]\n          }\n        }\n      }\n    })],\n    imports: [[RouterModule.forChild([{\n      path: null,\n      canActivate: [CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        pageLabel: 'search',\n        cxRoute: 'search'\n      }\n    }, {\n      path: null,\n      canActivate: [CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'brand'\n      }\n    }, {\n      // The 'category' route  may include a greedy suffix url matcher '**/c/:categoryCode'\n      // So not to shadow the specific 'brand' route, the 'category' is the last route in the sequence.\n      path: null,\n      canActivate: [CmsPageGuard],\n      component: PageLayoutComponent,\n      data: {\n        cxRoute: 'category'\n      }\n    }])]]\n  });\n  return ProductListingPageModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Resolves the context for the specific route, based on the property `data.cxContext`\n * defined in the Angular Route.\n */\nlet RoutingContextService = /*#__PURE__*/(() => {\n  class RoutingContextService {\n    constructor(activatedRoutesService, injector) {\n      this.activatedRoutesService = activatedRoutesService;\n      this.injector = injector;\n      /**\n       * Combined context token mapping consisting of all mappings defined in currently\n       * Activated Angular Routes.\n       *\n       * The context token mapping is read from each Route's property `data.cxContext`.\n       */\n      this.contextTokenMapping$ = this.activatedRoutesService.routes$.pipe(map(routes => this.getRoutesContextTokenMapping(routes)), shareReplay({\n        refCount: true,\n        bufferSize: 1\n      }));\n    }\n    /**\n     * Returns the merged context token mapping, consisting of mappings\n     * defined in all Activated Angular Routes.\n     */\n    getRoutesContextTokenMapping(routes) {\n      return Object.assign({}, ...routes.map(route => {\n        var _a;\n        return (_a = route === null || route === void 0 ? void 0 : route.data) === null || _a === void 0 ? void 0 : _a.cxContext;\n      }));\n    }\n    /**\n     * Resolves the specified `contextToken` from `cxContext` data parameter of the activated Angular Routes.\n     * @param contextToken\n     *\n     * @returns instance from the root injector if defined, otherwise `undefined`.\n     */\n    get(contextToken) {\n      return this.contextTokenMapping$.pipe(map(contextMapping => {\n        const providerToken = contextMapping === null || contextMapping === void 0 ? void 0 : contextMapping[\n        // TODO: remove 'as any' after upgrading TypeScript to v4.4\n        // See: https://github.com/Microsoft/TypeScript/issues/24587\n        contextToken];\n        return this.injector.get(providerToken, undefined);\n      }));\n    }\n  }\n  RoutingContextService.ɵfac = function RoutingContextService_Factory(t) {\n    return new (t || RoutingContextService)(i0.ɵɵinject(i1.ActivatedRoutesService), i0.ɵɵinject(i0.Injector));\n  };\n  RoutingContextService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: RoutingContextService,\n    factory: RoutingContextService.ɵfac,\n    providedIn: 'root'\n  });\n  return RoutingContextService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generic service for resolving the context for the UI components.\n */\nlet ContextService = /*#__PURE__*/(() => {\n  class ContextService {\n    constructor(routingContextService) {\n      this.routingContextService = routingContextService;\n    }\n    /**\n     * Returns the context for the given token.\n     */\n    get(contextToken) {\n      return this.resolveContext(contextToken).pipe(distinctUntilChanged(), shareReplay({\n        refCount: true,\n        bufferSize: 1\n      }));\n    }\n    /**\n     * Resolves the context for the given token.\n     */\n    resolveContext(contextToken) {\n      return this.routingContextService.get(contextToken);\n    }\n  }\n  ContextService.ɵfac = function ContextService_Factory(t) {\n    return new (t || ContextService)(i0.ɵɵinject(RoutingContextService));\n  };\n  ContextService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ContextService,\n    factory: ContextService.ɵfac,\n    providedIn: 'root'\n  });\n  return ContextService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Indicates that a user navigated to an arbitrary page.\n */\nlet NavigationEvent = /*#__PURE__*/(() => {\n  class NavigationEvent extends CxEvent {}\n  /**\n   * Event's type\n   */\n  NavigationEvent.type = 'NavigationEvent';\n\n  /**\n   * Indicates that a user visited an arbitrary page.\n   */\n  return NavigationEvent;\n})();\nclass PageEvent extends CxEvent {}\n\n/**\n * Indicates that a user visited a cart page.\n */\nlet CartPageEvent = /*#__PURE__*/(() => {\n  class CartPageEvent extends PageEvent {}\n  /** event's type */\n  CartPageEvent.type = 'CartPageEvent';\n  return CartPageEvent;\n})();\nlet CartPageEventBuilder = /*#__PURE__*/(() => {\n  class CartPageEventBuilder {\n    constructor(eventService) {\n      this.eventService = eventService;\n      this.register();\n    }\n    register() {\n      this.eventService.register(CartPageEvent, this.buildCartPageEvent());\n    }\n    buildCartPageEvent() {\n      return this.eventService.get(NavigationEvent).pipe(filter(navigationEvent => navigationEvent.semanticRoute === 'cart'), map(navigationEvent => createFrom(CartPageEvent, {\n        navigation: navigationEvent\n      })));\n    }\n  }\n  CartPageEventBuilder.ɵfac = function CartPageEventBuilder_Factory(t) {\n    return new (t || CartPageEventBuilder)(i0.ɵɵinject(i1.EventService));\n  };\n  CartPageEventBuilder.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: CartPageEventBuilder,\n    factory: CartPageEventBuilder.ɵfac,\n    providedIn: 'root'\n  });\n  return CartPageEventBuilder;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CartPageEventModule = /*#__PURE__*/(() => {\n  class CartPageEventModule {\n    constructor(_cartPageEventBuilder) {}\n  }\n  CartPageEventModule.ɵfac = function CartPageEventModule_Factory(t) {\n    return new (t || CartPageEventModule)(i0.ɵɵinject(CartPageEventBuilder));\n  };\n  CartPageEventModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: CartPageEventModule\n  });\n  CartPageEventModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return CartPageEventModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Indicates that a user visited a home page.\n */\nlet HomePageEvent = /*#__PURE__*/(() => {\n  class HomePageEvent extends PageEvent {}\n  /** event's type */\n  HomePageEvent.type = 'HomePageEvent';\n  return HomePageEvent;\n})();\nlet HomePageEventBuilder = /*#__PURE__*/(() => {\n  class HomePageEventBuilder {\n    constructor(eventService) {\n      this.eventService = eventService;\n      this.register();\n    }\n    register() {\n      this.eventService.register(HomePageEvent, this.buildHomePageEvent());\n    }\n    buildHomePageEvent() {\n      return this.eventService.get(NavigationEvent).pipe(filter(navigationEvent => navigationEvent.semanticRoute === 'home'), map(navigationEvent => createFrom(HomePageEvent, {\n        navigation: navigationEvent\n      })));\n    }\n  }\n  HomePageEventBuilder.ɵfac = function HomePageEventBuilder_Factory(t) {\n    return new (t || HomePageEventBuilder)(i0.ɵɵinject(i1.EventService));\n  };\n  HomePageEventBuilder.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: HomePageEventBuilder,\n    factory: HomePageEventBuilder.ɵfac,\n    providedIn: 'root'\n  });\n  return HomePageEventBuilder;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet HomePageEventModule = /*#__PURE__*/(() => {\n  class HomePageEventModule {\n    constructor(_homePageEventBuilder) {}\n  }\n  HomePageEventModule.ɵfac = function HomePageEventModule_Factory(t) {\n    return new (t || HomePageEventModule)(i0.ɵɵinject(HomePageEventBuilder));\n  };\n  HomePageEventModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: HomePageEventModule\n  });\n  HomePageEventModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return HomePageEventModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * A builder for the NavigationEvent\n */\nlet NavigationEventBuilder = /*#__PURE__*/(() => {\n  class NavigationEventBuilder {\n    constructor(actions, eventService) {\n      this.actions = actions;\n      this.eventService = eventService;\n      this.register();\n    }\n    /**\n     * Registers events\n     */\n    register() {\n      this.eventService.register(NavigationEvent, this.buildNavigationEvent());\n    }\n    /**\n     * Builds the navigation events\n     */\n    buildNavigationEvent() {\n      return this.getNavigatedEvent().pipe(map(state => createFrom(NavigationEvent, {\n        context: state.context,\n        semanticRoute: state.semanticRoute,\n        url: state.url,\n        params: state.params\n      })));\n    }\n    getNavigatedEvent() {\n      return this.actions.pipe(ofType(ROUTER_NAVIGATED), map(event => event.payload.routerState));\n    }\n  }\n  NavigationEventBuilder.ɵfac = function NavigationEventBuilder_Factory(t) {\n    return new (t || NavigationEventBuilder)(i0.ɵɵinject(i1$5.ActionsSubject), i0.ɵɵinject(i1.EventService));\n  };\n  NavigationEventBuilder.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: NavigationEventBuilder,\n    factory: NavigationEventBuilder.ɵfac,\n    providedIn: 'root'\n  });\n  return NavigationEventBuilder;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet NavigationEventModule = /*#__PURE__*/(() => {\n  class NavigationEventModule {\n    constructor(_navigationEventBuilder) {}\n  }\n  NavigationEventModule.ɵfac = function NavigationEventModule_Factory(t) {\n    return new (t || NavigationEventModule)(i0.ɵɵinject(NavigationEventBuilder));\n  };\n  NavigationEventModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: NavigationEventModule\n  });\n  NavigationEventModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return NavigationEventModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Indicates that a user visited a product details page.\n */\nlet ProductDetailsPageEvent = /*#__PURE__*/(() => {\n  class ProductDetailsPageEvent extends PageEvent {}\n  /** event's type */\n  ProductDetailsPageEvent.type = 'ProductDetailsPageEvent';\n  /**\n   * Indicates that a user visited a category page.\n   */\n  return ProductDetailsPageEvent;\n})();\nlet CategoryPageResultsEvent = /*#__PURE__*/(() => {\n  class CategoryPageResultsEvent extends PageEvent {}\n  /** event's type */\n  CategoryPageResultsEvent.type = 'CategoryPageResultsEvent';\n  /**\n   * Indicates that the a user visited the search results page,\n   * and that the search results have been retrieved.\n   */\n  return CategoryPageResultsEvent;\n})();\nlet SearchPageResultsEvent = /*#__PURE__*/(() => {\n  class SearchPageResultsEvent extends PageEvent {}\n  /** event's type */\n  SearchPageResultsEvent.type = 'SearchPageResultsEvent';\n  return SearchPageResultsEvent;\n})();\nlet ProductPageEventBuilder = /*#__PURE__*/(() => {\n  class ProductPageEventBuilder {\n    constructor(eventService, productService, productSearchService) {\n      this.eventService = eventService;\n      this.productService = productService;\n      this.productSearchService = productSearchService;\n      this.register();\n    }\n    register() {\n      this.eventService.register(SearchPageResultsEvent, this.buildSearchPageResultsEvent());\n      this.eventService.register(ProductDetailsPageEvent, this.buildProductDetailsPageEvent());\n      this.eventService.register(CategoryPageResultsEvent, this.buildCategoryResultsPageEvent());\n    }\n    buildProductDetailsPageEvent() {\n      return this.eventService.get(NavigationEvent).pipe(filter(navigationEvent => navigationEvent.semanticRoute === 'product'), switchMap(navigationEvent => this.productService.get(navigationEvent.context.id).pipe(filter(product => Boolean(product)), take(1), map(product => createFrom(ProductDetailsPageEvent, {\n        navigation: navigationEvent,\n        categories: product.categories,\n        code: product.code,\n        name: product.name,\n        price: product.price\n      })))));\n    }\n    buildCategoryResultsPageEvent() {\n      const searchResults$ = this.productSearchService.getResults().pipe(\n      // skipping the initial value, and preventing emission of the previous search state\n      skip(1));\n      return this.eventService.get(NavigationEvent).pipe(switchMap(navigationEvent => {\n        if ((navigationEvent === null || navigationEvent === void 0 ? void 0 : navigationEvent.semanticRoute) !== 'category') {\n          return EMPTY;\n        }\n        return searchResults$.pipe(map(searchResults => {\n          var _a, _b, _c, _d;\n          return createFrom(CategoryPageResultsEvent, Object.assign({\n            navigation: navigationEvent\n          }, {\n            categoryCode: (_a = navigationEvent === null || navigationEvent === void 0 ? void 0 : navigationEvent.context) === null || _a === void 0 ? void 0 : _a.id,\n            numberOfResults: (_c = (_b = searchResults === null || searchResults === void 0 ? void 0 : searchResults.pagination) === null || _b === void 0 ? void 0 : _b.totalResults) !== null && _c !== void 0 ? _c : 0,\n            categoryName: (_d = searchResults.breadcrumbs) === null || _d === void 0 ? void 0 : _d[0].facetValueName\n          }));\n        }));\n      }));\n    }\n    buildSearchPageResultsEvent() {\n      const searchResults$ = this.productSearchService.getResults().pipe(\n      // skipping the initial value, and preventing emission of the previous search state\n      skip(1));\n      return this.eventService.get(NavigationEvent).pipe(switchMap(navigationEvent => {\n        if ((navigationEvent === null || navigationEvent === void 0 ? void 0 : navigationEvent.semanticRoute) !== 'search') {\n          return EMPTY;\n        }\n        return searchResults$.pipe(map(searchResults => {\n          var _a, _b, _c;\n          return createFrom(SearchPageResultsEvent, Object.assign({\n            navigation: navigationEvent\n          }, {\n            searchTerm: (_a = searchResults === null || searchResults === void 0 ? void 0 : searchResults.freeTextSearch) !== null && _a !== void 0 ? _a : '',\n            numberOfResults: (_c = (_b = searchResults === null || searchResults === void 0 ? void 0 : searchResults.pagination) === null || _b === void 0 ? void 0 : _b.totalResults) !== null && _c !== void 0 ? _c : 0\n          }));\n        }));\n      }));\n    }\n  }\n  ProductPageEventBuilder.ɵfac = function ProductPageEventBuilder_Factory(t) {\n    return new (t || ProductPageEventBuilder)(i0.ɵɵinject(i1.EventService), i0.ɵɵinject(i1.ProductService), i0.ɵɵinject(i1.ProductSearchService));\n  };\n  ProductPageEventBuilder.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ProductPageEventBuilder,\n    factory: ProductPageEventBuilder.ɵfac,\n    providedIn: 'root'\n  });\n  return ProductPageEventBuilder;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ProductPageEventModule = /*#__PURE__*/(() => {\n  class ProductPageEventModule {\n    constructor(_productPageEventBuilder) {}\n  }\n  ProductPageEventModule.ɵfac = function ProductPageEventModule_Factory(t) {\n    return new (t || ProductPageEventModule)(i0.ɵɵinject(ProductPageEventBuilder));\n  };\n  ProductPageEventModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ProductPageEventModule\n  });\n  ProductPageEventModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  return ProductPageEventModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet SkipLinkConfig = /*#__PURE__*/(() => {\n  class SkipLinkConfig {}\n  SkipLinkConfig.ɵfac = function SkipLinkConfig_Factory(t) {\n    return new (t || SkipLinkConfig)();\n  };\n  SkipLinkConfig.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: SkipLinkConfig,\n    factory: function SkipLinkConfig_Factory(t) {\n      let r = null;\n      if (t) {\n        r = new (t || SkipLinkConfig)();\n      } else {\n        r = i0.ɵɵinject(Config);\n      }\n      return r;\n    },\n    providedIn: 'root'\n  });\n  return SkipLinkConfig;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nclass SkipLink {}\nvar SkipLinkScrollPosition = /*#__PURE__*/(() => {\n  (function (SkipLinkScrollPosition) {\n    SkipLinkScrollPosition[\"BEFORE\"] = \"BEFORE\";\n    SkipLinkScrollPosition[\"AFTER\"] = \"AFTER\";\n  })(SkipLinkScrollPosition || (SkipLinkScrollPosition = {}));\n  return SkipLinkScrollPosition;\n})();\nlet SkipLinkService = /*#__PURE__*/(() => {\n  class SkipLinkService {\n    constructor(config, keyboardFocusService) {\n      this.config = config;\n      this.keyboardFocusService = keyboardFocusService;\n      this.skipLinks$ = new BehaviorSubject([]);\n    }\n    getSkipLinks() {\n      return this.skipLinks$;\n    }\n    add(key, target) {\n      const found = this.config.skipLinks.find(skipLink => skipLink.key === key);\n      if (found) {\n        const existing = this.skipLinks$.value;\n        existing.splice(this.getSkipLinkIndexInArray(key), 0, {\n          target,\n          i18nKey: found.i18nKey,\n          position: found.position,\n          key\n        });\n        this.skipLinks$.next(existing);\n      }\n    }\n    remove(key) {\n      const found = this.config.skipLinks.find(skipLink => skipLink.key === key);\n      if (found) {\n        let existing = this.skipLinks$.value;\n        existing = existing.filter(skipLink => skipLink.key !== key);\n        this.skipLinks$.next(existing);\n      }\n    }\n    scrollToTarget(skipLink) {\n      const target = skipLink.target instanceof HTMLElement ? skipLink.target : skipLink.target.parentElement;\n      // focus first focusable element in the\n      const firstFocusable = this.keyboardFocusService.findFirstFocusable(target) || target;\n      // we force a tabindex if not available, to ensure we can focus into the element\n      const hasTabindex = firstFocusable.hasAttribute('tabindex');\n      if (!hasTabindex) {\n        firstFocusable.setAttribute('tabindex', '-1');\n      }\n      firstFocusable.focus();\n      // drop the tmp tabindex\n      if (!hasTabindex) {\n        firstFocusable.removeAttribute('tabindex');\n      }\n    }\n    getSkipLinkIndexInArray(key) {\n      let index = this.config.skipLinks.findIndex(skipLink => skipLink.key === key);\n      while (index > 0) {\n        index--;\n        const previous = this.config.skipLinks[index];\n        if (previous) {\n          const existing = this.skipLinks$.value;\n          const found = existing.findIndex(skipLink => skipLink.key === previous.key);\n          if (found > -1) {\n            return found + 1;\n          }\n        }\n      }\n      return 0;\n    }\n  }\n  SkipLinkService.ɵfac = function SkipLinkService_Factory(t) {\n    return new (t || SkipLinkService)(i0.ɵɵinject(SkipLinkConfig), i0.ɵɵinject(KeyboardFocusService));\n  };\n  SkipLinkService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: SkipLinkService,\n    factory: SkipLinkService.ɵfac,\n    providedIn: 'root'\n  });\n  return SkipLinkService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet SkipLinkComponent = /*#__PURE__*/(() => {\n  class SkipLinkComponent {\n    constructor(skipLinkService) {\n      this.skipLinkService = skipLinkService;\n      this.skipLinks$ = this.skipLinkService.getSkipLinks();\n    }\n    scrollToTarget(skipLink) {\n      this.skipLinkService.scrollToTarget(skipLink);\n    }\n  }\n  SkipLinkComponent.ɵfac = function SkipLinkComponent_Factory(t) {\n    return new (t || SkipLinkComponent)(i0.ɵɵdirectiveInject(SkipLinkService));\n  };\n  SkipLinkComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: SkipLinkComponent,\n    selectors: [[\"cx-skip-link\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[3, \"cxFocus\", 4, \"ngIf\"], [3, \"cxFocus\"], [3, \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"click\"]],\n    template: function SkipLinkComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, SkipLinkComponent_div_0_Template, 2, 3, \"div\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.skipLinks$));\n      }\n    },\n    directives: [i3.NgIf, FocusDirective, i3.NgForOf],\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return SkipLinkComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst defaultSkipLinkConfig = {\n  skipLinks: [{\n    key: 'cx-header',\n    i18nKey: 'skipLink.labels.header'\n  }, {\n    key: 'cx-main',\n    i18nKey: 'skipLink.labels.main'\n  }, {\n    key: 'cx-footer',\n    i18nKey: 'skipLink.labels.footer'\n  }]\n};\nlet SkipLinkDirective = /*#__PURE__*/(() => {\n  class SkipLinkDirective {\n    constructor(elementRef, skipLinkService) {\n      this.elementRef = elementRef;\n      this.skipLinkService = skipLinkService;\n    }\n    ngOnInit() {\n      this.skipLinkService.add(this.cxSkipLink, this.elementRef.nativeElement);\n    }\n    ngOnDestroy() {\n      this.skipLinkService.remove(this.cxSkipLink);\n    }\n  }\n  SkipLinkDirective.ɵfac = function SkipLinkDirective_Factory(t) {\n    return new (t || SkipLinkDirective)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(SkipLinkService));\n  };\n  SkipLinkDirective.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n    type: SkipLinkDirective,\n    selectors: [[\"\", \"cxSkipLink\", \"\"]],\n    inputs: {\n      cxSkipLink: \"cxSkipLink\"\n    }\n  });\n  return SkipLinkDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet SkipLinkModule = /*#__PURE__*/(() => {\n  class SkipLinkModule {}\n  SkipLinkModule.ɵfac = function SkipLinkModule_Factory(t) {\n    return new (t || SkipLinkModule)();\n  };\n  SkipLinkModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: SkipLinkModule\n  });\n  SkipLinkModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig(defaultSkipLinkConfig), {\n      provide: APP_INITIALIZER,\n      useFactory: skipLinkFactory,\n      deps: [ComponentFactoryResolver, OutletService],\n      multi: true\n    }],\n    imports: [[CommonModule, I18nModule, ConfigModule.withConfig(defaultSkipLinkConfig), KeyboardFocusModule]]\n  });\n  return SkipLinkModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n/**\n * Adds the skip link component before the cx-storefront.\n */\nfunction skipLinkFactory(componentFactoryResolver, outletService) {\n  const isReady = () => {\n    const factory = componentFactoryResolver.resolveComponentFactory(SkipLinkComponent);\n    outletService.add('cx-storefront', factory, OutletPosition.BEFORE);\n  };\n  return isReady;\n}\nconst defaultLayoutConfig = {\n  breakpoints: {\n    xs: 576,\n    sm: 768,\n    md: 992,\n    lg: 1200,\n    xl: {\n      min: 1200\n    }\n  }\n};\n\n/**\n * The direction config provides an easy way to configure \"ltr\" versus \"rtl\" direction\n * for the storefront. The direction can be configured to detect the direction by language.\n *\n * The following configuration detects rtl languages by isoCode for Arabic and Hebrew:\n *\n * ```typescript\n * direction: {\n *   detect: true,\n *   default: DirectionMode.LTR,\n *   rtlLanguages: ['ar', 'he']\n * }\n * ```\n */\nlet DirectionConfig = /*#__PURE__*/(() => {\n  class DirectionConfig {}\n  DirectionConfig.ɵfac = function DirectionConfig_Factory(t) {\n    return new (t || DirectionConfig)();\n  };\n  DirectionConfig.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: DirectionConfig,\n    factory: function DirectionConfig_Factory(t) {\n      let r = null;\n      if (t) {\n        r = new (t || DirectionConfig)();\n      } else {\n        r = i0.ɵɵinject(Config);\n      }\n      return r;\n    },\n    providedIn: 'root'\n  });\n  return DirectionConfig;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst defaultDirectionConfig = {\n  direction: {\n    detect: true,\n    default: DirectionMode.LTR,\n    // we're not polluting the system with all defaults for ltr, but add 2 common used\n    // languages (hebrew and arabic) to easily demo directionality\n    // see https://meta.wikimedia.org/wiki/Template:List_of_language_names_ordered_by_code\n    rtlLanguages: ['he', 'ar']\n  }\n};\n\n/**\n * The `DirectionService` can be used to add the direction to the overall storefront or individual elements.\n * By default, the direction is added to the `html` element (i.e. `<html dir=\"ltr\">`). The API of this service\n * does however provide methods to add direction to individual elements if needed.\n *\n * The direction is configurable and allows for language driven direction configuration.\n *\n * To react to the active language, the service subscribes to the active language in the initialize method. This\n * is called from an APP_INITIALIZER method and should only happen once.\n */\nlet DirectionService = /*#__PURE__*/(() => {\n  class DirectionService {\n    constructor(configInit, languageService, winRef) {\n      this.configInit = configInit;\n      this.languageService = languageService;\n      this.winRef = winRef;\n      this.startsDetecting = false;\n      this.subscription = new Subscription();\n    }\n    /**\n     * Initializes the layout direction for the storefront.\n     */\n    initialize() {\n      return this.configInit.getStable('direction').pipe(tap(config => {\n        var _a, _b;\n        this.config = config === null || config === void 0 ? void 0 : config.direction;\n        if ((_a = this.config) === null || _a === void 0 ? void 0 : _a.detect) {\n          this.detect();\n        } else {\n          this.setDirection(this.winRef.document.documentElement, (_b = this.config) === null || _b === void 0 ? void 0 : _b.default);\n        }\n      })).toPromise();\n    }\n    /**\n     * Observes the _active_ language and set the required direction for the given language.\n     * The method is guarded to ensure that the active language is observed only once.\n     */\n    detect() {\n      if (this.startsDetecting) {\n        return;\n      }\n      this.subscription.add(this.languageService.getActive().subscribe(isoCode => this.setDirection(this.winRef.document.documentElement, this.getDirection(isoCode))));\n      this.startsDetecting = true;\n    }\n    /**\n     * Sets the direction attribute for the given element. If the direction is undefined, the `dir`\n     * attribute is removed.\n     */\n    setDirection(el, direction) {\n      if (direction) {\n        el.setAttribute('dir', direction);\n      } else {\n        el.removeAttribute('dir');\n      }\n    }\n    /**\n     * Gets the `DirectionMode` for the given language isoCode. The language isoCode is compared\n     * to the configured list of languages(`direction.rtlLanguages` vs `direction.ltrLanguages`).\n     *\n     * If no language is given, or no language mapping could be found, we fallback to the default\n     * `direction.mode`.\n     */\n    getDirection(language) {\n      var _a, _b, _c, _d, _e;\n      if (language && ((_b = (_a = this.config) === null || _a === void 0 ? void 0 : _a.rtlLanguages) === null || _b === void 0 ? void 0 : _b.includes(language))) {\n        return DirectionMode.RTL;\n      }\n      if (language && ((_d = (_c = this.config) === null || _c === void 0 ? void 0 : _c.ltrLanguages) === null || _d === void 0 ? void 0 : _d.includes(language))) {\n        return DirectionMode.LTR;\n      }\n      return (_e = this.config) === null || _e === void 0 ? void 0 : _e.default;\n    }\n    ngOnDestroy() {\n      // Cleans up the subscription, to avoid memory leaks in SSR.\n      this.subscription.unsubscribe();\n    }\n  }\n  DirectionService.ɵfac = function DirectionService_Factory(t) {\n    return new (t || DirectionService)(i0.ɵɵinject(i1.ConfigInitializerService), i0.ɵɵinject(i1.LanguageService), i0.ɵɵinject(i1.WindowRef));\n  };\n  DirectionService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: DirectionService,\n    factory: DirectionService.ɵfac,\n    providedIn: 'root'\n  });\n  return DirectionService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction initHtmlDirAttribute(directionService, featureConfigService) {\n  const result = () => {\n    if (featureConfigService.isLevel('2.1')) {\n      return directionService.initialize();\n    }\n  };\n  return result;\n}\n/**\n * Provides a configuration and APP_INITIALIZER to add the correct (language drive) html direction.\n */\nlet DirectionModule = /*#__PURE__*/(() => {\n  class DirectionModule {}\n  DirectionModule.ɵfac = function DirectionModule_Factory(t) {\n    return new (t || DirectionModule)();\n  };\n  DirectionModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: DirectionModule\n  });\n  DirectionModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [{\n      provide: APP_INITIALIZER,\n      multi: true,\n      useFactory: initHtmlDirAttribute,\n      deps: [DirectionService, FeatureConfigService]\n    }, provideDefaultConfig(defaultDirectionConfig)]\n  });\n  return DirectionModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet HamburgerMenuComponent = /*#__PURE__*/(() => {\n  class HamburgerMenuComponent {\n    constructor(hamburgerMenuService) {\n      this.hamburgerMenuService = hamburgerMenuService;\n    }\n    toggle() {\n      this.hamburgerMenuService.toggle();\n    }\n    get isExpanded() {\n      return this.hamburgerMenuService.isExpanded;\n    }\n  }\n  HamburgerMenuComponent.ɵfac = function HamburgerMenuComponent_Factory(t) {\n    return new (t || HamburgerMenuComponent)(i0.ɵɵdirectiveInject(HamburgerMenuService));\n  };\n  HamburgerMenuComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: HamburgerMenuComponent,\n    selectors: [[\"cx-hamburger-menu\"]],\n    decls: 6,\n    vars: 10,\n    consts: [[\"type\", \"button\", \"aria-controls\", \"header-account-container, header-categories-container, header-locale-container\", 1, \"cx-hamburger\", 3, \"click\"], [1, \"hamburger-box\"], [1, \"hamburger-inner\"]],\n    template: function HamburgerMenuComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"button\", 0);\n        i0.ɵɵlistener(\"click\", function HamburgerMenuComponent_Template_button_click_0_listener() {\n          return ctx.toggle();\n        });\n        i0.ɵɵpipe(1, \"async\");\n        i0.ɵɵpipe(2, \"async\");\n        i0.ɵɵpipe(3, \"cxTranslate\");\n        i0.ɵɵelementStart(4, \"span\", 1);\n        i0.ɵɵelement(5, \"span\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"is-active\", i0.ɵɵpipeBind1(1, 4, ctx.isExpanded));\n        i0.ɵɵattribute(\"aria-expanded\", i0.ɵɵpipeBind1(2, 6, ctx.isExpanded))(\"aria-label\", i0.ɵɵpipeBind1(3, 8, \"common.menu\"));\n      }\n    },\n    pipes: [i3.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2,\n    changeDetection: 0\n  });\n  return HamburgerMenuComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet HamburgerMenuModule = /*#__PURE__*/(() => {\n  class HamburgerMenuModule {}\n  HamburgerMenuModule.ɵfac = function HamburgerMenuModule_Factory(t) {\n    return new (t || HamburgerMenuModule)();\n  };\n  HamburgerMenuModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: HamburgerMenuModule\n  });\n  HamburgerMenuModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig({\n      cmsComponents: {\n        HamburgerMenuComponent: {\n          component: HamburgerMenuComponent\n        }\n      }\n    })],\n    imports: [[CommonModule, I18nModule]]\n  });\n  return HamburgerMenuModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet ThemeService = /*#__PURE__*/(() => {\n  class ThemeService {\n    constructor(config, rendererFactory) {\n      this.config = config;\n      this.rendererFactory = rendererFactory;\n    }\n    /**\n     * This function is to be called for the root component that is\n     * bootstrapped.\n     */\n    init(rootComponent) {\n      var _a;\n      this.renderer = this.rendererFactory.createRenderer(null, null);\n      this.rootComponent = rootComponent;\n      // Theme value is a string. It is put in the generic multi-value\n      // property of the SiteContextConfig. So the array's first item\n      // is the theme value.\n      this.setTheme((_a = this.config.context[THEME_CONTEXT_ID]) === null || _a === void 0 ? void 0 : _a[0]);\n    }\n    setTheme(theme) {\n      if (theme) {\n        const element = this.rootComponent.location.nativeElement;\n        // remove the old theme\n        this.renderer.removeClass(element, this.existingTheme);\n        // add the new theme\n        this.renderer.addClass(element, theme);\n        this.existingTheme = theme;\n      }\n    }\n  }\n  ThemeService.ɵfac = function ThemeService_Factory(t) {\n    return new (t || ThemeService)(i0.ɵɵinject(i1.SiteContextConfig), i0.ɵɵinject(i0.RendererFactory2));\n  };\n  ThemeService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: ThemeService,\n    factory: ThemeService.ɵfac,\n    providedIn: 'root'\n  });\n  return ThemeService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction initTheme(themeService) {\n  const result = component => themeService.init(component);\n  return result;\n}\nlet ThemeModule = /*#__PURE__*/(() => {\n  class ThemeModule {}\n  ThemeModule.ɵfac = function ThemeModule_Factory(t) {\n    return new (t || ThemeModule)();\n  };\n  ThemeModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: ThemeModule\n  });\n  ThemeModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [{\n      provide: APP_BOOTSTRAP_LISTENER,\n      multi: true,\n      useFactory: initTheme,\n      deps: [ThemeService]\n    }]\n  });\n  return ThemeModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet LayoutModule = /*#__PURE__*/(() => {\n  class LayoutModule {}\n  LayoutModule.ɵfac = function LayoutModule_Factory(t) {\n    return new (t || LayoutModule)();\n  };\n  LayoutModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: LayoutModule\n  });\n  LayoutModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideConfig(defaultLayoutConfig)],\n    imports: [[OutletRefModule, LaunchDialogModule.forRoot(), DirectionModule, ThemeModule], OutletRefModule]\n  });\n  return LayoutModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nvar StorefrontOutlets = /*#__PURE__*/(() => {\n  (function (StorefrontOutlets) {\n    StorefrontOutlets[\"STOREFRONT\"] = \"cx-storefront\";\n  })(StorefrontOutlets || (StorefrontOutlets = {}));\n  return StorefrontOutlets;\n})();\nlet StorefrontComponent = /*#__PURE__*/(() => {\n  class StorefrontComponent {\n    constructor(hamburgerMenuService, routingService, elementRef, keyboardFocusService) {\n      this.hamburgerMenuService = hamburgerMenuService;\n      this.routingService = routingService;\n      this.elementRef = elementRef;\n      this.keyboardFocusService = keyboardFocusService;\n      this.isExpanded$ = this.hamburgerMenuService.isExpanded;\n      this.StorefrontOutlets = StorefrontOutlets;\n      // required by esc focus\n      this.tabindex = '0';\n      this.keyboardFocusConfig = {\n        focusOnEscape: true,\n        focusOnDoubleEscape: true\n      };\n    }\n    handleEscape(event) {\n      this.keyboardFocusService.handleEscape(this.elementRef.nativeElement, this.keyboardFocusConfig, event);\n    }\n    ngOnInit() {\n      this.navigateSubscription = this.routingService.isNavigating().subscribe(val => {\n        this.startNavigating = val === true;\n        this.stopNavigating = val === false;\n      });\n    }\n    collapseMenuIfClickOutside(event) {\n      const element = event.target;\n      if (element.nodeName.toLowerCase() === 'header' && element.className.includes('is-expanded')) {\n        this.collapseMenu();\n      }\n    }\n    collapseMenu() {\n      this.hamburgerMenuService.toggle(true);\n    }\n    ngOnDestroy() {\n      if (this.navigateSubscription) {\n        this.navigateSubscription.unsubscribe();\n      }\n    }\n  }\n  StorefrontComponent.ɵfac = function StorefrontComponent_Factory(t) {\n    return new (t || StorefrontComponent)(i0.ɵɵdirectiveInject(HamburgerMenuService), i0.ɵɵdirectiveInject(i1.RoutingService), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(KeyboardFocusService));\n  };\n  StorefrontComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: StorefrontComponent,\n    selectors: [[\"cx-storefront\"]],\n    viewQuery: function StorefrontComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(SkipLinkComponent, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.child = _t.first);\n      }\n    },\n    hostVars: 5,\n    hostBindings: function StorefrontComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"keydown.escape\", function StorefrontComponent_keydown_escape_HostBindingHandler($event) {\n          return ctx.handleEscape($event);\n        });\n      }\n      if (rf & 2) {\n        i0.ɵɵhostProperty(\"tabindex\", ctx.tabindex);\n        i0.ɵɵclassProp(\"start-navigating\", ctx.startNavigating)(\"stop-navigating\", ctx.stopNavigating);\n      }\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[\"cxPageTemplateStyle\", \"\", 3, \"cxOutlet\"], [\"cxOutlet\", \"cx-header\"], [\"cxSkipLink\", \"cx-main\", 3, \"cxFocus\"], [\"cxOutlet\", \"cx-footer\"], [\"cxSkipLink\", \"cx-header\", 3, \"cxFocus\", \"keydown.escape\", \"click\"], [\"section\", \"header\"], [\"section\", \"navigation\"], [\"position\", \"BottomHeaderSlot\"], [\"aria-atomic\", \"true\", \"aria-live\", \"assertive\"], [\"cxSkipLink\", \"cx-footer\", 3, \"cxFocus\"], [\"section\", \"footer\"]],\n    template: function StorefrontComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, StorefrontComponent_ng_template_0_Template, 4, 2, \"ng-template\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"cxOutlet\", ctx.StorefrontOutlets.STOREFRONT);\n      }\n    },\n    directives: [PageTemplateDirective, OutletDirective, SkipLinkDirective, FocusDirective, i1$1.RouterOutlet, PageLayoutComponent, PageSlotComponent, GlobalMessageComponent],\n    pipes: [i3.AsyncPipe],\n    encapsulation: 2\n  });\n  return StorefrontComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet StorefrontComponentModule = /*#__PURE__*/(() => {\n  class StorefrontComponentModule {}\n  StorefrontComponentModule.ɵfac = function StorefrontComponentModule_Factory(t) {\n    return new (t || StorefrontComponentModule)();\n  };\n  StorefrontComponentModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: StorefrontComponentModule\n  });\n  StorefrontComponentModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, RouterModule, GlobalMessageComponentModule, OutletModule, OutletRefModule, PageLayoutModule, PageSlotModule, KeyboardFocusModule, SkipLinkModule]]\n  });\n  return StorefrontComponentModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst mediaConfig = {\n  mediaFormats: {\n    mobile: {\n      width: 400\n    },\n    tablet: {\n      width: 770\n    },\n    desktop: {\n      width: 1140\n    },\n    widescreen: {\n      width: 1400\n    },\n    // product media\n    cartIcon: {\n      width: 65\n    },\n    thumbnail: {\n      width: 96\n    },\n    product: {\n      width: 284\n    },\n    zoom: {\n      width: 515\n    }\n  }\n};\n\n/**\n * The layout configuration is used to define the overall layout of the storefront.\n * The configuration includes the following aspects:\n * - breakpoint layout (AKA screen layout)\n * - Page sections slot configuration (i.e. header vs footer)\n * - page template slot configuration (i.e. landing page template vs PDP page template)\n * - deferred loading configuration\n *\n * The page slot configurations is directly related to the data in the backend. If you use the\n * Spartacus sample-data, you will have an aligned setup. However, if you introduce custom page\n * templates and/or slots, you most likely need to further adjust or replace this configuration.\n */\nconst layoutConfig = {\n  // deferredLoading: {\n  //   strategy: DeferLoadingStrategy.DEFER,\n  //   intersectionMargin: '50px',\n  // },\n  layoutSlots: {\n    header: {\n      lg: {\n        slots: ['PreHeader', 'SiteContext', 'SiteLinks', 'SiteLogo', 'SearchBox', 'SiteLogin', 'MiniCart', 'NavigationBar']\n      },\n      slots: ['PreHeader', 'SiteLogo', 'SearchBox', 'MiniCart']\n    },\n    navigation: {\n      lg: {\n        slots: []\n      },\n      slots: ['SiteLogin', 'NavigationBar', 'SiteContext', 'SiteLinks']\n    },\n    footer: {\n      slots: ['Footer']\n    },\n    LandingPage2Template: {\n      pageFold: 'Section2B',\n      slots: ['Section1', 'Section2A', 'Section2B', 'Section2C', 'Section3', 'Section4', 'Section5']\n    },\n    ContentPage1Template: {\n      slots: ['Section2A', 'Section2B']\n    },\n    CategoryPageTemplate: {\n      pageFold: 'Section2',\n      slots: ['Section1', 'Section2', 'Section3']\n    },\n    ProductListPageTemplate: {\n      slots: ['ProductLeftRefinements', 'ProductListSlot']\n    },\n    ProductGridPageTemplate: {\n      slots: ['ProductLeftRefinements', 'ProductGridSlot']\n    },\n    SearchResultsListPageTemplate: {\n      slots: ['Section2', 'ProductLeftRefinements', 'SearchResultsListSlot', 'Section4']\n    },\n    SearchResultsGridPageTemplate: {\n      slots: ['Section2', 'ProductLeftRefinements', 'SearchResultsGridSlot', 'Section4']\n    },\n    ProductDetailsPageTemplate: {\n      lg: {\n        pageFold: 'UpSelling'\n      },\n      pageFold: 'Summary',\n      slots: ['Summary', 'UpSelling', 'CrossSelling', 'Tabs', 'PlaceholderContentSlot']\n    },\n    CartPageTemplate: {\n      slots: ['TopContent', 'CenterRightContentSlot', 'EmptyCartMiddleContent']\n    },\n    AccountPageTemplate: {\n      slots: ['BodyContent', 'SideContent']\n    },\n    LoginPageTemplate: {\n      slots: ['LeftContentSlot', 'RightContentSlot']\n    },\n    ErrorPageTemplate: {\n      slots: ['TopContent', 'MiddleContent', 'BottomContent']\n    },\n    OrderConfirmationPageTemplate: {\n      slots: ['BodyContent', 'SideContent']\n    },\n    MultiStepCheckoutSummaryPageTemplate: {\n      slots: ['TopContent', 'BodyContent', 'SideContent', 'BottomContent']\n    },\n    CheckoutLoginPageTemplate: {\n      slots: ['RightContentSlot']\n    }\n  }\n};\nconst defaultCmsContentProviders = [provideCmsStructure({\n  componentId: 'HamburgerMenuComponent',\n  pageSlotPosition: 'PreHeader'\n}), provideCmsStructure({\n  componentId: 'LoginComponent',\n  pageSlotPosition: 'SiteLogin'\n})];\nconst defaultOnNavigateConfig = {\n  enableResetViewOnNavigate: {\n    active: true,\n    ignoreQueryString: false,\n    ignoreRoutes: []\n  }\n};\nlet OnNavigateConfig = /*#__PURE__*/(() => {\n  class OnNavigateConfig {}\n  OnNavigateConfig.ɵfac = function OnNavigateConfig_Factory(t) {\n    return new (t || OnNavigateConfig)();\n  };\n  OnNavigateConfig.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: OnNavigateConfig,\n    factory: function OnNavigateConfig_Factory(t) {\n      let r = null;\n      if (t) {\n        r = new (t || OnNavigateConfig)();\n      } else {\n        r = i0.ɵɵinject(Config);\n      }\n      return r;\n    },\n    providedIn: 'root'\n  });\n  return OnNavigateConfig;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet OnNavigateService = /*#__PURE__*/(() => {\n  class OnNavigateService {\n    constructor(config, router, viewportScroller, injector) {\n      this.config = config;\n      this.router = router;\n      this.viewportScroller = viewportScroller;\n      this.injector = injector;\n    }\n    get hostComponent() {\n      var _a, _b;\n      return (_b = (_a = this.injector.get(ApplicationRef)) === null || _a === void 0 ? void 0 : _a.components) === null || _b === void 0 ? void 0 : _b[0];\n    }\n    /**\n     * Reads configuration and enables features based on flags set.\n     */\n    initializeWithConfig() {\n      var _a, _b;\n      if ((_b = (_a = this.config) === null || _a === void 0 ? void 0 : _a.enableResetViewOnNavigate) === null || _b === void 0 ? void 0 : _b.active) {\n        this.setResetViewOnNavigate(this.config.enableResetViewOnNavigate.active);\n      }\n    }\n    /**\n     * Resets view back to the original position when performing a back navigation and to the top when performing a front navigation\n     * and sets the focus back to the top of the page before skiplinks for any type of navigation\n     * @param enable Enable or disable this feature\n     */\n    setResetViewOnNavigate(enable) {\n      var _a;\n      (_a = this.subscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n      if (enable) {\n        this.subscription = this.router.events.pipe(filter(event => event instanceof Scroll), pairwise()).subscribe(event => {\n          var _a, _b, _c;\n          const previousRoute = event[0];\n          const currentRoute = event[1];\n          if (currentRoute.position) {\n            // allow the pages to be repainted before scrolling to proper position\n            setTimeout(() => this.viewportScroller.scrollToPosition(currentRoute.position));\n          } else {\n            if (((_a = this.config.enableResetViewOnNavigate) === null || _a === void 0 ? void 0 : _a.ignoreQueryString) && this.isPathEqual(previousRoute, currentRoute)) {\n              return;\n            }\n            if (this.isChildRoute(currentRoute)) {\n              return;\n            }\n            setTimeout(() => this.viewportScroller.scrollToPosition([0, 0]), 100);\n          }\n          (_c = (_b = this.hostComponent) === null || _b === void 0 ? void 0 : _b.location) === null || _c === void 0 ? void 0 : _c.nativeElement.focus();\n        });\n      }\n    }\n    /**\n     * Verifies if the current route is a child route from the given ignore config route\n     *\n     * @param route\n     * @returns boolean whether the route is a child route\n     */\n    isChildRoute(route) {\n      var _a, _b, _c;\n      return (_c = (_b = (_a = this.config.enableResetViewOnNavigate) === null || _a === void 0 ? void 0 : _a.ignoreRoutes) === null || _b === void 0 ? void 0 : _b.some(configRoute => route.routerEvent.urlAfterRedirects.split('/').includes(configRoute))) !== null && _c !== void 0 ? _c : false;\n    }\n    /**\n     * Verifies if the previous and current route are the same without the query string\n     *\n     * @param previousRoute\n     * @param currentRoute\n     * @returns boolean depending on the previous and current route are equal without the query strings\n     */\n    isPathEqual(previousRoute, currentRoute) {\n      return previousRoute.routerEvent.urlAfterRedirects.split('?')[0] === currentRoute.routerEvent.urlAfterRedirects.split('?')[0];\n    }\n  }\n  OnNavigateService.ɵfac = function OnNavigateService_Factory(t) {\n    return new (t || OnNavigateService)(i0.ɵɵinject(OnNavigateConfig), i0.ɵɵinject(i1$1.Router), i0.ɵɵinject(i3.ViewportScroller), i0.ɵɵinject(i0.Injector));\n  };\n  OnNavigateService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: OnNavigateService,\n    factory: OnNavigateService.ɵfac,\n    providedIn: 'root'\n  });\n  return OnNavigateService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AppRoutingModule = /*#__PURE__*/(() => {\n  class AppRoutingModule {}\n  AppRoutingModule.ɵfac = function AppRoutingModule_Factory(t) {\n    return new (t || AppRoutingModule)();\n  };\n  AppRoutingModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: AppRoutingModule\n  });\n  AppRoutingModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideDefaultConfig(defaultOnNavigateConfig), {\n      provide: APP_INITIALIZER,\n      useFactory: onNavigateFactory,\n      deps: [OnNavigateService],\n      multi: true\n    }],\n    imports: [[RouterModule.forRoot([], {\n      anchorScrolling: 'enabled',\n      relativeLinkResolution: 'corrected',\n      initialNavigation: 'enabled'\n    })]]\n  });\n  return AppRoutingModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nfunction onNavigateFactory(onNavigateService) {\n  const isReady = () => onNavigateService.initializeWithConfig();\n  return isReady;\n}\n\n/**\n * Utils for Angular forms\n */\nvar FormUtils;\n(function (FormUtils) {\n  /**\n   * Calls the native Angular method `#updateValueAndValidity` for the given from control\n   * and all its descendants (in case when it's `FormGroup` or `FormArray`).\n   *\n   * In particular it's useful for triggering re-emission of observables\n   * `valueChanges` and `statusChanges` for all descendant form controls.\n   *\n   * _Note: Dropping this function may be considered, when it's implemented natively\n   * by Angular. See https://github.com/angular/angular/issues/6170_\n   *\n   * @param control form control\n   * @param options additional options\n   * * `emitEvent`: When true or not given (the default), the `statusChanges` and\n   * `valueChanges` observables emit the latest status and value. When false,\n   * it doesn't trigger observables emission.\n   */\n  function deepUpdateValueAndValidity(control, options = {}) {\n    if (control instanceof FormGroup || control instanceof FormArray) {\n      Object.values(control.controls).forEach(childControl => {\n        deepUpdateValueAndValidity(childControl, options);\n      });\n    }\n    control.updateValueAndValidity({\n      onlySelf: true,\n      emitEvent: options.emitEvent\n    });\n  }\n  FormUtils.deepUpdateValueAndValidity = deepUpdateValueAndValidity;\n})(FormUtils || (FormUtils = {}));\nlet BaseStorefrontModule = /*#__PURE__*/(() => {\n  class BaseStorefrontModule {}\n  BaseStorefrontModule.ɵfac = function BaseStorefrontModule_Factory(t) {\n    return new (t || BaseStorefrontModule)();\n  };\n  BaseStorefrontModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: BaseStorefrontModule\n  });\n  BaseStorefrontModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    imports: [[BaseCoreModule.forRoot(), RouterModule, GlobalMessageComponentModule, OutletModule, OutletRefModule, PwaModule, PageLayoutModule, SeoModule, PageComponentModule.forRoot(), PageSlotModule, SkipLinkModule, KeyboardFocusModule, LayoutModule, RoutingModule.forRoot(), MediaModule.forRoot(), OutletModule.forRoot(), StorefrontComponentModule], LayoutModule, StorefrontComponentModule]\n  });\n  return BaseStorefrontModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/*\n * Public API Surface of storefrontlib\n */\n/** AUGMENTABLE_TYPES_END */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AVOID_STACKED_OUTLETS, ActiveCartOrderEntriesContext, ActiveFacetsComponent, ActiveFacetsModule, AddToCartComponent, AddToCartModule, AddToHomeScreenBannerComponent, AddToHomeScreenBtnComponent, AddToHomeScreenComponent, AddToHomeScreenService, AddToWishListComponent, AddToWishListModule, AddedToCartDialogComponent, AddressBookComponent, AddressBookComponentService, AddressBookModule, AddressFormComponent, AddressFormModule, AmendOrderActionsComponent, AmendOrderActionsModule, AmendOrderItemsModule, AmendOrderType, AnonymousConsentDialogComponent, AnonymousConsentManagementBannerComponent, AnonymousConsentManagementBannerModule, AnonymousConsentOpenDialogComponent, AnonymousConsentsDialogModule, AppRoutingModule, AppliedCouponsComponent, BREAKPOINT, BannerCarouselComponent, BannerCarouselModule, BannerComponent, BannerModule, BaseStorefrontModule, BreadcrumbComponent, BreadcrumbModule, BreadcrumbSchemaBuilder, BreakpointService, CancelOrReturnItemsComponent, CancelOrderComponent, CancelOrderConfirmationComponent, CancelOrderConfirmationModule, CancelOrderModule, CardComponent, CardModule, CarouselComponent, CarouselModule, CarouselService, CartComponentModule, CartCouponComponent, CartCouponModule, CartDetailsComponent, CartDetailsModule, CartItemComponent, CartItemContext, CartItemContextSource, CartItemListComponent, CartOrderEntriesContext, CartOutlets, CartPageEvent, CartPageEventBuilder, CartPageEventModule, CartPageLayoutHandler, CartSharedModule, CartTotalsComponent, CartTotalsModule, CartValidationComponentsModule, CartValidationGuard, CartValidationStateService, CartValidationWarningsComponent, CartValidationWarningsModule, CategoryNavigationComponent, CategoryNavigationModule, CategoryPageResultsEvent, CmsComponentData, CmsComponentsService, CmsFeaturesService, CmsGuardsService, CmsI18nService, CmsInjectorService, CmsPageGuard, CmsPageGuardService, CmsParagraphModule, CmsRouteModule, CmsRoutesService, ComponentCreateEvent, ComponentDestroyEvent, ComponentEvent, ComponentHandler, ComponentHandlerService, ComponentWrapperDirective, ConsentManagementComponent, ConsentManagementFormComponent, ConsentManagementModule, ConsignmentTrackingComponent, ContextService, CouponCardComponent, CouponClaimComponent, CouponDialogComponent, CurrentProductService, CustomFormValidators, DIALOG_TYPE, DatePickerComponent, DatePickerModule, DatePickerService, DefaultComponentHandler, DeferLoaderService, DirectionConfig, DirectionMode, DirectionModule, DirectionService, ExportCsvFileService, FacetComponent, FacetGroupCollapsedState, FacetListComponent, FacetListModule, FacetModule, FacetService, FileDownloadService, FileReaderService, FileUploadComponent, FileUploadModule, FilesFormValidators, FocusDirective, FooterNavigationComponent, FooterNavigationModule, FormErrorsComponent, FormErrorsModule, FormUtils, GenericLinkComponent, GenericLinkComponentService, GenericLinkModule, GlobalMessageComponent, GlobalMessageComponentModule, HamburgerMenuComponent, HamburgerMenuModule, HamburgerMenuService, HighlightPipe, HomePageEvent, HomePageEventBuilder, HomePageEventModule, ICON_TYPE, IconComponent, IconConfig, IconLoaderService, IconModule, IconResourceType, IconTestingModule, ImageLoadingStrategy, ImportCsvFileService, InlineRenderStrategy, InlineRootRenderStrategy, InnerComponentsHostDirective, IntersectionService, ItemCounterComponent, ItemCounterModule, JSONLD_PRODUCT_BUILDER, JsonLdBaseProductBuilder, JsonLdBuilderModule, JsonLdDirective, JsonLdProductOfferBuilder, JsonLdProductReviewBuilder, JsonLdScriptFactory, KeyboardFocusConfig, KeyboardFocusModule, KeyboardFocusService, KeyboardFocusTestingModule, LanguageCurrencyComponent, LaunchDialogModule, LaunchDialogService, LaunchRenderStrategy, LayoutConfig, LayoutModule, LazyComponentHandler, LinkComponent, LinkModule, ListNavigationModule, LoginGuard, LoginRouteModule, LogoutGuard, LogoutModule, MediaComponent, MediaConfig, MediaModule, MediaService, MessageComponent, MessageComponentModule, MiniCartComponent, MiniCartModule, MockIconComponent, MockIconLoaderService, MockKeyboardFocusDirective, ModalDirective, ModalDirectiveService, ModalModule, ModalRef, ModalService, MyCouponsComponent, MyCouponsModule, MyInterestsComponent, MyInterestsModule, NavigationComponent, NavigationEvent, NavigationEventBuilder, NavigationEventModule, NavigationModule, NavigationService, NavigationUIComponent, NotificationPreferenceComponent, NotificationPreferenceModule, ORDER_ENTRIES_CONTEXT, OnNavigateConfig, OnNavigateService, OrderAmendService, OrderCancellationGuard, OrderCancellationModule, OrderCancellationService, OrderConsignedEntriesComponent, OrderDetailActionsComponent, OrderDetailItemsComponent, OrderDetailShippingComponent, OrderDetailTotalsComponent, OrderDetailsModule, OrderDetailsService, OrderDetailsServiceTransitionalToken, OrderEntriesSource, OrderHistoryComponent, OrderHistoryModule, OrderModule, OrderOverviewComponent, OrderOverviewModule, OrderReturnGuard, OrderReturnModule, OrderReturnRequestListComponent, OrderReturnService, OrderSummaryComponent, OutletContextData, OutletDirective, OutletModule, OutletPosition, OutletRefDirective, OutletRefModule, OutletRenderStrategy, OutletRendererService, OutletService, PAGE_LAYOUT_HANDLER, PRODUCT_DETAILS_URL_MATCHER, PRODUCT_LISTING_URL_MATCHER, PWAModuleConfig, PageComponentModule, PageEvent, PageLayoutComponent, PageLayoutModule, PageLayoutService, PageMetaLinkService, PageSection, PageSlotComponent, PageSlotModule, PageSlotService, PageTemplateDirective, PageTitleComponent, PageTitleModule, PaginationBuilder, PaginationComponent, PaginationConfig, PaginationItemType, PaginationModule, PaginationNavigationPosition, ParagraphComponent, PaymentMethodsComponent, PaymentMethodsModule, PopoverComponent, PopoverDirective, PopoverEvent, PopoverModule, PopoverService, PositioningService, ProductAttributesComponent, ProductAttributesModule, ProductCarouselComponent, ProductCarouselModule, ProductCarouselService, ProductDetailOutlets, ProductDetailsPageEvent, ProductDetailsPageModule, ProductDetailsTabComponent, ProductDetailsTabModule, ProductFacetNavigationComponent, ProductFacetNavigationModule, ProductFacetService, ProductGridItemComponent, ProductImagesComponent, ProductImagesModule, ProductImportStatus, ProductIntroComponent, ProductIntroModule, ProductListComponent, ProductListComponentService, ProductListItemComponent, ProductListItemContext, ProductListItemContextSource, ProductListModule, ProductListOutlets, ProductListingPageModule, ProductPageEventBuilder, ProductPageEventModule, ProductReferencesComponent, ProductReferencesModule, ProductReviewsComponent, ProductReviewsModule, ProductSchemaBuilder, ProductScrollComponent, ProductSummaryComponent, ProductSummaryModule, ProductTabsModule, ProductViewComponent, ProgressButtonComponent, ProgressButtonModule, PromotionsComponent, PromotionsModule, PwaModule, ReplenishmentOrderCancellationComponent, ReplenishmentOrderCancellationDialogComponent, ReplenishmentOrderCancellationDialogModule, ReplenishmentOrderDetailsModule, ReplenishmentOrderDetailsService, ReplenishmentOrderHistoryComponent, ReplenishmentOrderHistoryModule, ReturnOrderComponent, ReturnOrderConfirmationComponent, ReturnOrderConfirmationModule, ReturnOrderModule, ReturnRequestDetailModule, ReturnRequestItemsComponent, ReturnRequestListModule, ReturnRequestOverviewComponent, ReturnRequestTotalsComponent, RoutingContextService, RoutingModule, RoutingRenderStrategy, SCHEMA_BUILDER, SaveForLaterComponent, SaveForLaterModule, SearchBoxComponent, SearchBoxComponentService, SearchBoxModule, SearchBoxProductSelectedEvent, SearchBoxSuggestionSelectedEvent, SearchPageResultsEvent, SelectFocusUtility, SeoMetaService, SeoModule, SiteContextComponentService, SiteContextSelectorComponent, SiteContextSelectorModule, SiteContextType, SkipLink, SkipLinkComponent, SkipLinkConfig, SkipLinkDirective, SkipLinkModule, SkipLinkScrollPosition, SkipLinkService, SortingComponent, SpinnerComponent, SpinnerModule, SplitViewComponent, SplitViewModule, SplitViewService, StarRatingComponent, StarRatingModule, StockNotificationComponent, StockNotificationDialogComponent, StockNotificationModule, StorefrontComponent, StorefrontComponentModule, StorefrontOutlets, StructuredDataModule, SuggestedAddressDialogComponent, SupplementHashAnchorsModule, SupplementHashAnchorsPipe, TabParagraphContainerComponent, TabParagraphContainerModule, TableComponent, TableConfig, TableDataCellComponent, TableDataCellModule, TableHeaderCellComponent, TableHeaderCellModule, TableLayout, TableModule, TableRendererService, TableService, ThemeModule, ThemeService, TrackingEventsComponent, TrapFocus, TruncatePipe, TruncateTextPopoverComponent, TruncateTextPopoverModule, USE_STACKED_OUTLETS, UserComponentModule, ViewComponent, ViewConfig, ViewModes, WishListComponent, WishListItemComponent, WishListModule, controlsMustMatch, defaultCmsContentProviders, defaultKeyboardFocusConfig, defaultLayoutConfig, defaultOnNavigateConfig, defaultPWAModuleConfig, defaultPaginationConfig, defaultReplenishmentOrderCancellationLayoutConfig, defaultSkipLinkConfig, defaultTableConfig, defaultViewConfig, fontawesomeIconConfig, getSuffixUrlMatcher, initSeoService, keyboardFocusFactory, layoutConfig, mediaConfig, onNavigateFactory, provideCmsStructure, provideOutlet, sortTitles, titleScores };\n//# sourceMappingURL=spartacus-storefront.js.map","map":null,"metadata":{},"sourceType":"module"}