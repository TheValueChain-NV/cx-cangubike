{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Output, Input, ElementRef, ViewChild, HostListener, NgModule } from '@angular/core';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as i3$1 from '@spartacus/core';\nimport { isNotNullable, I18nModule, provideConfig, provideDefaultConfig } from '@spartacus/core';\nimport * as i1 from '@spartacus/storefront';\nimport { ICON_TYPE, BREAKPOINT, DIALOG_TYPE, ProductImagesComponent, CarouselModule, IconModule, KeyboardFocusModule, MediaModule, OutletModule } from '@spartacus/storefront';\nimport { BehaviorSubject, Subscription, merge, combineLatest, fromEvent, of } from 'rxjs';\nimport { filter, map, switchMap, tap, distinctUntilChanged, shareReplay, switchMapTo } from 'rxjs/operators';\nfunction ProductImageZoomThumbnailsComponent_ng_container_0_cx_carousel_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-carousel\", 3);\n  }\n  if (rf & 2) {\n    const thumbs_r3 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(3);\n    i0.ɵɵproperty(\"items\", thumbs_r3)(\"hideIndicators\", false)(\"template\", _r1);\n  }\n}\nfunction ProductImageZoomThumbnailsComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductImageZoomThumbnailsComponent_ng_container_0_cx_carousel_1_Template, 1, 3, \"cx-carousel\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const thumbs_r3 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", thumbs_r3.length);\n  }\n}\nfunction ProductImageZoomThumbnailsComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"cx-media\", 4);\n    i0.ɵɵlistener(\"focus\", function ProductImageZoomThumbnailsComponent_ng_template_2_Template_cx_media_focus_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const item_r6 = restoredCtx.item;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.openImage(item_r6.container);\n    });\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r6 = ctx.item;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"is-active\", i0.ɵɵpipeBind1(1, 3, ctx_r2.isActive(item_r6.container)));\n    i0.ɵɵproperty(\"container\", item_r6.container);\n  }\n}\nconst _c0 = [\"defaultImage\"];\nconst _c1 = [\"zoomContainer\"];\nconst _c2 = [\"zoomedImage\"];\nfunction ProductImageZoomViewComponent_ng_container_0_div_1_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ProductImageZoomViewComponent_ng_container_0_div_1_button_2_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const previousProduct_r8 = restoredCtx.ngIf;\n      const ctx_r9 = i0.ɵɵnextContext(3);\n      return ctx_r9.openImage(previousProduct_r8.container);\n    });\n    i0.ɵɵelement(1, \"cx-icon\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"type\", ctx_r4.iconType.CARET_LEFT);\n  }\n}\nfunction ProductImageZoomViewComponent_ng_container_0_div_1_cx_media_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-media\", 10, 11);\n  }\n  if (rf & 2) {\n    const main_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵproperty(\"container\", main_r1);\n  }\n}\nfunction ProductImageZoomViewComponent_ng_container_0_div_1_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 12, 13);\n    i0.ɵɵelementStart(2, \"cx-media\", 14, 15);\n    i0.ɵɵlistener(\"mousemove\", function ProductImageZoomViewComponent_ng_container_0_div_1_div_5_Template_cx_media_mousemove_2_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(3);\n      return ctx_r15.pointerMove($event);\n    })(\"touchmove\", function ProductImageZoomViewComponent_ng_container_0_div_1_div_5_Template_cx_media_touchmove_2_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r17 = i0.ɵɵnextContext(3);\n      return ctx_r17.touchMove($event);\n    })(\"touchend\", function ProductImageZoomViewComponent_ng_container_0_div_1_div_5_Template_cx_media_touchend_2_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r18 = i0.ɵɵnextContext(3);\n      return ctx_r18.clearTouch();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const main_r1 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"container\", main_r1);\n  }\n}\nfunction ProductImageZoomViewComponent_ng_container_0_div_1_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function ProductImageZoomViewComponent_ng_container_0_div_1_button_7_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const nextProduct_r20 = restoredCtx.ngIf;\n      const ctx_r21 = i0.ɵɵnextContext(3);\n      return ctx_r21.openImage(nextProduct_r20.container);\n    });\n    i0.ɵɵelement(1, \"cx-icon\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"type\", ctx_r7.iconType.CARET_RIGHT);\n  }\n}\nfunction ProductImageZoomViewComponent_ng_container_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelementStart(1, \"div\", 4);\n    i0.ɵɵtemplate(2, ProductImageZoomViewComponent_ng_container_0_div_1_button_2_Template, 2, 1, \"button\", 5);\n    i0.ɵɵpipe(3, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, ProductImageZoomViewComponent_ng_container_0_div_1_cx_media_4_Template, 2, 1, \"cx-media\", 6);\n    i0.ɵɵtemplate(5, ProductImageZoomViewComponent_ng_container_0_div_1_div_5_Template, 4, 1, \"div\", 7);\n    i0.ɵɵelementStart(6, \"div\", 4);\n    i0.ɵɵtemplate(7, ProductImageZoomViewComponent_ng_container_0_div_1_button_7_Template, 2, 1, \"button\", 5);\n    i0.ɵɵpipe(8, \"async\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const thumbs_r3 = ctx.ngIf;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 4, ctx_r2.getPreviousProduct(thumbs_r3)));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.isZoomed);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isZoomed);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(8, 6, ctx_r2.getNextProduct(thumbs_r3)));\n  }\n}\nfunction ProductImageZoomViewComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductImageZoomViewComponent_ng_container_0_div_1_Template, 9, 8, \"div\", 2);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 1, ctx_r0.thumbnails$));\n  }\n}\nconst _c3 = [\"expandButton\"];\nfunction ProductImageZoomProductImagesComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"cx-media\", 2);\n    i0.ɵɵlistener(\"click\", function ProductImageZoomProductImagesComponent_ng_container_0_Template_cx_media_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.triggerZoom(true);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"cx-product-image-zoom-trigger\", 3);\n    i0.ɵɵlistener(\"dialogClose\", function ProductImageZoomProductImagesComponent_ng_container_0_Template_cx_product_image_zoom_trigger_dialogClose_2_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.triggerZoom(false);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const main_r4 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"container\", main_r4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"expandImage\", ctx_r0.expandImage.value)(\"galleryIndex\", ctx_r0.selectedIndex);\n  }\n}\nfunction ProductImageZoomProductImagesComponent_ng_container_2_cx_carousel_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-carousel\", 5);\n  }\n  if (rf & 2) {\n    const thumbs_r8 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵnextContext();\n    const _r2 = i0.ɵɵreference(5);\n    i0.ɵɵproperty(\"items\", thumbs_r8)(\"hideIndicators\", false)(\"template\", _r2);\n  }\n}\nfunction ProductImageZoomProductImagesComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, ProductImageZoomProductImagesComponent_ng_container_2_cx_carousel_1_Template, 1, 3, \"cx-carousel\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const thumbs_r8 = ctx.ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", thumbs_r8.length);\n  }\n}\nfunction ProductImageZoomProductImagesComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"cx-media\", 6);\n    i0.ɵɵlistener(\"focus\", function ProductImageZoomProductImagesComponent_ng_template_4_Template_cx_media_focus_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const item_r11 = restoredCtx.item;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.openImage(item_r11.container);\n    });\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const item_r11 = ctx.item;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"is-active\", i0.ɵɵpipeBind1(1, 3, ctx_r3.isActive(item_r11.container)));\n    i0.ɵɵproperty(\"container\", item_r11.container);\n  }\n}\nclass ProductImageZoomThumbnailsComponent {\n  constructor() {\n    this.mainMediaContainer = new BehaviorSubject({});\n    this.productImage = new EventEmitter();\n    this.subscription = new Subscription();\n  }\n  ngOnInit() {\n    this.subscription.add(this.activeThumb.subscribe(image => {\n      this.mainMediaContainer.next(image);\n    }));\n  }\n  openImage(image) {\n    var _a;\n    this.mainMediaContainer.next(image);\n    if (typeof ((_a = image.zoom) === null || _a === void 0 ? void 0 : _a.galleryIndex) === 'number') {\n      this.productImage.emit({\n        image,\n        index: image.zoom.galleryIndex\n      });\n    }\n  }\n  isActive(thumbnail) {\n    return this.mainMediaContainer.asObservable().pipe(filter(isNotNullable), map(container => {\n      var _a, _b;\n      return ((_a = container.zoom) === null || _a === void 0 ? void 0 : _a.url) && ((_b = thumbnail.zoom) === null || _b === void 0 ? void 0 : _b.url) && container.zoom.url === thumbnail.zoom.url;\n    }));\n  }\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\nProductImageZoomThumbnailsComponent.ɵfac = function ProductImageZoomThumbnailsComponent_Factory(t) {\n  return new (t || ProductImageZoomThumbnailsComponent)();\n};\nProductImageZoomThumbnailsComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductImageZoomThumbnailsComponent,\n  selectors: [[\"cx-product-image-zoom-thumbnails\"]],\n  inputs: {\n    thumbs$: \"thumbs$\",\n    activeThumb: \"activeThumb\"\n  },\n  outputs: {\n    productImage: \"productImage\"\n  },\n  decls: 4,\n  vars: 3,\n  consts: [[4, \"ngIf\"], [\"thumb\", \"\"], [\"class\", \"thumbs\", \"itemWidth\", \"70px\", 3, \"items\", \"hideIndicators\", \"template\", 4, \"ngIf\"], [\"itemWidth\", \"70px\", 1, \"thumbs\", 3, \"items\", \"hideIndicators\", \"template\"], [\"tabindex\", \"0\", 3, \"container\", \"focus\"]],\n  template: function ProductImageZoomThumbnailsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProductImageZoomThumbnailsComponent_ng_container_0_Template, 2, 1, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵtemplate(2, ProductImageZoomThumbnailsComponent_ng_template_2_Template, 2, 5, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.thumbs$));\n    }\n  },\n  directives: [i3.NgIf, i1.CarouselComponent, i1.MediaComponent],\n  pipes: [i3.AsyncPipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomThumbnailsComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-product-image-zoom-thumbnails',\n      templateUrl: './product-image-zoom-thumbnails.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [];\n  }, {\n    productImage: [{\n      type: Output\n    }],\n    thumbs$: [{\n      type: Input\n    }],\n    activeThumb: [{\n      type: Input\n    }]\n  });\n})();\nclass ProductImageZoomViewComponent {\n  constructor(currentProductService, renderer, cdRef, breakpointService) {\n    this.currentProductService = currentProductService;\n    this.renderer = renderer;\n    this.cdRef = cdRef;\n    this.breakpointService = breakpointService;\n    this.iconType = ICON_TYPE;\n    this.mainMediaContainer = new BehaviorSubject(null);\n    this.defaultImageReady = new BehaviorSubject(false);\n    this.zoomReady = new BehaviorSubject(false);\n    this.subscription = new Subscription();\n    this.mainMediaContainer$ = this.mainMediaContainer.asObservable();\n    this.defaultImageReady$ = this.defaultImageReady.asObservable();\n    this.zoomReady$ = this.zoomReady.asObservable();\n    this.activeThumb = new EventEmitter();\n    this.defaultImageClickHandler$ = this.defaultImageReady$.pipe(filter(Boolean), switchMap(_ => merge(...this.clickOrDoubleClick(this.defaultImage)).pipe(tap(() => this.zoom()))));\n    this.zoomImageClickHandler$ = this.zoomReady$.pipe(filter(Boolean), switchMap(_ => merge(...this.clickOrDoubleClick(this.zoomImage)).pipe(tap(() => this.zoom()))));\n    this.startCoords = null;\n    this.left = 0;\n    this.top = 0;\n    this.isZoomed = false;\n    this.product$ = this.currentProductService.getProduct().pipe(filter(isNotNullable), distinctUntilChanged(), tap(p => {\n      var _a, _b, _c, _d;\n      if (this.galleryIndex) {\n        const image = Array.isArray((_a = p.images) === null || _a === void 0 ? void 0 : _a.GALLERY) ? (_b = p.images) === null || _b === void 0 ? void 0 : _b.GALLERY.find(img => {\n          var _a;\n          return ((_a = img.zoom) === null || _a === void 0 ? void 0 : _a.galleryIndex) === this.galleryIndex;\n        }) : (_c = p.images) === null || _c === void 0 ? void 0 : _c.GALLERY;\n        this.mainMediaContainer.next(image || null);\n      } else {\n        this.mainMediaContainer.next(((_d = p.images) === null || _d === void 0 ? void 0 : _d.PRIMARY) ? p.images.PRIMARY : {});\n      }\n    }), shareReplay(1));\n    this.thumbnails$ = this.product$.pipe(map(p => this.createThumbs(p)), shareReplay(1));\n    this.mainImage$ = combineLatest([this.product$, this.mainMediaContainer$]).pipe(map(([, container]) => container));\n  }\n  get defaultImage() {\n    return this._defaultImage;\n  }\n  set defaultImage(el) {\n    if (el) {\n      this._defaultImage = el;\n      this.defaultImageReady.next(true);\n    }\n  }\n  get zoomImage() {\n    return this._zoomImage;\n  }\n  set zoomImage(el) {\n    if (el) {\n      this._zoomImage = el;\n      this.zoomReady.next(true);\n    }\n  }\n  ngOnInit() {\n    this.subscription.add(this.defaultImageClickHandler$.subscribe());\n    this.subscription.add(this.zoomImageClickHandler$.subscribe());\n  }\n  openImage(item) {\n    this.mainMediaContainer.next(item);\n    this.activeThumb.emit(item);\n  }\n  /** find the index of the main media in the list of media */\n  getActive() {\n    var _a, _b, _c, _d;\n    if (Array.isArray(this.mainMediaContainer.value)) {\n      return ((_a = this.mainMediaContainer.value[0].thumbnail) === null || _a === void 0 ? void 0 : _a.galleryIndex) || 0;\n    }\n    return ((_d = (_c = (_b = this.mainMediaContainer) === null || _b === void 0 ? void 0 : _b.value) === null || _c === void 0 ? void 0 : _c.thumbnail) === null || _d === void 0 ? void 0 : _d.galleryIndex) || 0;\n  }\n  getPreviousProduct(thumbs) {\n    const active = this.getActive();\n    if (active === 0) {\n      return thumbs[active];\n    }\n    return thumbs[active - 1];\n  }\n  getNextProduct(thumbs) {\n    const active = this.getActive();\n    if (active === thumbs.length - 1) {\n      return thumbs[active];\n    }\n    return thumbs[active + 1];\n  }\n  /**\n   * Zoom in or out of the image\n   */\n  zoom() {\n    this.isZoomed = !this.isZoomed;\n    this.startCoords = null;\n    this.left = 0;\n    this.top = 0;\n    this.cdRef.markForCheck();\n  }\n  /**\n   * Touch screen image pan\n   *\n   * @param event\n   */\n  touchMove(event) {\n    var _a, _b, _c, _d;\n    const touch = event.touches[0] || event.changedTouches[0];\n    const boundingRect = (_b = (_a = this.zoomedImage) === null || _a === void 0 ? void 0 : _a.nativeElement) === null || _b === void 0 ? void 0 : _b.getBoundingClientRect();\n    const imageElement = (_d = (_c = this.zoomedImage) === null || _c === void 0 ? void 0 : _c.nativeElement) === null || _d === void 0 ? void 0 : _d.firstChild;\n    if (!this.startCoords) this.startCoords = {\n      x: touch.clientX,\n      y: touch.clientY\n    };\n    this.left += touch.clientX - this.startCoords.x;\n    this.top += touch.clientY - this.startCoords.y;\n    this.moveImage(this.left, this.top, boundingRect, imageElement);\n    this.startCoords = {\n      x: touch.clientX,\n      y: touch.clientY\n    };\n  }\n  /**\n   * Clears touch location\n   */\n  clearTouch() {\n    this.startCoords = null;\n  }\n  /**\n   * Pointer image pan\n   *\n   * @param event\n   */\n  pointerMove(event) {\n    const boundingRect = this.zoomedImage.nativeElement.getBoundingClientRect();\n    const imageElement = this.zoomedImage.nativeElement.firstChild;\n    const {\n      positionX,\n      positionY\n    } = this.calculatePointerMovePosition(this.zoomedImage, event.clientX, event.clientY);\n    this.moveImage(positionX, positionY, boundingRect, imageElement);\n  }\n  changeImage(event) {\n    this.mainMediaContainer.next(event.image);\n  }\n  /**\n   * Applies the offset from touchMove or pointerMove to the image element\n   *\n   * @param positionX\n   * @param positionY\n   * @param boundingRect\n   * @param imageElement\n   */\n  moveImage(positionX, positionY, boundingRect, imageElement) {\n    const {\n      x,\n      y\n    } = this.handleOutOfBounds(positionX, positionY, imageElement, boundingRect);\n    if (imageElement) {\n      this.renderer.setStyle(imageElement, 'left', x + 'px');\n      this.renderer.setStyle(imageElement, 'top', y + 'px');\n    }\n  }\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n  /**\n   * Returns click and dblclick event mapping for the given element\n   *\n   * @param element\n   */\n  clickOrDoubleClick(element) {\n    return [fromEvent(element.nativeElement, 'click').pipe(switchMapTo(this.breakpointService.isUp(BREAKPOINT.md)), filter(Boolean)), fromEvent(element.nativeElement, 'dblclick').pipe(switchMapTo(this.breakpointService.isDown(BREAKPOINT.lg)), filter(Boolean))];\n  }\n  /**\n   * Return an array of CarouselItems for the product thumbnails.\n   * In case there are less then 2 thumbs, we return null.\n   */\n  createThumbs(product) {\n    if (!product.images || !product.images.GALLERY || product.images.GALLERY.length < 2) {\n      return [];\n    }\n    const images = product.images.GALLERY;\n    return images.map(c => of({\n      container: c\n    }));\n  }\n  /**\n   * Keeps the zoom image from leaving the bounding container\n   *\n   * @param positionX\n   * @param positionY\n   * @param imageElement\n   * @param boundingRect\n   */\n  handleOutOfBounds(positionX, positionY, imageElement, boundingRect) {\n    const paddingX = 60;\n    const paddingY = 60;\n    if (positionY <= -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.height) + paddingY) {\n      positionY = -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.height) + paddingY;\n    }\n    if (positionY >= (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.height) - paddingY) {\n      positionY = (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.height) - paddingY;\n    }\n    if (positionX <= -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) - (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 + paddingX) {\n      positionX = -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) - (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 + paddingX;\n    }\n    if (positionX >= (imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) + (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 - paddingX) {\n      positionX = (imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) + (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 - paddingX;\n    }\n    return {\n      x: positionX,\n      y: positionY\n    };\n  }\n  /**\n   * Returns the position of the image based on the cursor pointer\n   *\n   * @param element\n   * @param clientX\n   * @param clientY\n   */\n  calculatePointerMovePosition(element, clientX, clientY) {\n    const boundingRect = element.nativeElement.getBoundingClientRect();\n    const x = clientX - boundingRect.left;\n    const y = clientY - boundingRect.top;\n    const positionX = -x + element.nativeElement.clientWidth / 2;\n    const positionY = -y + element.nativeElement.clientHeight / 2;\n    return {\n      positionX,\n      positionY\n    };\n  }\n}\nProductImageZoomViewComponent.ɵfac = function ProductImageZoomViewComponent_Factory(t) {\n  return new (t || ProductImageZoomViewComponent)(i0.ɵɵdirectiveInject(i1.CurrentProductService), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.BreakpointService));\n};\nProductImageZoomViewComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductImageZoomViewComponent,\n  selectors: [[\"cx-product-image-zoom-view\"]],\n  viewQuery: function ProductImageZoomViewComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5, ElementRef);\n      i0.ɵɵviewQuery(_c1, 5, ElementRef);\n      i0.ɵɵviewQuery(_c2, 5, ElementRef);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.defaultImage = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.zoomImage = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.zoomedImage = _t.first);\n    }\n  },\n  inputs: {\n    galleryIndex: \"galleryIndex\"\n  },\n  decls: 3,\n  vars: 5,\n  consts: [[4, \"ngIf\"], [3, \"thumbs$\", \"activeThumb\", \"productImage\"], [\"class\", \"cx-main-image-group\", 4, \"ngIf\"], [1, \"cx-main-image-group\"], [1, \"cx-navigate-image\"], [\"class\", \"btn btn-link\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"cx-default-image-zoom\", 3, \"container\", 4, \"ngIf\"], [\"class\", \"cx-zoom-container\", 4, \"ngIf\"], [1, \"btn\", \"btn-link\", 3, \"click\"], [3, \"type\"], [1, \"cx-default-image-zoom\", 3, \"container\"], [\"defaultImage\", \"\"], [1, \"cx-zoom-container\"], [\"zoomContainer\", \"\"], [1, \"cx-image-zoomed\", 3, \"container\", \"mousemove\", \"touchmove\", \"touchend\"], [\"zoomedImage\", \"\"]],\n  template: function ProductImageZoomViewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProductImageZoomViewComponent_ng_container_0_Template, 3, 3, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵelementStart(2, \"cx-product-image-zoom-thumbnails\", 1);\n      i0.ɵɵlistener(\"productImage\", function ProductImageZoomViewComponent_Template_cx_product_image_zoom_thumbnails_productImage_2_listener($event) {\n        return ctx.changeImage($event);\n      });\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 3, ctx.mainImage$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"thumbs$\", ctx.thumbnails$)(\"activeThumb\", ctx.activeThumb);\n    }\n  },\n  directives: [i3.NgIf, ProductImageZoomThumbnailsComponent, i1.IconComponent, i1.MediaComponent],\n  pipes: [i3.AsyncPipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomViewComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-product-image-zoom-view',\n      templateUrl: './product-image-zoom-view.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1.CurrentProductService\n    }, {\n      type: i0.Renderer2\n    }, {\n      type: i0.ChangeDetectorRef\n    }, {\n      type: i1.BreakpointService\n    }];\n  }, {\n    galleryIndex: [{\n      type: Input\n    }],\n    defaultImage: [{\n      type: ViewChild,\n      args: ['defaultImage', {\n        read: ElementRef\n      }]\n    }],\n    zoomImage: [{\n      type: ViewChild,\n      args: ['zoomContainer', {\n        read: ElementRef\n      }]\n    }],\n    zoomedImage: [{\n      type: ViewChild,\n      args: ['zoomedImage', {\n        read: ElementRef\n      }]\n    }]\n  });\n})();\nclass ProductImageZoomDialogComponent {\n  constructor(launchDialogService, el) {\n    this.launchDialogService = launchDialogService;\n    this.el = el;\n    this.iconType = ICON_TYPE;\n    this.focusConfig = {\n      trap: true,\n      block: true,\n      autofocus: 'button',\n      focusOnEscape: true\n    };\n  }\n  handleClick(event) {\n    // Close on click outside the dialog window\n    if (event.target.tagName === this.el.nativeElement.tagName) {\n      this.close('Cross click');\n    }\n  }\n  close(reason = '') {\n    this.launchDialogService.closeDialog(reason);\n  }\n}\nProductImageZoomDialogComponent.ɵfac = function ProductImageZoomDialogComponent_Factory(t) {\n  return new (t || ProductImageZoomDialogComponent)(i0.ɵɵdirectiveInject(i1.LaunchDialogService), i0.ɵɵdirectiveInject(i0.ElementRef));\n};\nProductImageZoomDialogComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductImageZoomDialogComponent,\n  selectors: [[\"cx-product-image-zoom-dialog\"]],\n  hostBindings: function ProductImageZoomDialogComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"click\", function ProductImageZoomDialogComponent_click_HostBindingHandler($event) {\n        return ctx.handleClick($event);\n      });\n    }\n  },\n  inputs: {\n    galleryIndex: \"galleryIndex\"\n  },\n  decls: 9,\n  vars: 6,\n  consts: [[1, \"cx-image-zoom-dialog\", 3, \"cxFocus\"], [1, \"cx-dialog-content\"], [1, \"cx-dialog-header\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [3, \"type\"], [1, \"cx-dialog-body\"], [3, \"galleryIndex\"]],\n  template: function ProductImageZoomDialogComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function ProductImageZoomDialogComponent_Template_button_click_3_listener() {\n        return ctx.close(\"cross click\");\n      });\n      i0.ɵɵpipe(4, \"cxTranslate\");\n      i0.ɵɵelementStart(5, \"span\", 4);\n      i0.ɵɵelement(6, \"cx-icon\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 6);\n      i0.ɵɵelement(8, \"cx-product-image-zoom-view\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"cxFocus\", ctx.focusConfig);\n      i0.ɵɵadvance(3);\n      i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(4, 4, \"productImageZoomDialog.close\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"type\", ctx.iconType.CLOSE);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"galleryIndex\", ctx.galleryIndex);\n    }\n  },\n  directives: [i1.FocusDirective, i1.IconComponent, ProductImageZoomViewComponent],\n  pipes: [i3$1.TranslatePipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomDialogComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-product-image-zoom-dialog',\n      templateUrl: 'product-image-zoom-dialog.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1.LaunchDialogService\n    }, {\n      type: i0.ElementRef\n    }];\n  }, {\n    galleryIndex: [{\n      type: Input\n    }],\n    handleClick: [{\n      type: HostListener,\n      args: ['click', ['$event']]\n    }]\n  });\n})();\nconst defaultProductImageZoomLayoutConfig = {\n  launch: {\n    PRODUCT_IMAGE_ZOOM: {\n      inline: true,\n      component: ProductImageZoomDialogComponent,\n      dialogType: DIALOG_TYPE.DIALOG\n    }\n  }\n};\nclass ProductImageZoomTriggerComponent {\n  constructor(launchDialogService, vcr) {\n    this.launchDialogService = launchDialogService;\n    this.vcr = vcr;\n    this.iconType = ICON_TYPE;\n    this.subscriptions = new Subscription();\n    this.dialogClose = new EventEmitter();\n  }\n  set expandImage(expand) {\n    if (expand) {\n      this.triggerZoom();\n    }\n  }\n  triggerZoom() {\n    const component = this.launchDialogService.launch(\"PRODUCT_IMAGE_ZOOM\" /* PRODUCT_IMAGE_ZOOM */, this.vcr);\n    if (component) {\n      this.subscriptions.add(combineLatest([component, this.launchDialogService.dialogClose]).pipe(tap(([comp]) => {\n        if (this.galleryIndex) {\n          comp.instance.galleryIndex = this.galleryIndex;\n        }\n      }), filter(([, close]) => Boolean(close)), tap(([comp]) => {\n        this.launchDialogService.clear(\"PRODUCT_IMAGE_ZOOM\" /* PRODUCT_IMAGE_ZOOM */);\n        comp === null || comp === void 0 ? void 0 : comp.destroy();\n        this.dialogClose.emit();\n        this.expandButton.nativeElement.focus();\n      })).subscribe());\n    }\n  }\n  ngOnDestroy() {\n    this.subscriptions.unsubscribe();\n  }\n}\nProductImageZoomTriggerComponent.ɵfac = function ProductImageZoomTriggerComponent_Factory(t) {\n  return new (t || ProductImageZoomTriggerComponent)(i0.ɵɵdirectiveInject(i1.LaunchDialogService), i0.ɵɵdirectiveInject(i0.ViewContainerRef));\n};\nProductImageZoomTriggerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductImageZoomTriggerComponent,\n  selectors: [[\"cx-product-image-zoom-trigger\"]],\n  viewQuery: function ProductImageZoomTriggerComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c3, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.expandButton = _t.first);\n    }\n  },\n  inputs: {\n    galleryIndex: \"galleryIndex\",\n    expandImage: \"expandImage\"\n  },\n  outputs: {\n    dialogClose: \"dialogClose\"\n  },\n  decls: 6,\n  vars: 4,\n  consts: [[1, \"btn\", \"btn-link\", \"cx-action-link\", 3, \"click\"], [\"expandButton\", \"\"], [3, \"type\"]],\n  template: function ProductImageZoomTriggerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"button\", 0, 1);\n      i0.ɵɵlistener(\"click\", function ProductImageZoomTriggerComponent_Template_button_click_0_listener() {\n        return ctx.triggerZoom();\n      });\n      i0.ɵɵelementStart(2, \"span\");\n      i0.ɵɵtext(3);\n      i0.ɵɵpipe(4, \"cxTranslate\");\n      i0.ɵɵelement(5, \"cx-icon\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 2, \"productImageZoomTrigger.expand\"), \" \");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"type\", ctx.iconType.EXPAND_ARROWS);\n    }\n  },\n  directives: [i1.IconComponent],\n  pipes: [i3$1.TranslatePipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomTriggerComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-product-image-zoom-trigger',\n      templateUrl: 'product-image-zoom-trigger.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1.LaunchDialogService\n    }, {\n      type: i0.ViewContainerRef\n    }];\n  }, {\n    expandButton: [{\n      type: ViewChild,\n      args: ['expandButton']\n    }],\n    galleryIndex: [{\n      type: Input\n    }],\n    expandImage: [{\n      type: Input\n    }],\n    dialogClose: [{\n      type: Output\n    }]\n  });\n})();\nclass ProductImageZoomProductImagesComponent extends ProductImagesComponent {\n  constructor(currentProductService) {\n    super(currentProductService);\n    this.currentProductService = currentProductService;\n    this.expandImage = new BehaviorSubject(false);\n  }\n  openImage(item) {\n    var _a, _b;\n    this.mainMediaContainer.next(item);\n    this.selectedIndex = (_b = (_a = this.mainMediaContainer.value) === null || _a === void 0 ? void 0 : _a.zoom) === null || _b === void 0 ? void 0 : _b.galleryIndex;\n  }\n  /**\n   * Opens image zoom dialog.\n   */\n  triggerZoom(value) {\n    this.expandImage.next(value);\n  }\n}\nProductImageZoomProductImagesComponent.ɵfac = function ProductImageZoomProductImagesComponent_Factory(t) {\n  return new (t || ProductImageZoomProductImagesComponent)(i0.ɵɵdirectiveInject(i1.CurrentProductService));\n};\nProductImageZoomProductImagesComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: ProductImageZoomProductImagesComponent,\n  selectors: [[\"cx-product-images\"]],\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 6,\n  vars: 6,\n  consts: [[4, \"ngIf\"], [\"thumb\", \"\"], [3, \"container\", \"click\"], [3, \"expandImage\", \"galleryIndex\", \"dialogClose\"], [\"class\", \"thumbs\", \"itemWidth\", \"120px\", 3, \"items\", \"hideIndicators\", \"template\", 4, \"ngIf\"], [\"itemWidth\", \"120px\", 1, \"thumbs\", 3, \"items\", \"hideIndicators\", \"template\"], [\"tabindex\", \"0\", \"format\", \"product\", 3, \"container\", \"focus\"]],\n  template: function ProductImageZoomProductImagesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, ProductImageZoomProductImagesComponent_ng_container_0_Template, 3, 3, \"ng-container\", 0);\n      i0.ɵɵpipe(1, \"async\");\n      i0.ɵɵtemplate(2, ProductImageZoomProductImagesComponent_ng_container_2_Template, 2, 1, \"ng-container\", 0);\n      i0.ɵɵpipe(3, \"async\");\n      i0.ɵɵtemplate(4, ProductImageZoomProductImagesComponent_ng_template_4_Template, 2, 5, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 2, ctx.mainImage$));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(3, 4, ctx.thumbs$));\n    }\n  },\n  directives: [i3.NgIf, i1.MediaComponent, ProductImageZoomTriggerComponent, i1.CarouselComponent],\n  pipes: [i3.AsyncPipe],\n  encapsulation: 2,\n  changeDetection: 0\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomProductImagesComponent, [{\n    type: Component,\n    args: [{\n      selector: 'cx-product-images',\n      templateUrl: './product-image-zoom-product-images.component.html',\n      changeDetection: ChangeDetectionStrategy.OnPush\n    }]\n  }], function () {\n    return [{\n      type: i1.CurrentProductService\n    }];\n  }, null);\n})();\nclass ProductImageZoomModule {}\nProductImageZoomModule.ɵfac = function ProductImageZoomModule_Factory(t) {\n  return new (t || ProductImageZoomModule)();\n};\nProductImageZoomModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: ProductImageZoomModule\n});\nProductImageZoomModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [provideConfig(defaultProductImageZoomLayoutConfig), provideDefaultConfig({\n    cmsComponents: {\n      ProductImagesComponent: {\n        component: ProductImageZoomProductImagesComponent\n      }\n    }\n  })],\n  imports: [[CarouselModule, CommonModule, I18nModule, IconModule, KeyboardFocusModule, MediaModule, OutletModule, RouterModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CarouselModule, CommonModule, I18nModule, IconModule, KeyboardFocusModule, MediaModule, OutletModule, RouterModule],\n      providers: [provideConfig(defaultProductImageZoomLayoutConfig), provideDefaultConfig({\n        cmsComponents: {\n          ProductImagesComponent: {\n            component: ProductImageZoomProductImagesComponent\n          }\n        }\n      })],\n      declarations: [ProductImageZoomDialogComponent, ProductImageZoomProductImagesComponent, ProductImageZoomThumbnailsComponent, ProductImageZoomTriggerComponent, ProductImageZoomViewComponent],\n      exports: [ProductImageZoomDialogComponent, ProductImageZoomProductImagesComponent, ProductImageZoomThumbnailsComponent, ProductImageZoomTriggerComponent, ProductImageZoomViewComponent]\n    }]\n  }], null, null);\n})();\nclass ProductImageZoomComponentsModule {}\nProductImageZoomComponentsModule.ɵfac = function ProductImageZoomComponentsModule_Factory(t) {\n  return new (t || ProductImageZoomComponentsModule)();\n};\nProductImageZoomComponentsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: ProductImageZoomComponentsModule\n});\nProductImageZoomComponentsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  imports: [[ProductImageZoomModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ProductImageZoomComponentsModule, [{\n    type: NgModule,\n    args: [{\n      imports: [ProductImageZoomModule]\n    }]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ProductImageZoomComponentsModule, ProductImageZoomDialogComponent, ProductImageZoomModule, ProductImageZoomProductImagesComponent, ProductImageZoomThumbnailsComponent, ProductImageZoomTriggerComponent, ProductImageZoomViewComponent, defaultProductImageZoomLayoutConfig };","map":{"version":3,"names":["i0","EventEmitter","Component","ChangeDetectionStrategy","Output","Input","ElementRef","ViewChild","HostListener","NgModule","i3","CommonModule","RouterModule","i3$1","isNotNullable","I18nModule","provideConfig","provideDefaultConfig","i1","ICON_TYPE","BREAKPOINT","DIALOG_TYPE","ProductImagesComponent","CarouselModule","IconModule","KeyboardFocusModule","MediaModule","OutletModule","BehaviorSubject","Subscription","merge","combineLatest","fromEvent","of","filter","map","switchMap","tap","distinctUntilChanged","shareReplay","switchMapTo","ProductImageZoomThumbnailsComponent","constructor","mainMediaContainer","productImage","subscription","ngOnInit","add","activeThumb","subscribe","image","next","openImage","_a","zoom","galleryIndex","emit","index","isActive","thumbnail","asObservable","pipe","container","_b","url","ngOnDestroy","unsubscribe","ɵfac","ɵcmp","NgIf","CarouselComponent","MediaComponent","AsyncPipe","type","args","selector","templateUrl","changeDetection","OnPush","thumbs$","ProductImageZoomViewComponent","currentProductService","renderer","cdRef","breakpointService","iconType","defaultImageReady","zoomReady","mainMediaContainer$","defaultImageReady$","zoomReady$","defaultImageClickHandler$","Boolean","_","clickOrDoubleClick","defaultImage","zoomImageClickHandler$","zoomImage","startCoords","left","top","isZoomed","product$","getProduct","p","_c","_d","Array","isArray","images","GALLERY","find","img","PRIMARY","thumbnails$","createThumbs","mainImage$","_defaultImage","el","_zoomImage","item","getActive","value","getPreviousProduct","thumbs","active","getNextProduct","length","markForCheck","touchMove","event","touch","touches","changedTouches","boundingRect","zoomedImage","nativeElement","getBoundingClientRect","imageElement","firstChild","x","clientX","y","clientY","moveImage","clearTouch","pointerMove","positionX","positionY","calculatePointerMovePosition","changeImage","handleOutOfBounds","setStyle","element","isUp","md","isDown","lg","product","c","paddingX","paddingY","height","width","clientWidth","clientHeight","CurrentProductService","Renderer2","ChangeDetectorRef","BreakpointService","IconComponent","read","ProductImageZoomDialogComponent","launchDialogService","focusConfig","trap","block","autofocus","focusOnEscape","handleClick","target","tagName","close","reason","closeDialog","LaunchDialogService","FocusDirective","TranslatePipe","defaultProductImageZoomLayoutConfig","launch","PRODUCT_IMAGE_ZOOM","inline","component","dialogType","DIALOG","ProductImageZoomTriggerComponent","vcr","subscriptions","dialogClose","expandImage","expand","triggerZoom","comp","instance","clear","destroy","expandButton","focus","ViewContainerRef","ProductImageZoomProductImagesComponent","selectedIndex","ProductImageZoomModule","ɵmod","ɵinj","cmsComponents","imports","providers","declarations","exports","ProductImageZoomComponentsModule"],"sources":["/home/hamid/learning/cx-cangubike/js-storefront/olf/node_modules/@spartacus/product/fesm2015/spartacus-product-image-zoom-components.js"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Output, Input, ElementRef, ViewChild, HostListener, NgModule } from '@angular/core';\nimport * as i3 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as i3$1 from '@spartacus/core';\nimport { isNotNullable, I18nModule, provideConfig, provideDefaultConfig } from '@spartacus/core';\nimport * as i1 from '@spartacus/storefront';\nimport { ICON_TYPE, BREAKPOINT, DIALOG_TYPE, ProductImagesComponent, CarouselModule, IconModule, KeyboardFocusModule, MediaModule, OutletModule } from '@spartacus/storefront';\nimport { BehaviorSubject, Subscription, merge, combineLatest, fromEvent, of } from 'rxjs';\nimport { filter, map, switchMap, tap, distinctUntilChanged, shareReplay, switchMapTo } from 'rxjs/operators';\n\nclass ProductImageZoomThumbnailsComponent {\n    constructor() {\n        this.mainMediaContainer = new BehaviorSubject({});\n        this.productImage = new EventEmitter();\n        this.subscription = new Subscription();\n    }\n    ngOnInit() {\n        this.subscription.add(this.activeThumb.subscribe((image) => {\n            this.mainMediaContainer.next(image);\n        }));\n    }\n    openImage(image) {\n        var _a;\n        this.mainMediaContainer.next(image);\n        if (typeof ((_a = image.zoom) === null || _a === void 0 ? void 0 : _a.galleryIndex) === 'number') {\n            this.productImage.emit({ image, index: image.zoom.galleryIndex });\n        }\n    }\n    isActive(thumbnail) {\n        return this.mainMediaContainer.asObservable().pipe(filter(isNotNullable), map((container) => {\n            var _a, _b;\n            return (((_a = container.zoom) === null || _a === void 0 ? void 0 : _a.url) &&\n                ((_b = thumbnail.zoom) === null || _b === void 0 ? void 0 : _b.url) &&\n                container.zoom.url === thumbnail.zoom.url);\n        }));\n    }\n    ngOnDestroy() {\n        this.subscription.unsubscribe();\n    }\n}\nProductImageZoomThumbnailsComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomThumbnailsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomThumbnailsComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductImageZoomThumbnailsComponent, selector: \"cx-product-image-zoom-thumbnails\", inputs: { thumbs$: \"thumbs$\", activeThumb: \"activeThumb\" }, outputs: { productImage: \"productImage\" }, ngImport: i0, template: \"<ng-container *ngIf=\\\"thumbs$ | async as thumbs\\\">\\n  <cx-carousel\\n    *ngIf=\\\"thumbs.length\\\"\\n    class=\\\"thumbs\\\"\\n    [items]=\\\"thumbs\\\"\\n    itemWidth=\\\"70px\\\"\\n    [hideIndicators]=\\\"false\\\"\\n    [template]=\\\"thumb\\\"\\n  ></cx-carousel>\\n</ng-container>\\n\\n<ng-template #thumb let-item=\\\"item\\\">\\n  <cx-media\\n    [container]=\\\"item.container\\\"\\n    tabindex=\\\"0\\\"\\n    (focus)=\\\"openImage(item.container)\\\"\\n    [class.is-active]=\\\"isActive(item.container) | async\\\"\\n  >\\n  </cx-media>\\n</ng-template>\\n\", components: [{ type: i1.CarouselComponent, selector: \"cx-carousel\", inputs: [\"title\", \"items\", \"template\", \"itemWidth\", \"hideIndicators\", \"indicatorIcon\", \"previousIcon\", \"nextIcon\"] }, { type: i1.MediaComponent, selector: \"cx-media\", inputs: [\"container\", \"format\", \"alt\", \"role\", \"loading\"], outputs: [\"loaded\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomThumbnailsComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-product-image-zoom-thumbnails',\n                    templateUrl: './product-image-zoom-thumbnails.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return []; }, propDecorators: { productImage: [{\n                type: Output\n            }], thumbs$: [{\n                type: Input\n            }], activeThumb: [{\n                type: Input\n            }] } });\n\nclass ProductImageZoomViewComponent {\n    constructor(currentProductService, renderer, cdRef, breakpointService) {\n        this.currentProductService = currentProductService;\n        this.renderer = renderer;\n        this.cdRef = cdRef;\n        this.breakpointService = breakpointService;\n        this.iconType = ICON_TYPE;\n        this.mainMediaContainer = new BehaviorSubject(null);\n        this.defaultImageReady = new BehaviorSubject(false);\n        this.zoomReady = new BehaviorSubject(false);\n        this.subscription = new Subscription();\n        this.mainMediaContainer$ = this.mainMediaContainer.asObservable();\n        this.defaultImageReady$ = this.defaultImageReady.asObservable();\n        this.zoomReady$ = this.zoomReady.asObservable();\n        this.activeThumb = new EventEmitter();\n        this.defaultImageClickHandler$ = this.defaultImageReady$.pipe(filter(Boolean), switchMap((_) => merge(...this.clickOrDoubleClick(this.defaultImage)).pipe(tap(() => this.zoom()))));\n        this.zoomImageClickHandler$ = this.zoomReady$.pipe(filter(Boolean), switchMap((_) => merge(...this.clickOrDoubleClick(this.zoomImage)).pipe(tap(() => this.zoom()))));\n        this.startCoords = null;\n        this.left = 0;\n        this.top = 0;\n        this.isZoomed = false;\n        this.product$ = this.currentProductService\n            .getProduct()\n            .pipe(filter(isNotNullable), distinctUntilChanged(), tap((p) => {\n            var _a, _b, _c, _d;\n            if (this.galleryIndex) {\n                const image = Array.isArray((_a = p.images) === null || _a === void 0 ? void 0 : _a.GALLERY)\n                    ? (_b = p.images) === null || _b === void 0 ? void 0 : _b.GALLERY.find((img) => { var _a; return ((_a = img.zoom) === null || _a === void 0 ? void 0 : _a.galleryIndex) === this.galleryIndex; })\n                    : (_c = p.images) === null || _c === void 0 ? void 0 : _c.GALLERY;\n                this.mainMediaContainer.next(image || null);\n            }\n            else {\n                this.mainMediaContainer.next(((_d = p.images) === null || _d === void 0 ? void 0 : _d.PRIMARY) ? p.images.PRIMARY : {});\n            }\n        }), shareReplay(1));\n        this.thumbnails$ = this.product$.pipe(map((p) => this.createThumbs(p)), shareReplay(1));\n        this.mainImage$ = combineLatest([\n            this.product$,\n            this.mainMediaContainer$,\n        ]).pipe(map(([, container]) => container));\n    }\n    get defaultImage() {\n        return this._defaultImage;\n    }\n    set defaultImage(el) {\n        if (el) {\n            this._defaultImage = el;\n            this.defaultImageReady.next(true);\n        }\n    }\n    get zoomImage() {\n        return this._zoomImage;\n    }\n    set zoomImage(el) {\n        if (el) {\n            this._zoomImage = el;\n            this.zoomReady.next(true);\n        }\n    }\n    ngOnInit() {\n        this.subscription.add(this.defaultImageClickHandler$.subscribe());\n        this.subscription.add(this.zoomImageClickHandler$.subscribe());\n    }\n    openImage(item) {\n        this.mainMediaContainer.next(item);\n        this.activeThumb.emit(item);\n    }\n    /** find the index of the main media in the list of media */\n    getActive() {\n        var _a, _b, _c, _d;\n        if (Array.isArray(this.mainMediaContainer.value)) {\n            return ((_a = this.mainMediaContainer.value[0].thumbnail) === null || _a === void 0 ? void 0 : _a.galleryIndex) || 0;\n        }\n        return ((_d = (_c = (_b = this.mainMediaContainer) === null || _b === void 0 ? void 0 : _b.value) === null || _c === void 0 ? void 0 : _c.thumbnail) === null || _d === void 0 ? void 0 : _d.galleryIndex) || 0;\n    }\n    getPreviousProduct(thumbs) {\n        const active = this.getActive();\n        if (active === 0) {\n            return thumbs[active];\n        }\n        return thumbs[active - 1];\n    }\n    getNextProduct(thumbs) {\n        const active = this.getActive();\n        if (active === thumbs.length - 1) {\n            return thumbs[active];\n        }\n        return thumbs[active + 1];\n    }\n    /**\n     * Zoom in or out of the image\n     */\n    zoom() {\n        this.isZoomed = !this.isZoomed;\n        this.startCoords = null;\n        this.left = 0;\n        this.top = 0;\n        this.cdRef.markForCheck();\n    }\n    /**\n     * Touch screen image pan\n     *\n     * @param event\n     */\n    touchMove(event) {\n        var _a, _b, _c, _d;\n        const touch = event.touches[0] || event.changedTouches[0];\n        const boundingRect = (_b = (_a = this.zoomedImage) === null || _a === void 0 ? void 0 : _a.nativeElement) === null || _b === void 0 ? void 0 : _b.getBoundingClientRect();\n        const imageElement = (_d = (_c = this.zoomedImage) === null || _c === void 0 ? void 0 : _c.nativeElement) === null || _d === void 0 ? void 0 : _d.firstChild;\n        if (!this.startCoords)\n            this.startCoords = { x: touch.clientX, y: touch.clientY };\n        this.left += touch.clientX - this.startCoords.x;\n        this.top += touch.clientY - this.startCoords.y;\n        this.moveImage(this.left, this.top, boundingRect, imageElement);\n        this.startCoords = { x: touch.clientX, y: touch.clientY };\n    }\n    /**\n     * Clears touch location\n     */\n    clearTouch() {\n        this.startCoords = null;\n    }\n    /**\n     * Pointer image pan\n     *\n     * @param event\n     */\n    pointerMove(event) {\n        const boundingRect = this.zoomedImage.nativeElement.getBoundingClientRect();\n        const imageElement = this.zoomedImage.nativeElement.firstChild;\n        const { positionX, positionY } = this.calculatePointerMovePosition(this.zoomedImage, event.clientX, event.clientY);\n        this.moveImage(positionX, positionY, boundingRect, imageElement);\n    }\n    changeImage(event) {\n        this.mainMediaContainer.next(event.image);\n    }\n    /**\n     * Applies the offset from touchMove or pointerMove to the image element\n     *\n     * @param positionX\n     * @param positionY\n     * @param boundingRect\n     * @param imageElement\n     */\n    moveImage(positionX, positionY, boundingRect, imageElement) {\n        const { x, y } = this.handleOutOfBounds(positionX, positionY, imageElement, boundingRect);\n        if (imageElement) {\n            this.renderer.setStyle(imageElement, 'left', x + 'px');\n            this.renderer.setStyle(imageElement, 'top', y + 'px');\n        }\n    }\n    ngOnDestroy() {\n        this.subscription.unsubscribe();\n    }\n    /**\n     * Returns click and dblclick event mapping for the given element\n     *\n     * @param element\n     */\n    clickOrDoubleClick(element) {\n        return [\n            fromEvent(element.nativeElement, 'click').pipe(switchMapTo(this.breakpointService.isUp(BREAKPOINT.md)), filter(Boolean)),\n            fromEvent(element.nativeElement, 'dblclick').pipe(switchMapTo(this.breakpointService.isDown(BREAKPOINT.lg)), filter(Boolean)),\n        ];\n    }\n    /**\n     * Return an array of CarouselItems for the product thumbnails.\n     * In case there are less then 2 thumbs, we return null.\n     */\n    createThumbs(product) {\n        if (!product.images ||\n            !product.images.GALLERY ||\n            product.images.GALLERY.length < 2) {\n            return [];\n        }\n        const images = product.images.GALLERY;\n        return images.map((c) => of({ container: c }));\n    }\n    /**\n     * Keeps the zoom image from leaving the bounding container\n     *\n     * @param positionX\n     * @param positionY\n     * @param imageElement\n     * @param boundingRect\n     */\n    handleOutOfBounds(positionX, positionY, imageElement, boundingRect) {\n        const paddingX = 60;\n        const paddingY = 60;\n        if (positionY <= -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.height) + paddingY) {\n            positionY = -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.height) + paddingY;\n        }\n        if (positionY >= (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.height) - paddingY) {\n            positionY = (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.height) - paddingY;\n        }\n        if (positionX <=\n            -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) - (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 + paddingX) {\n            positionX = -(imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) - (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 + paddingX;\n        }\n        if (positionX >= (imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) + (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 - paddingX) {\n            positionX = (imageElement === null || imageElement === void 0 ? void 0 : imageElement.width) + (boundingRect === null || boundingRect === void 0 ? void 0 : boundingRect.width) / 2 - paddingX;\n        }\n        return { x: positionX, y: positionY };\n    }\n    /**\n     * Returns the position of the image based on the cursor pointer\n     *\n     * @param element\n     * @param clientX\n     * @param clientY\n     */\n    calculatePointerMovePosition(element, clientX, clientY) {\n        const boundingRect = element.nativeElement.getBoundingClientRect();\n        const x = clientX - boundingRect.left;\n        const y = clientY - boundingRect.top;\n        const positionX = -x + element.nativeElement.clientWidth / 2;\n        const positionY = -y + element.nativeElement.clientHeight / 2;\n        return { positionX, positionY };\n    }\n}\nProductImageZoomViewComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomViewComponent, deps: [{ token: i1.CurrentProductService }, { token: i0.Renderer2 }, { token: i0.ChangeDetectorRef }, { token: i1.BreakpointService }], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomViewComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductImageZoomViewComponent, selector: \"cx-product-image-zoom-view\", inputs: { galleryIndex: \"galleryIndex\" }, viewQueries: [{ propertyName: \"defaultImage\", first: true, predicate: [\"defaultImage\"], descendants: true, read: ElementRef }, { propertyName: \"zoomImage\", first: true, predicate: [\"zoomContainer\"], descendants: true, read: ElementRef }, { propertyName: \"zoomedImage\", first: true, predicate: [\"zoomedImage\"], descendants: true, read: ElementRef }], ngImport: i0, template: \"<ng-container *ngIf=\\\"mainImage$ | async as main\\\">\\n  <div class=\\\"cx-main-image-group\\\" *ngIf=\\\"thumbnails$ | async as thumbs\\\">\\n    <div class=\\\"cx-navigate-image\\\">\\n      <button\\n        class=\\\"btn btn-link\\\"\\n        *ngIf=\\\"getPreviousProduct(thumbs) | async as previousProduct\\\"\\n        (click)=\\\"openImage(previousProduct.container)\\\"\\n      >\\n        <cx-icon [type]=\\\"iconType.CARET_LEFT\\\"></cx-icon>\\n      </button>\\n    </div>\\n    <cx-media\\n      #defaultImage\\n      class=\\\"cx-default-image-zoom\\\"\\n      *ngIf=\\\"!isZoomed\\\"\\n      [container]=\\\"main\\\"\\n    >\\n    </cx-media>\\n    <div #zoomContainer class=\\\"cx-zoom-container\\\" *ngIf=\\\"isZoomed\\\">\\n      <cx-media\\n        #zoomedImage\\n        class=\\\"cx-image-zoomed\\\"\\n        [container]=\\\"main\\\"\\n        (mousemove)=\\\"pointerMove($event)\\\"\\n        (touchmove)=\\\"touchMove($event)\\\"\\n        (touchend)=\\\"clearTouch()\\\"\\n      >\\n      </cx-media>\\n    </div>\\n    <div class=\\\"cx-navigate-image\\\">\\n      <button\\n        class=\\\"btn btn-link\\\"\\n        *ngIf=\\\"getNextProduct(thumbs) | async as nextProduct\\\"\\n        (click)=\\\"openImage(nextProduct.container)\\\"\\n      >\\n        <cx-icon [type]=\\\"iconType.CARET_RIGHT\\\"></cx-icon>\\n      </button>\\n    </div>\\n  </div>\\n</ng-container>\\n\\n<cx-product-image-zoom-thumbnails\\n  [thumbs$]=\\\"thumbnails$\\\"\\n  [activeThumb]=\\\"activeThumb\\\"\\n  (productImage)=\\\"changeImage($event)\\\"\\n></cx-product-image-zoom-thumbnails>\\n\", components: [{ type: i1.IconComponent, selector: \"cx-icon,[cxIcon]\", inputs: [\"cxIcon\", \"type\"] }, { type: i1.MediaComponent, selector: \"cx-media\", inputs: [\"container\", \"format\", \"alt\", \"role\", \"loading\"], outputs: [\"loaded\"] }, { type: ProductImageZoomThumbnailsComponent, selector: \"cx-product-image-zoom-thumbnails\", inputs: [\"thumbs$\", \"activeThumb\"], outputs: [\"productImage\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomViewComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-product-image-zoom-view',\n                    templateUrl: './product-image-zoom-view.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1.CurrentProductService }, { type: i0.Renderer2 }, { type: i0.ChangeDetectorRef }, { type: i1.BreakpointService }]; }, propDecorators: { galleryIndex: [{\n                type: Input\n            }], defaultImage: [{\n                type: ViewChild,\n                args: ['defaultImage', { read: ElementRef }]\n            }], zoomImage: [{\n                type: ViewChild,\n                args: ['zoomContainer', { read: ElementRef }]\n            }], zoomedImage: [{\n                type: ViewChild,\n                args: ['zoomedImage', { read: ElementRef }]\n            }] } });\n\nclass ProductImageZoomDialogComponent {\n    constructor(launchDialogService, el) {\n        this.launchDialogService = launchDialogService;\n        this.el = el;\n        this.iconType = ICON_TYPE;\n        this.focusConfig = {\n            trap: true,\n            block: true,\n            autofocus: 'button',\n            focusOnEscape: true,\n        };\n    }\n    handleClick(event) {\n        // Close on click outside the dialog window\n        if (event.target.tagName === this.el.nativeElement.tagName) {\n            this.close('Cross click');\n        }\n    }\n    close(reason = '') {\n        this.launchDialogService.closeDialog(reason);\n    }\n}\nProductImageZoomDialogComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomDialogComponent, deps: [{ token: i1.LaunchDialogService }, { token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomDialogComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductImageZoomDialogComponent, selector: \"cx-product-image-zoom-dialog\", inputs: { galleryIndex: \"galleryIndex\" }, host: { listeners: { \"click\": \"handleClick($event)\" } }, ngImport: i0, template: \"<div class=\\\"cx-image-zoom-dialog\\\" [cxFocus]=\\\"focusConfig\\\">\\n  <div class=\\\"cx-dialog-content\\\">\\n    <div class=\\\"cx-dialog-header\\\">\\n      <button\\n        type=\\\"button\\\"\\n        class=\\\"close\\\"\\n        [attr.aria-label]=\\\"'productImageZoomDialog.close' | cxTranslate\\\"\\n        (click)=\\\"close('cross click')\\\"\\n      >\\n        <span aria-hidden=\\\"true\\\">\\n          <cx-icon [type]=\\\"iconType.CLOSE\\\"></cx-icon>\\n        </span>\\n      </button>\\n    </div>\\n    <div class=\\\"cx-dialog-body\\\">\\n      <cx-product-image-zoom-view\\n        [galleryIndex]=\\\"galleryIndex\\\"\\n      ></cx-product-image-zoom-view>\\n    </div>\\n  </div>\\n</div>\\n\", components: [{ type: i1.IconComponent, selector: \"cx-icon,[cxIcon]\", inputs: [\"cxIcon\", \"type\"] }, { type: ProductImageZoomViewComponent, selector: \"cx-product-image-zoom-view\", inputs: [\"galleryIndex\"] }], directives: [{ type: i1.FocusDirective, selector: \"[cxFocus]\", inputs: [\"cxFocus\"] }], pipes: { \"cxTranslate\": i3$1.TranslatePipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomDialogComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-product-image-zoom-dialog',\n                    templateUrl: 'product-image-zoom-dialog.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1.LaunchDialogService }, { type: i0.ElementRef }]; }, propDecorators: { galleryIndex: [{\n                type: Input\n            }], handleClick: [{\n                type: HostListener,\n                args: ['click', ['$event']]\n            }] } });\n\nconst defaultProductImageZoomLayoutConfig = {\n    launch: {\n        PRODUCT_IMAGE_ZOOM: {\n            inline: true,\n            component: ProductImageZoomDialogComponent,\n            dialogType: DIALOG_TYPE.DIALOG,\n        },\n    },\n};\n\nclass ProductImageZoomTriggerComponent {\n    constructor(launchDialogService, vcr) {\n        this.launchDialogService = launchDialogService;\n        this.vcr = vcr;\n        this.iconType = ICON_TYPE;\n        this.subscriptions = new Subscription();\n        this.dialogClose = new EventEmitter();\n    }\n    set expandImage(expand) {\n        if (expand) {\n            this.triggerZoom();\n        }\n    }\n    triggerZoom() {\n        const component = this.launchDialogService.launch(\"PRODUCT_IMAGE_ZOOM\" /* PRODUCT_IMAGE_ZOOM */, this.vcr);\n        if (component) {\n            this.subscriptions.add(combineLatest([component, this.launchDialogService.dialogClose])\n                .pipe(tap(([comp]) => {\n                if (this.galleryIndex) {\n                    comp.instance.galleryIndex = this.galleryIndex;\n                }\n            }), filter(([, close]) => Boolean(close)), tap(([comp]) => {\n                this.launchDialogService.clear(\"PRODUCT_IMAGE_ZOOM\" /* PRODUCT_IMAGE_ZOOM */);\n                comp === null || comp === void 0 ? void 0 : comp.destroy();\n                this.dialogClose.emit();\n                this.expandButton.nativeElement.focus();\n            }))\n                .subscribe());\n        }\n    }\n    ngOnDestroy() {\n        this.subscriptions.unsubscribe();\n    }\n}\nProductImageZoomTriggerComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomTriggerComponent, deps: [{ token: i1.LaunchDialogService }, { token: i0.ViewContainerRef }], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomTriggerComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductImageZoomTriggerComponent, selector: \"cx-product-image-zoom-trigger\", inputs: { galleryIndex: \"galleryIndex\", expandImage: \"expandImage\" }, outputs: { dialogClose: \"dialogClose\" }, viewQueries: [{ propertyName: \"expandButton\", first: true, predicate: [\"expandButton\"], descendants: true }], ngImport: i0, template: \"<button\\n  #expandButton\\n  class=\\\"btn btn-link cx-action-link\\\"\\n  (click)=\\\"triggerZoom()\\\"\\n>\\n  <span>\\n    {{ 'productImageZoomTrigger.expand' | cxTranslate }}\\n    <cx-icon [type]=\\\"iconType.EXPAND_ARROWS\\\"></cx-icon\\n  ></span>\\n</button>\\n\", components: [{ type: i1.IconComponent, selector: \"cx-icon,[cxIcon]\", inputs: [\"cxIcon\", \"type\"] }], pipes: { \"cxTranslate\": i3$1.TranslatePipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomTriggerComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-product-image-zoom-trigger',\n                    templateUrl: 'product-image-zoom-trigger.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1.LaunchDialogService }, { type: i0.ViewContainerRef }]; }, propDecorators: { expandButton: [{\n                type: ViewChild,\n                args: ['expandButton']\n            }], galleryIndex: [{\n                type: Input\n            }], expandImage: [{\n                type: Input\n            }], dialogClose: [{\n                type: Output\n            }] } });\n\nclass ProductImageZoomProductImagesComponent extends ProductImagesComponent {\n    constructor(currentProductService) {\n        super(currentProductService);\n        this.currentProductService = currentProductService;\n        this.expandImage = new BehaviorSubject(false);\n    }\n    openImage(item) {\n        var _a, _b;\n        this.mainMediaContainer.next(item);\n        this.selectedIndex = (_b = (_a = this.mainMediaContainer.value) === null || _a === void 0 ? void 0 : _a.zoom) === null || _b === void 0 ? void 0 : _b.galleryIndex;\n    }\n    /**\n     * Opens image zoom dialog.\n     */\n    triggerZoom(value) {\n        this.expandImage.next(value);\n    }\n}\nProductImageZoomProductImagesComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomProductImagesComponent, deps: [{ token: i1.CurrentProductService }], target: i0.ɵɵFactoryTarget.Component });\nProductImageZoomProductImagesComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.0.5\", type: ProductImageZoomProductImagesComponent, selector: \"cx-product-images\", usesInheritance: true, ngImport: i0, template: \"<ng-container *ngIf=\\\"mainImage$ | async as main\\\">\\n  <cx-media [container]=\\\"main\\\" (click)=\\\"triggerZoom(true)\\\"></cx-media>\\n  <cx-product-image-zoom-trigger\\n    [expandImage]=\\\"expandImage.value\\\"\\n    [galleryIndex]=\\\"selectedIndex\\\"\\n    (dialogClose)=\\\"triggerZoom(false)\\\"\\n  ></cx-product-image-zoom-trigger>\\n</ng-container>\\n\\n<ng-container *ngIf=\\\"thumbs$ | async as thumbs\\\">\\n  <cx-carousel\\n    *ngIf=\\\"thumbs.length\\\"\\n    class=\\\"thumbs\\\"\\n    [items]=\\\"thumbs\\\"\\n    itemWidth=\\\"120px\\\"\\n    [hideIndicators]=\\\"false\\\"\\n    [template]=\\\"thumb\\\"\\n  ></cx-carousel>\\n</ng-container>\\n\\n<ng-template #thumb let-item=\\\"item\\\">\\n  <cx-media\\n    [container]=\\\"item.container\\\"\\n    tabindex=\\\"0\\\"\\n    (focus)=\\\"openImage(item.container)\\\"\\n    [class.is-active]=\\\"isActive(item.container) | async\\\"\\n    format=\\\"product\\\"\\n  >\\n  </cx-media>\\n</ng-template>\\n\", components: [{ type: i1.MediaComponent, selector: \"cx-media\", inputs: [\"container\", \"format\", \"alt\", \"role\", \"loading\"], outputs: [\"loaded\"] }, { type: ProductImageZoomTriggerComponent, selector: \"cx-product-image-zoom-trigger\", inputs: [\"galleryIndex\", \"expandImage\"], outputs: [\"dialogClose\"] }, { type: i1.CarouselComponent, selector: \"cx-carousel\", inputs: [\"title\", \"items\", \"template\", \"itemWidth\", \"hideIndicators\", \"indicatorIcon\", \"previousIcon\", \"nextIcon\"] }], directives: [{ type: i3.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }], pipes: { \"async\": i3.AsyncPipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomProductImagesComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'cx-product-images',\n                    templateUrl: './product-image-zoom-product-images.component.html',\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                }]\n        }], ctorParameters: function () { return [{ type: i1.CurrentProductService }]; } });\n\nclass ProductImageZoomModule {\n}\nProductImageZoomModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nProductImageZoomModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomModule, declarations: [ProductImageZoomDialogComponent,\n        ProductImageZoomProductImagesComponent,\n        ProductImageZoomThumbnailsComponent,\n        ProductImageZoomTriggerComponent,\n        ProductImageZoomViewComponent], imports: [CarouselModule,\n        CommonModule,\n        I18nModule,\n        IconModule,\n        KeyboardFocusModule,\n        MediaModule,\n        OutletModule,\n        RouterModule], exports: [ProductImageZoomDialogComponent,\n        ProductImageZoomProductImagesComponent,\n        ProductImageZoomThumbnailsComponent,\n        ProductImageZoomTriggerComponent,\n        ProductImageZoomViewComponent] });\nProductImageZoomModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomModule, providers: [\n        provideConfig(defaultProductImageZoomLayoutConfig),\n        provideDefaultConfig({\n            cmsComponents: {\n                ProductImagesComponent: {\n                    component: ProductImageZoomProductImagesComponent,\n                },\n            },\n        }),\n    ], imports: [[\n            CarouselModule,\n            CommonModule,\n            I18nModule,\n            IconModule,\n            KeyboardFocusModule,\n            MediaModule,\n            OutletModule,\n            RouterModule,\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CarouselModule,\n                        CommonModule,\n                        I18nModule,\n                        IconModule,\n                        KeyboardFocusModule,\n                        MediaModule,\n                        OutletModule,\n                        RouterModule,\n                    ],\n                    providers: [\n                        provideConfig(defaultProductImageZoomLayoutConfig),\n                        provideDefaultConfig({\n                            cmsComponents: {\n                                ProductImagesComponent: {\n                                    component: ProductImageZoomProductImagesComponent,\n                                },\n                            },\n                        }),\n                    ],\n                    declarations: [\n                        ProductImageZoomDialogComponent,\n                        ProductImageZoomProductImagesComponent,\n                        ProductImageZoomThumbnailsComponent,\n                        ProductImageZoomTriggerComponent,\n                        ProductImageZoomViewComponent,\n                    ],\n                    exports: [\n                        ProductImageZoomDialogComponent,\n                        ProductImageZoomProductImagesComponent,\n                        ProductImageZoomThumbnailsComponent,\n                        ProductImageZoomTriggerComponent,\n                        ProductImageZoomViewComponent,\n                    ],\n                }]\n        }] });\n\nclass ProductImageZoomComponentsModule {\n}\nProductImageZoomComponentsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomComponentsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nProductImageZoomComponentsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomComponentsModule, imports: [ProductImageZoomModule] });\nProductImageZoomComponentsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomComponentsModule, imports: [[ProductImageZoomModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: ProductImageZoomComponentsModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [ProductImageZoomModule],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ProductImageZoomComponentsModule, ProductImageZoomDialogComponent, ProductImageZoomModule, ProductImageZoomProductImagesComponent, ProductImageZoomThumbnailsComponent, ProductImageZoomTriggerComponent, ProductImageZoomViewComponent, defaultProductImageZoomLayoutConfig };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}