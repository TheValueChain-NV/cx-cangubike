{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, NgModule } from '@angular/core';\nimport { UserAccountChangedEvent, UserAccountFacade } from '@spartacus/user/account/root';\nimport * as i2 from '@spartacus/core';\nimport { LoginEvent, LogoutEvent } from '@spartacus/core';\nimport { switchMap } from 'rxjs/operators';\nconst USER_ACCOUNT_NORMALIZER = new InjectionToken('UserAccountNormalizer');\nconst USER_ACCOUNT_SERIALIZER = new InjectionToken('UserAccountSerializer');\nclass UserAccountAdapter {}\nclass UserAccountConnector {\n  constructor(adapter) {\n    this.adapter = adapter;\n  }\n  get(userId) {\n    return this.adapter.load(userId);\n  }\n}\nUserAccountConnector.ɵfac = function UserAccountConnector_Factory(t) {\n  return new (t || UserAccountConnector)(i0.ɵɵinject(UserAccountAdapter));\n};\nUserAccountConnector.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: UserAccountConnector,\n  factory: UserAccountConnector.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(UserAccountConnector, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: UserAccountAdapter\n    }];\n  }, null);\n})();\nclass UserAccountService {\n  constructor(userAccountConnector, userIdService, query) {\n    this.userAccountConnector = userAccountConnector;\n    this.userIdService = userIdService;\n    this.query = query;\n    this.userQuery = this.query.create(() => this.userIdService.takeUserId(true).pipe(switchMap(userId => this.userAccountConnector.get(userId))), {\n      reloadOn: [UserAccountChangedEvent],\n      resetOn: [LoginEvent, LogoutEvent]\n    });\n  }\n  /**\n   * Returns the current user.\n   */\n  get() {\n    return this.userQuery.get();\n  }\n}\nUserAccountService.ɵfac = function UserAccountService_Factory(t) {\n  return new (t || UserAccountService)(i0.ɵɵinject(UserAccountConnector), i0.ɵɵinject(i2.UserIdService), i0.ɵɵinject(i2.QueryService));\n};\nUserAccountService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: UserAccountService,\n  factory: UserAccountService.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(UserAccountService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: UserAccountConnector\n    }, {\n      type: i2.UserIdService\n    }, {\n      type: i2.QueryService\n    }];\n  }, null);\n})();\nconst facadeProviders = [UserAccountService, {\n  provide: UserAccountFacade,\n  useExisting: UserAccountService\n}];\nclass UserAccountCoreModule {}\nUserAccountCoreModule.ɵfac = function UserAccountCoreModule_Factory(t) {\n  return new (t || UserAccountCoreModule)();\n};\nUserAccountCoreModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: UserAccountCoreModule\n});\nUserAccountCoreModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [UserAccountConnector, ...facadeProviders]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(UserAccountCoreModule, [{\n    type: NgModule,\n    args: [{\n      providers: [UserAccountConnector, ...facadeProviders]\n    }]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { USER_ACCOUNT_NORMALIZER, USER_ACCOUNT_SERIALIZER, UserAccountAdapter, UserAccountConnector, UserAccountCoreModule, UserAccountService };","map":{"version":3,"names":["i0","InjectionToken","Injectable","NgModule","UserAccountChangedEvent","UserAccountFacade","i2","LoginEvent","LogoutEvent","switchMap","USER_ACCOUNT_NORMALIZER","USER_ACCOUNT_SERIALIZER","UserAccountAdapter","UserAccountConnector","constructor","adapter","get","userId","load","ɵfac","ɵprov","type","UserAccountService","userAccountConnector","userIdService","query","userQuery","create","takeUserId","pipe","reloadOn","resetOn","UserIdService","QueryService","facadeProviders","provide","useExisting","UserAccountCoreModule","ɵmod","ɵinj","args","providers"],"sources":["/home/hamid/learning/cx-cangubike/js-storefront/olf/node_modules/@spartacus/user/fesm2015/spartacus-user-account-core.js"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, NgModule } from '@angular/core';\nimport { UserAccountChangedEvent, UserAccountFacade } from '@spartacus/user/account/root';\nimport * as i2 from '@spartacus/core';\nimport { LoginEvent, LogoutEvent } from '@spartacus/core';\nimport { switchMap } from 'rxjs/operators';\n\nconst USER_ACCOUNT_NORMALIZER = new InjectionToken('UserAccountNormalizer');\nconst USER_ACCOUNT_SERIALIZER = new InjectionToken('UserAccountSerializer');\n\nclass UserAccountAdapter {\n}\n\nclass UserAccountConnector {\n    constructor(adapter) {\n        this.adapter = adapter;\n    }\n    get(userId) {\n        return this.adapter.load(userId);\n    }\n}\nUserAccountConnector.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: UserAccountConnector, deps: [{ token: UserAccountAdapter }], target: i0.ɵɵFactoryTarget.Injectable });\nUserAccountConnector.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: UserAccountConnector });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: UserAccountConnector, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: UserAccountAdapter }]; } });\n\nclass UserAccountService {\n    constructor(userAccountConnector, userIdService, query) {\n        this.userAccountConnector = userAccountConnector;\n        this.userIdService = userIdService;\n        this.query = query;\n        this.userQuery = this.query.create(() => this.userIdService\n            .takeUserId(true)\n            .pipe(switchMap((userId) => this.userAccountConnector.get(userId))), {\n            reloadOn: [UserAccountChangedEvent],\n            resetOn: [LoginEvent, LogoutEvent],\n        });\n    }\n    /**\n     * Returns the current user.\n     */\n    get() {\n        return this.userQuery.get();\n    }\n}\nUserAccountService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: UserAccountService, deps: [{ token: UserAccountConnector }, { token: i2.UserIdService }, { token: i2.QueryService }], target: i0.ɵɵFactoryTarget.Injectable });\nUserAccountService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: UserAccountService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: UserAccountService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: UserAccountConnector }, { type: i2.UserIdService }, { type: i2.QueryService }]; } });\n\nconst facadeProviders = [\n    UserAccountService,\n    {\n        provide: UserAccountFacade,\n        useExisting: UserAccountService,\n    },\n];\n\nclass UserAccountCoreModule {\n}\nUserAccountCoreModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: UserAccountCoreModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nUserAccountCoreModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: UserAccountCoreModule });\nUserAccountCoreModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: UserAccountCoreModule, providers: [UserAccountConnector, ...facadeProviders] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: UserAccountCoreModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    providers: [UserAccountConnector, ...facadeProviders],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { USER_ACCOUNT_NORMALIZER, USER_ACCOUNT_SERIALIZER, UserAccountAdapter, UserAccountConnector, UserAccountCoreModule, UserAccountService };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}