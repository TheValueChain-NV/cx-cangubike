{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Injectable, NgModule } from '@angular/core';\nimport * as i2 from '@spartacus/core';\nimport { CART_NORMALIZER, provideDefaultConfig } from '@spartacus/core';\nimport { pluck, map } from 'rxjs/operators';\nimport * as i1 from '@angular/common/http';\nimport { CommonModule } from '@angular/common';\nimport { SavedCartAdapter } from '@spartacus/cart/saved-cart/core';\nclass OccSavedCartAdapter {\n  constructor(http, occEndpoints, converter) {\n    this.http = http;\n    this.occEndpoints = occEndpoints;\n    this.converter = converter;\n  }\n  load(userId, cartId) {\n    return this.http.get(this.getSavedCartEndpoint(userId, cartId)).pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n  }\n  loadList(userId) {\n    return this.http.get(this.getSavedCartListEndpoint(userId)).pipe(pluck('carts'), map(carts => carts !== null && carts !== void 0 ? carts : []), this.converter.pipeableMany(CART_NORMALIZER));\n  }\n  restoreSavedCart(userId, cartId) {\n    return this.http.patch(this.getRestoreSavedCartEndpoint(userId, cartId), cartId).pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n  }\n  saveCart(userId, cartId, saveCartName, saveCartDescription) {\n    return this.http.patch(this.getSaveCartEndpoint(userId, cartId, saveCartName, saveCartDescription), cartId).pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n  }\n  cloneSavedCart(userId, cartId, saveCartName) {\n    return this.http.post(this.getCloneSavedCartEndpoint(userId, cartId, saveCartName), cartId).pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n  }\n  getSavedCartEndpoint(userId, cartId) {\n    return this.occEndpoints.buildUrl('savedCart', {\n      urlParams: {\n        userId,\n        cartId\n      }\n    });\n  }\n  getSavedCartListEndpoint(userId) {\n    return this.occEndpoints.buildUrl('savedCarts', {\n      urlParams: {\n        userId\n      }\n    });\n  }\n  getRestoreSavedCartEndpoint(userId, cartId) {\n    return this.occEndpoints.buildUrl('restoreSavedCart', {\n      urlParams: {\n        userId,\n        cartId\n      }\n    });\n  }\n  getSaveCartEndpoint(userId, cartId, saveCartName, saveCartDescription) {\n    return this.occEndpoints.buildUrl('saveCart', {\n      urlParams: {\n        userId,\n        cartId,\n        saveCartName,\n        saveCartDescription\n      }\n    });\n  }\n  getCloneSavedCartEndpoint(userId, cartId, saveCartName) {\n    return this.occEndpoints.buildUrl('cloneSavedCart', {\n      urlParams: {\n        userId,\n        cartId,\n        saveCartName\n      }\n    });\n  }\n}\nOccSavedCartAdapter.ɵfac = function OccSavedCartAdapter_Factory(t) {\n  return new (t || OccSavedCartAdapter)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.OccEndpointsService), i0.ɵɵinject(i2.ConverterService));\n};\nOccSavedCartAdapter.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: OccSavedCartAdapter,\n  factory: OccSavedCartAdapter.ɵfac\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(OccSavedCartAdapter, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1.HttpClient\n    }, {\n      type: i2.OccEndpointsService\n    }, {\n      type: i2.ConverterService\n    }];\n  }, null);\n})();\n\n// Imported for side effects (module augmentation)\n\nconst defaultOccSavedCartConfig = {\n  backend: {\n    occ: {\n      endpoints: {\n        savedCarts: '/users/${userId}/carts?savedCartsOnly=true&fields=carts(DEFAULT,potentialProductPromotions,appliedProductPromotions,potentialOrderPromotions,appliedOrderPromotions,entries(totalPrice(formattedValue),product(images(FULL),stock(FULL)),basePrice(formattedValue,value),updateable),totalPrice(formattedValue),totalItems,totalPriceWithTax(formattedValue),totalDiscounts(value,formattedValue),subTotal(formattedValue),deliveryItemsQuantity,deliveryCost(formattedValue),totalTax(formattedValue, value),pickupItemsQuantity,net,appliedVouchers,productDiscounts(formattedValue),saveTime,user,name,description)',\n        saveCart: '/users/${userId}/carts/${cartId}/save?saveCartName=${saveCartName}&saveCartDescription=${saveCartDescription}',\n        savedCart: '/users/${userId}/carts/${cartId}/savedcart',\n        restoreSavedCart: '/users/${userId}/carts/${cartId}/restoresavedcart',\n        cloneSavedCart: '/users/${userId}/carts/${cartId}/clonesavedcart?name=${saveCartName}'\n      }\n    }\n  }\n};\nclass SavedCartOccModule {}\nSavedCartOccModule.ɵfac = function SavedCartOccModule_Factory(t) {\n  return new (t || SavedCartOccModule)();\n};\nSavedCartOccModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: SavedCartOccModule\n});\nSavedCartOccModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [provideDefaultConfig(defaultOccSavedCartConfig), {\n    provide: SavedCartAdapter,\n    useClass: OccSavedCartAdapter\n  }],\n  imports: [[CommonModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(SavedCartOccModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule],\n      providers: [provideDefaultConfig(defaultOccSavedCartConfig), {\n        provide: SavedCartAdapter,\n        useClass: OccSavedCartAdapter\n      }]\n    }]\n  }], null, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { OccSavedCartAdapter, SavedCartOccModule };","map":{"version":3,"names":["i0","Injectable","NgModule","i2","CART_NORMALIZER","provideDefaultConfig","pluck","map","i1","CommonModule","SavedCartAdapter","OccSavedCartAdapter","constructor","http","occEndpoints","converter","load","userId","cartId","get","getSavedCartEndpoint","pipe","pipeable","loadList","getSavedCartListEndpoint","carts","pipeableMany","restoreSavedCart","patch","getRestoreSavedCartEndpoint","saveCart","saveCartName","saveCartDescription","getSaveCartEndpoint","cloneSavedCart","post","getCloneSavedCartEndpoint","buildUrl","urlParams","ɵfac","HttpClient","OccEndpointsService","ConverterService","ɵprov","type","defaultOccSavedCartConfig","backend","occ","endpoints","savedCarts","savedCart","SavedCartOccModule","ɵmod","ɵinj","provide","useClass","args","imports","providers"],"sources":["/home/hamid/cangubike/js-storefront/olf/node_modules/@spartacus/cart/fesm2015/spartacus-cart-saved-cart-occ.js"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { Injectable, NgModule } from '@angular/core';\nimport * as i2 from '@spartacus/core';\nimport { CART_NORMALIZER, provideDefaultConfig } from '@spartacus/core';\nimport { pluck, map } from 'rxjs/operators';\nimport * as i1 from '@angular/common/http';\nimport { CommonModule } from '@angular/common';\nimport { SavedCartAdapter } from '@spartacus/cart/saved-cart/core';\n\nclass OccSavedCartAdapter {\n    constructor(http, occEndpoints, converter) {\n        this.http = http;\n        this.occEndpoints = occEndpoints;\n        this.converter = converter;\n    }\n    load(userId, cartId) {\n        return this.http\n            .get(this.getSavedCartEndpoint(userId, cartId))\n            .pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n    }\n    loadList(userId) {\n        return this.http\n            .get(this.getSavedCartListEndpoint(userId))\n            .pipe(pluck('carts'), map((carts) => carts !== null && carts !== void 0 ? carts : []), this.converter.pipeableMany(CART_NORMALIZER));\n    }\n    restoreSavedCart(userId, cartId) {\n        return this.http\n            .patch(this.getRestoreSavedCartEndpoint(userId, cartId), cartId)\n            .pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n    }\n    saveCart(userId, cartId, saveCartName, saveCartDescription) {\n        return this.http\n            .patch(this.getSaveCartEndpoint(userId, cartId, saveCartName, saveCartDescription), cartId)\n            .pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n    }\n    cloneSavedCart(userId, cartId, saveCartName) {\n        return this.http\n            .post(this.getCloneSavedCartEndpoint(userId, cartId, saveCartName), cartId)\n            .pipe(pluck('savedCartData'), this.converter.pipeable(CART_NORMALIZER));\n    }\n    getSavedCartEndpoint(userId, cartId) {\n        return this.occEndpoints.buildUrl('savedCart', {\n            urlParams: { userId, cartId },\n        });\n    }\n    getSavedCartListEndpoint(userId) {\n        return this.occEndpoints.buildUrl('savedCarts', { urlParams: { userId } });\n    }\n    getRestoreSavedCartEndpoint(userId, cartId) {\n        return this.occEndpoints.buildUrl('restoreSavedCart', {\n            urlParams: { userId, cartId },\n        });\n    }\n    getSaveCartEndpoint(userId, cartId, saveCartName, saveCartDescription) {\n        return this.occEndpoints.buildUrl('saveCart', {\n            urlParams: {\n                userId,\n                cartId,\n                saveCartName,\n                saveCartDescription,\n            },\n        });\n    }\n    getCloneSavedCartEndpoint(userId, cartId, saveCartName) {\n        return this.occEndpoints.buildUrl('cloneSavedCart', {\n            urlParams: { userId, cartId, saveCartName },\n        });\n    }\n}\nOccSavedCartAdapter.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: OccSavedCartAdapter, deps: [{ token: i1.HttpClient }, { token: i2.OccEndpointsService }, { token: i2.ConverterService }], target: i0.ɵɵFactoryTarget.Injectable });\nOccSavedCartAdapter.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: OccSavedCartAdapter });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: OccSavedCartAdapter, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1.HttpClient }, { type: i2.OccEndpointsService }, { type: i2.ConverterService }]; } });\n\n// Imported for side effects (module augmentation)\n\nconst defaultOccSavedCartConfig = {\n    backend: {\n        occ: {\n            endpoints: {\n                savedCarts: '/users/${userId}/carts?savedCartsOnly=true&fields=carts(DEFAULT,potentialProductPromotions,appliedProductPromotions,potentialOrderPromotions,appliedOrderPromotions,entries(totalPrice(formattedValue),product(images(FULL),stock(FULL)),basePrice(formattedValue,value),updateable),totalPrice(formattedValue),totalItems,totalPriceWithTax(formattedValue),totalDiscounts(value,formattedValue),subTotal(formattedValue),deliveryItemsQuantity,deliveryCost(formattedValue),totalTax(formattedValue, value),pickupItemsQuantity,net,appliedVouchers,productDiscounts(formattedValue),saveTime,user,name,description)',\n                saveCart: '/users/${userId}/carts/${cartId}/save?saveCartName=${saveCartName}&saveCartDescription=${saveCartDescription}',\n                savedCart: '/users/${userId}/carts/${cartId}/savedcart',\n                restoreSavedCart: '/users/${userId}/carts/${cartId}/restoresavedcart',\n                cloneSavedCart: '/users/${userId}/carts/${cartId}/clonesavedcart?name=${saveCartName}',\n            },\n        },\n    },\n};\n\nclass SavedCartOccModule {\n}\nSavedCartOccModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: SavedCartOccModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nSavedCartOccModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: SavedCartOccModule, imports: [CommonModule] });\nSavedCartOccModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: SavedCartOccModule, providers: [\n        provideDefaultConfig(defaultOccSavedCartConfig),\n        {\n            provide: SavedCartAdapter,\n            useClass: OccSavedCartAdapter,\n        },\n    ], imports: [[CommonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: SavedCartOccModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule],\n                    providers: [\n                        provideDefaultConfig(defaultOccSavedCartConfig),\n                        {\n                            provide: SavedCartAdapter,\n                            useClass: OccSavedCartAdapter,\n                        },\n                    ],\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { OccSavedCartAdapter, SavedCartOccModule };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}