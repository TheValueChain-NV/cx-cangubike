{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Injectable, InjectionToken, NgModule } from '@angular/core';\nimport * as i1$1 from '@spartacus/core';\nimport { StateUtils, normalizeHttpError, StateModule, provideDefaultConfig, MODULE_INITIALIZER, OccConfig, Config } from '@spartacus/core';\nimport * as i1$2 from '@ngrx/store';\nimport { createFeatureSelector, createSelector, select, StoreModule } from '@ngrx/store';\nimport { of, Subscription, combineLatest } from 'rxjs';\nimport { map, switchMap, catchError, filter } from 'rxjs/operators';\nimport { __decorate } from 'tslib';\nimport * as i1 from '@ngrx/effects';\nimport { ofType, Effect, EffectsModule } from '@ngrx/effects';\nimport * as i3 from '@spartacus/asm/root';\nconst defaultAsmConfig = {\n  asm: {\n    agentSessionTimer: {\n      startingDelayInSeconds: 600\n    },\n    customerSearch: {\n      maxResults: 20\n    }\n  }\n};\nclass AsmAdapter {}\nclass AsmConnector {\n  constructor(asmAdapter) {\n    this.asmAdapter = asmAdapter;\n  }\n  customerSearch(options) {\n    return this.asmAdapter.customerSearch(options);\n  }\n}\nAsmConnector.ɵfac = function AsmConnector_Factory(t) {\n  return new (t || AsmConnector)(i0.ɵɵinject(AsmAdapter));\n};\nAsmConnector.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: AsmConnector,\n  factory: AsmConnector.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AsmConnector, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: AsmAdapter\n    }];\n  }, null);\n})();\nconst ASM_UI_UPDATE = '[Asm] UI Update';\nclass AsmUiUpdate {\n  constructor(payload) {\n    this.payload = payload;\n    this.type = ASM_UI_UPDATE;\n  }\n}\nconst ASM_FEATURE = 'asm';\nconst CUSTOMER_SEARCH_DATA = '[asm] Customer search data';\nconst CUSTOMER_SEARCH = '[Asm] Customer Search';\nconst CUSTOMER_SEARCH_FAIL = '[Asm] Customer Search Fail';\nconst CUSTOMER_SEARCH_SUCCESS = '[Asm] Customer Search Success';\nconst CUSTOMER_SEARCH_RESET = '[Asm] Customer Search Reset';\nclass CustomerSearch extends StateUtils.LoaderLoadAction {\n  constructor(payload) {\n    super(CUSTOMER_SEARCH_DATA);\n    this.payload = payload;\n    this.type = CUSTOMER_SEARCH;\n  }\n}\nclass CustomerSearchFail extends StateUtils.LoaderFailAction {\n  constructor(payload) {\n    super(CUSTOMER_SEARCH_DATA);\n    this.payload = payload;\n    this.type = CUSTOMER_SEARCH_FAIL;\n  }\n}\nclass CustomerSearchSuccess extends StateUtils.LoaderSuccessAction {\n  constructor(payload) {\n    super(CUSTOMER_SEARCH_DATA);\n    this.payload = payload;\n    this.type = CUSTOMER_SEARCH_SUCCESS;\n  }\n}\nclass CustomerSearchReset extends StateUtils.LoaderResetAction {\n  constructor() {\n    super(CUSTOMER_SEARCH_DATA);\n    this.type = CUSTOMER_SEARCH_RESET;\n  }\n}\nconst LOGOUT_CUSTOMER_SUPPORT_AGENT = '[Auth] Logout Customer Support Agent';\n/**\n * Action dispatched after customer support agent logout. Used to clear store data (ui, search results)\n */\nclass LogoutCustomerSupportAgent {\n  constructor() {\n    this.type = LOGOUT_CUSTOMER_SUPPORT_AGENT;\n  }\n}\nvar customerGroup_actions = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ASM_UI_UPDATE: ASM_UI_UPDATE,\n  AsmUiUpdate: AsmUiUpdate,\n  CUSTOMER_SEARCH: CUSTOMER_SEARCH,\n  CUSTOMER_SEARCH_FAIL: CUSTOMER_SEARCH_FAIL,\n  CUSTOMER_SEARCH_SUCCESS: CUSTOMER_SEARCH_SUCCESS,\n  CUSTOMER_SEARCH_RESET: CUSTOMER_SEARCH_RESET,\n  CustomerSearch: CustomerSearch,\n  CustomerSearchFail: CustomerSearchFail,\n  CustomerSearchSuccess: CustomerSearchSuccess,\n  CustomerSearchReset: CustomerSearchReset,\n  LOGOUT_CUSTOMER_SUPPORT_AGENT: LOGOUT_CUSTOMER_SUPPORT_AGENT,\n  LogoutCustomerSupportAgent: LogoutCustomerSupportAgent\n});\nclass CustomerEffects {\n  constructor(actions$, asmConnector) {\n    this.actions$ = actions$;\n    this.asmConnector = asmConnector;\n    this.customerSearch$ = this.actions$.pipe(ofType(CUSTOMER_SEARCH), map(action => action.payload), switchMap(options => this.asmConnector.customerSearch(options).pipe(map(customerSearchResults => {\n      return new CustomerSearchSuccess(customerSearchResults);\n    }), catchError(error => of(new CustomerSearchFail(normalizeHttpError(error)))))));\n  }\n}\nCustomerEffects.ɵfac = function CustomerEffects_Factory(t) {\n  return new (t || CustomerEffects)(i0.ɵɵinject(i1.Actions), i0.ɵɵinject(AsmConnector));\n};\nCustomerEffects.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: CustomerEffects,\n  factory: CustomerEffects.ɵfac\n});\n__decorate([Effect()], CustomerEffects.prototype, \"customerSearch$\", void 0);\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(CustomerEffects, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1.Actions\n    }, {\n      type: AsmConnector\n    }];\n  }, {\n    customerSearch$: []\n  });\n})();\nconst effects = [CustomerEffects];\nconst initialState = {\n  collapsed: false\n};\nfunction reducer(state = initialState, action) {\n  switch (action.type) {\n    case ASM_UI_UPDATE:\n      {\n        return Object.assign(Object.assign({}, state), action.payload);\n      }\n    default:\n      {\n        return state;\n      }\n  }\n}\nfunction getReducers() {\n  return {\n    customerSearchResult: StateUtils.loaderReducer(CUSTOMER_SEARCH_DATA),\n    asmUi: reducer\n  };\n}\nconst reducerToken = new InjectionToken('AsmReducers');\nconst reducerProvider = {\n  provide: reducerToken,\n  useFactory: getReducers\n};\nfunction clearCustomerSupportAgentAsmState(reducer) {\n  return function (state, action) {\n    if (action.type === LOGOUT_CUSTOMER_SUPPORT_AGENT) {\n      state = Object.assign(Object.assign({}, state), {\n        customerSearchResult: {}\n      });\n    }\n    return reducer(state, action);\n  };\n}\nconst metaReducers = [clearCustomerSupportAgentAsmState];\nconst getAsmState = createFeatureSelector(ASM_FEATURE);\nconst getAsmUi = createSelector(getAsmState, state => state.asmUi);\nconst getCustomerSearchResultsLoaderState = createSelector(getAsmState, state => state.customerSearchResult);\nconst getCustomerSearchResults = createSelector(getCustomerSearchResultsLoaderState, state => StateUtils.loaderValueSelector(state));\nconst getCustomerSearchResultsLoading = createSelector(getCustomerSearchResultsLoaderState, state => StateUtils.loaderLoadingSelector(state));\nvar asmGroup_selectors = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  getAsmUi: getAsmUi,\n  getCustomerSearchResultsLoaderState: getCustomerSearchResultsLoaderState,\n  getCustomerSearchResults: getCustomerSearchResults,\n  getCustomerSearchResultsLoading: getCustomerSearchResultsLoading,\n  getAsmState: getAsmState\n});\n\n/**\n * Responsible for storing ASM state in the browser storage.\n * Uses `StatePersistenceService` mechanism.\n */\nclass AsmStatePersistenceService {\n  constructor(statePersistenceService, store, authStorageService) {\n    this.statePersistenceService = statePersistenceService;\n    this.store = store;\n    this.authStorageService = authStorageService;\n    this.subscription = new Subscription();\n    /**\n     * Identifier used for storage key.\n     */\n    this.key = 'asm';\n  }\n  /**\n   * Initializes the synchronization between state and browser storage.\n   */\n  initSync() {\n    this.subscription.add(this.statePersistenceService.syncWithStorage({\n      key: this.key,\n      state$: this.getAsmState(),\n      onRead: state => this.onRead(state)\n    }));\n  }\n  /**\n   * Gets and transforms state from different sources into the form that should\n   * be saved in storage.\n   */\n  getAsmState() {\n    return combineLatest([this.store.pipe(\n    // Since getAsmState() may be called while the module is lazy loded\n    // The asm state slice may not exist yet in the first store emissions.\n    filter(store => !!store.asm), select(getAsmUi)), of(this.authStorageService.getEmulatedUserToken()), this.authStorageService.getTokenTarget()]).pipe(map(([ui, emulatedUserToken, tokenTarget]) => {\n      let emulatedToken = emulatedUserToken;\n      if (emulatedToken) {\n        emulatedToken = Object.assign({}, emulatedUserToken);\n        // To minimize risk of user account hijacking we don't persist emulated user refresh_token\n        delete emulatedToken.refresh_token;\n      }\n      return {\n        ui,\n        emulatedUserToken: emulatedToken,\n        tokenTarget\n      };\n    }));\n  }\n  /**\n   * Function called on each browser storage read.\n   * Used to update state from browser -> state.\n   */\n  onRead(state) {\n    if (state) {\n      if (state.ui) {\n        this.store.dispatch(new AsmUiUpdate(state.ui));\n      }\n      if (state.emulatedUserToken) {\n        this.authStorageService.setEmulatedUserToken(state.emulatedUserToken);\n      }\n      if (state.tokenTarget) {\n        this.authStorageService.setTokenTarget(state.tokenTarget);\n      }\n    }\n  }\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\nAsmStatePersistenceService.ɵfac = function AsmStatePersistenceService_Factory(t) {\n  return new (t || AsmStatePersistenceService)(i0.ɵɵinject(i1$1.StatePersistenceService), i0.ɵɵinject(i1$2.Store), i0.ɵɵinject(i3.AsmAuthStorageService));\n};\nAsmStatePersistenceService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: AsmStatePersistenceService,\n  factory: AsmStatePersistenceService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AsmStatePersistenceService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i1$1.StatePersistenceService\n    }, {\n      type: i1$2.Store\n    }, {\n      type: i3.AsmAuthStorageService\n    }];\n  }, null);\n})();\nclass AsmStoreModule {}\nAsmStoreModule.ɵfac = function AsmStoreModule_Factory(t) {\n  return new (t || AsmStoreModule)();\n};\nAsmStoreModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: AsmStoreModule\n});\nAsmStoreModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [reducerProvider],\n  imports: [[CommonModule, StateModule, StoreModule.forFeature(ASM_FEATURE, reducerToken, {\n    metaReducers\n  }), EffectsModule.forFeature(effects)]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AsmStoreModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, StateModule, StoreModule.forFeature(ASM_FEATURE, reducerToken, {\n        metaReducers\n      }), EffectsModule.forFeature(effects)],\n      providers: [reducerProvider]\n    }]\n  }], null, null);\n})();\nfunction asmStatePersistenceFactory(asmStatePersistenceService) {\n  const result = () => asmStatePersistenceService.initSync();\n  return result;\n}\nclass AsmCoreModule {}\nAsmCoreModule.ɵfac = function AsmCoreModule_Factory(t) {\n  return new (t || AsmCoreModule)();\n};\nAsmCoreModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: AsmCoreModule\n});\nAsmCoreModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [provideDefaultConfig(defaultAsmConfig), AsmConnector, {\n    provide: MODULE_INITIALIZER,\n    useFactory: asmStatePersistenceFactory,\n    deps: [AsmStatePersistenceService],\n    multi: true\n  }],\n  imports: [[CommonModule, AsmStoreModule]]\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AsmCoreModule, [{\n    type: NgModule,\n    args: [{\n      imports: [CommonModule, AsmStoreModule],\n      providers: [provideDefaultConfig(defaultAsmConfig), AsmConnector, {\n        provide: MODULE_INITIALIZER,\n        useFactory: asmStatePersistenceFactory,\n        deps: [AsmStatePersistenceService],\n        multi: true\n      }]\n    }]\n  }], null, null);\n})();\nclass AsmConfig extends OccConfig {}\nAsmConfig.ɵfac = /* @__PURE__ */function () {\n  let ɵAsmConfig_BaseFactory;\n  return function AsmConfig_Factory(t) {\n    return (ɵAsmConfig_BaseFactory || (ɵAsmConfig_BaseFactory = i0.ɵɵgetInheritedFactory(AsmConfig)))(t || AsmConfig);\n  };\n}();\nAsmConfig.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: AsmConfig,\n  factory: function AsmConfig_Factory(t) {\n    let r = null;\n    if (t) {\n      r = new (t || AsmConfig)();\n    } else {\n      r = i0.ɵɵinject(Config);\n    }\n    return r;\n  },\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AsmConfig, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root',\n      useExisting: Config\n    }]\n  }], null, null);\n})();\nconst CUSTOMER_SEARCH_PAGE_NORMALIZER = new InjectionToken('CustomerSearchPageNormalizer');\nclass AsmService {\n  constructor(store) {\n    this.store = store;\n  }\n  /**\n   * Search for customers\n   * @param options\n   */\n  customerSearch(options) {\n    this.store.dispatch(new CustomerSearch(options));\n  }\n  /**\n   * Reset the customer search result data to the initial state.\n   */\n  customerSearchReset() {\n    this.store.dispatch(new CustomerSearchReset());\n  }\n  /**\n   * Returns the customer search result data.\n   */\n  getCustomerSearchResults() {\n    return this.store.pipe(select(getCustomerSearchResults));\n  }\n  /**\n   * Returns the customer search result loading status.\n   */\n  getCustomerSearchResultsLoading() {\n    return this.store.pipe(select(getCustomerSearchResultsLoading));\n  }\n  /**\n   * Updates the state of the ASM UI\n   */\n  updateAsmUiState(asmUi) {\n    this.store.dispatch(new AsmUiUpdate(asmUi));\n  }\n  /**\n   * Get the state of the ASM UI\n   */\n  getAsmUiState() {\n    return this.store.pipe(select(getAsmUi));\n  }\n}\nAsmService.ɵfac = function AsmService_Factory(t) {\n  return new (t || AsmService)(i0.ɵɵinject(i1$2.Store));\n};\nAsmService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: AsmService,\n  factory: AsmService.ɵfac,\n  providedIn: 'root'\n});\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AsmService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: i1$2.Store\n    }];\n  }, null);\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ASM_FEATURE, customerGroup_actions as AsmActions, AsmAdapter, AsmConfig, AsmConnector, AsmCoreModule, asmGroup_selectors as AsmSelectors, AsmService, AsmStatePersistenceService, CUSTOMER_SEARCH_DATA, CUSTOMER_SEARCH_PAGE_NORMALIZER, asmStatePersistenceFactory };","map":{"version":3,"names":["CommonModule","i0","Injectable","InjectionToken","NgModule","i1$1","StateUtils","normalizeHttpError","StateModule","provideDefaultConfig","MODULE_INITIALIZER","OccConfig","Config","i1$2","createFeatureSelector","createSelector","select","StoreModule","of","Subscription","combineLatest","map","switchMap","catchError","filter","__decorate","i1","ofType","Effect","EffectsModule","i3","defaultAsmConfig","asm","agentSessionTimer","startingDelayInSeconds","customerSearch","maxResults","AsmAdapter","AsmConnector","constructor","asmAdapter","options","ɵfac","ɵprov","type","args","providedIn","ASM_UI_UPDATE","AsmUiUpdate","payload","ASM_FEATURE","CUSTOMER_SEARCH_DATA","CUSTOMER_SEARCH","CUSTOMER_SEARCH_FAIL","CUSTOMER_SEARCH_SUCCESS","CUSTOMER_SEARCH_RESET","CustomerSearch","LoaderLoadAction","CustomerSearchFail","LoaderFailAction","CustomerSearchSuccess","LoaderSuccessAction","CustomerSearchReset","LoaderResetAction","LOGOUT_CUSTOMER_SUPPORT_AGENT","LogoutCustomerSupportAgent","customerGroup_actions","Object","freeze","__proto__","CustomerEffects","actions$","asmConnector","customerSearch$","pipe","action","customerSearchResults","error","Actions","prototype","effects","initialState","collapsed","reducer","state","assign","getReducers","customerSearchResult","loaderReducer","asmUi","reducerToken","reducerProvider","provide","useFactory","clearCustomerSupportAgentAsmState","metaReducers","getAsmState","getAsmUi","getCustomerSearchResultsLoaderState","getCustomerSearchResults","loaderValueSelector","getCustomerSearchResultsLoading","loaderLoadingSelector","asmGroup_selectors","AsmStatePersistenceService","statePersistenceService","store","authStorageService","subscription","key","initSync","add","syncWithStorage","state$","onRead","getEmulatedUserToken","getTokenTarget","ui","emulatedUserToken","tokenTarget","emulatedToken","refresh_token","dispatch","setEmulatedUserToken","setTokenTarget","ngOnDestroy","unsubscribe","StatePersistenceService","Store","AsmAuthStorageService","AsmStoreModule","ɵmod","ɵinj","forFeature","imports","providers","asmStatePersistenceFactory","asmStatePersistenceService","result","AsmCoreModule","deps","multi","AsmConfig","useExisting","CUSTOMER_SEARCH_PAGE_NORMALIZER","AsmService","customerSearchReset","updateAsmUiState","getAsmUiState","AsmActions","AsmSelectors"],"sources":["/home/hamid/cangubike/js-storefront/olf/node_modules/@spartacus/asm/fesm2015/spartacus-asm-core.js"],"sourcesContent":["import { CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Injectable, InjectionToken, NgModule } from '@angular/core';\nimport * as i1$1 from '@spartacus/core';\nimport { StateUtils, normalizeHttpError, StateModule, provideDefaultConfig, MODULE_INITIALIZER, OccConfig, Config } from '@spartacus/core';\nimport * as i1$2 from '@ngrx/store';\nimport { createFeatureSelector, createSelector, select, StoreModule } from '@ngrx/store';\nimport { of, Subscription, combineLatest } from 'rxjs';\nimport { map, switchMap, catchError, filter } from 'rxjs/operators';\nimport { __decorate } from 'tslib';\nimport * as i1 from '@ngrx/effects';\nimport { ofType, Effect, EffectsModule } from '@ngrx/effects';\nimport * as i3 from '@spartacus/asm/root';\n\nconst defaultAsmConfig = {\n    asm: {\n        agentSessionTimer: {\n            startingDelayInSeconds: 600,\n        },\n        customerSearch: {\n            maxResults: 20,\n        },\n    },\n};\n\nclass AsmAdapter {\n}\n\nclass AsmConnector {\n    constructor(asmAdapter) {\n        this.asmAdapter = asmAdapter;\n    }\n    customerSearch(options) {\n        return this.asmAdapter.customerSearch(options);\n    }\n}\nAsmConnector.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmConnector, deps: [{ token: AsmAdapter }], target: i0.ɵɵFactoryTarget.Injectable });\nAsmConnector.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmConnector, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmConnector, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], ctorParameters: function () { return [{ type: AsmAdapter }]; } });\n\nconst ASM_UI_UPDATE = '[Asm] UI Update';\nclass AsmUiUpdate {\n    constructor(payload) {\n        this.payload = payload;\n        this.type = ASM_UI_UPDATE;\n    }\n}\n\nconst ASM_FEATURE = 'asm';\nconst CUSTOMER_SEARCH_DATA = '[asm] Customer search data';\n\nconst CUSTOMER_SEARCH = '[Asm] Customer Search';\nconst CUSTOMER_SEARCH_FAIL = '[Asm] Customer Search Fail';\nconst CUSTOMER_SEARCH_SUCCESS = '[Asm] Customer Search Success';\nconst CUSTOMER_SEARCH_RESET = '[Asm] Customer Search Reset';\nclass CustomerSearch extends StateUtils.LoaderLoadAction {\n    constructor(payload) {\n        super(CUSTOMER_SEARCH_DATA);\n        this.payload = payload;\n        this.type = CUSTOMER_SEARCH;\n    }\n}\nclass CustomerSearchFail extends StateUtils.LoaderFailAction {\n    constructor(payload) {\n        super(CUSTOMER_SEARCH_DATA);\n        this.payload = payload;\n        this.type = CUSTOMER_SEARCH_FAIL;\n    }\n}\nclass CustomerSearchSuccess extends StateUtils.LoaderSuccessAction {\n    constructor(payload) {\n        super(CUSTOMER_SEARCH_DATA);\n        this.payload = payload;\n        this.type = CUSTOMER_SEARCH_SUCCESS;\n    }\n}\nclass CustomerSearchReset extends StateUtils.LoaderResetAction {\n    constructor() {\n        super(CUSTOMER_SEARCH_DATA);\n        this.type = CUSTOMER_SEARCH_RESET;\n    }\n}\n\nconst LOGOUT_CUSTOMER_SUPPORT_AGENT = '[Auth] Logout Customer Support Agent';\n/**\n * Action dispatched after customer support agent logout. Used to clear store data (ui, search results)\n */\nclass LogoutCustomerSupportAgent {\n    constructor() {\n        this.type = LOGOUT_CUSTOMER_SUPPORT_AGENT;\n    }\n}\n\nvar customerGroup_actions = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    ASM_UI_UPDATE: ASM_UI_UPDATE,\n    AsmUiUpdate: AsmUiUpdate,\n    CUSTOMER_SEARCH: CUSTOMER_SEARCH,\n    CUSTOMER_SEARCH_FAIL: CUSTOMER_SEARCH_FAIL,\n    CUSTOMER_SEARCH_SUCCESS: CUSTOMER_SEARCH_SUCCESS,\n    CUSTOMER_SEARCH_RESET: CUSTOMER_SEARCH_RESET,\n    CustomerSearch: CustomerSearch,\n    CustomerSearchFail: CustomerSearchFail,\n    CustomerSearchSuccess: CustomerSearchSuccess,\n    CustomerSearchReset: CustomerSearchReset,\n    LOGOUT_CUSTOMER_SUPPORT_AGENT: LOGOUT_CUSTOMER_SUPPORT_AGENT,\n    LogoutCustomerSupportAgent: LogoutCustomerSupportAgent\n});\n\nclass CustomerEffects {\n    constructor(actions$, asmConnector) {\n        this.actions$ = actions$;\n        this.asmConnector = asmConnector;\n        this.customerSearch$ = this.actions$.pipe(ofType(CUSTOMER_SEARCH), map((action) => action.payload), switchMap((options) => this.asmConnector.customerSearch(options).pipe(map((customerSearchResults) => {\n            return new CustomerSearchSuccess(customerSearchResults);\n        }), catchError((error) => of(new CustomerSearchFail(normalizeHttpError(error)))))));\n    }\n}\nCustomerEffects.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: CustomerEffects, deps: [{ token: i1.Actions }, { token: AsmConnector }], target: i0.ɵɵFactoryTarget.Injectable });\nCustomerEffects.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: CustomerEffects });\n__decorate([\n    Effect()\n], CustomerEffects.prototype, \"customerSearch$\", void 0);\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: CustomerEffects, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1.Actions }, { type: AsmConnector }]; }, propDecorators: { customerSearch$: [] } });\n\nconst effects = [CustomerEffects];\n\nconst initialState = { collapsed: false };\nfunction reducer(state = initialState, action) {\n    switch (action.type) {\n        case ASM_UI_UPDATE: {\n            return Object.assign(Object.assign({}, state), action.payload);\n        }\n        default: {\n            return state;\n        }\n    }\n}\n\nfunction getReducers() {\n    return {\n        customerSearchResult: StateUtils.loaderReducer(CUSTOMER_SEARCH_DATA),\n        asmUi: reducer,\n    };\n}\nconst reducerToken = new InjectionToken('AsmReducers');\nconst reducerProvider = {\n    provide: reducerToken,\n    useFactory: getReducers,\n};\nfunction clearCustomerSupportAgentAsmState(reducer) {\n    return function (state, action) {\n        if (action.type === LOGOUT_CUSTOMER_SUPPORT_AGENT) {\n            state = Object.assign(Object.assign({}, state), { customerSearchResult: {} });\n        }\n        return reducer(state, action);\n    };\n}\nconst metaReducers = [\n    clearCustomerSupportAgentAsmState,\n];\n\nconst getAsmState = createFeatureSelector(ASM_FEATURE);\n\nconst getAsmUi = createSelector(getAsmState, (state) => state.asmUi);\n\nconst getCustomerSearchResultsLoaderState = createSelector(getAsmState, (state) => state.customerSearchResult);\nconst getCustomerSearchResults = createSelector(getCustomerSearchResultsLoaderState, (state) => StateUtils.loaderValueSelector(state));\nconst getCustomerSearchResultsLoading = createSelector(getCustomerSearchResultsLoaderState, (state) => StateUtils.loaderLoadingSelector(state));\n\nvar asmGroup_selectors = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    getAsmUi: getAsmUi,\n    getCustomerSearchResultsLoaderState: getCustomerSearchResultsLoaderState,\n    getCustomerSearchResults: getCustomerSearchResults,\n    getCustomerSearchResultsLoading: getCustomerSearchResultsLoading,\n    getAsmState: getAsmState\n});\n\n/**\n * Responsible for storing ASM state in the browser storage.\n * Uses `StatePersistenceService` mechanism.\n */\nclass AsmStatePersistenceService {\n    constructor(statePersistenceService, store, authStorageService) {\n        this.statePersistenceService = statePersistenceService;\n        this.store = store;\n        this.authStorageService = authStorageService;\n        this.subscription = new Subscription();\n        /**\n         * Identifier used for storage key.\n         */\n        this.key = 'asm';\n    }\n    /**\n     * Initializes the synchronization between state and browser storage.\n     */\n    initSync() {\n        this.subscription.add(this.statePersistenceService.syncWithStorage({\n            key: this.key,\n            state$: this.getAsmState(),\n            onRead: (state) => this.onRead(state),\n        }));\n    }\n    /**\n     * Gets and transforms state from different sources into the form that should\n     * be saved in storage.\n     */\n    getAsmState() {\n        return combineLatest([\n            this.store.pipe(\n            // Since getAsmState() may be called while the module is lazy loded\n            // The asm state slice may not exist yet in the first store emissions.\n            filter((store) => !!store.asm), select(getAsmUi)),\n            of(this.authStorageService.getEmulatedUserToken()),\n            this.authStorageService.getTokenTarget(),\n        ]).pipe(map(([ui, emulatedUserToken, tokenTarget]) => {\n            let emulatedToken = emulatedUserToken;\n            if (emulatedToken) {\n                emulatedToken = Object.assign({}, emulatedUserToken);\n                // To minimize risk of user account hijacking we don't persist emulated user refresh_token\n                delete emulatedToken.refresh_token;\n            }\n            return {\n                ui,\n                emulatedUserToken: emulatedToken,\n                tokenTarget,\n            };\n        }));\n    }\n    /**\n     * Function called on each browser storage read.\n     * Used to update state from browser -> state.\n     */\n    onRead(state) {\n        if (state) {\n            if (state.ui) {\n                this.store.dispatch(new AsmUiUpdate(state.ui));\n            }\n            if (state.emulatedUserToken) {\n                this.authStorageService.setEmulatedUserToken(state.emulatedUserToken);\n            }\n            if (state.tokenTarget) {\n                this.authStorageService.setTokenTarget(state.tokenTarget);\n            }\n        }\n    }\n    ngOnDestroy() {\n        this.subscription.unsubscribe();\n    }\n}\nAsmStatePersistenceService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmStatePersistenceService, deps: [{ token: i1$1.StatePersistenceService }, { token: i1$2.Store }, { token: i3.AsmAuthStorageService }], target: i0.ɵɵFactoryTarget.Injectable });\nAsmStatePersistenceService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmStatePersistenceService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmStatePersistenceService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], ctorParameters: function () { return [{ type: i1$1.StatePersistenceService }, { type: i1$2.Store }, { type: i3.AsmAuthStorageService }]; } });\n\nclass AsmStoreModule {\n}\nAsmStoreModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmStoreModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nAsmStoreModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmStoreModule, imports: [CommonModule,\n        StateModule, i1$2.StoreFeatureModule, i1.EffectsFeatureModule] });\nAsmStoreModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmStoreModule, providers: [reducerProvider], imports: [[\n            CommonModule,\n            StateModule,\n            StoreModule.forFeature(ASM_FEATURE, reducerToken, { metaReducers }),\n            EffectsModule.forFeature(effects),\n        ]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmStoreModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [\n                        CommonModule,\n                        StateModule,\n                        StoreModule.forFeature(ASM_FEATURE, reducerToken, { metaReducers }),\n                        EffectsModule.forFeature(effects),\n                    ],\n                    providers: [reducerProvider],\n                }]\n        }] });\n\nfunction asmStatePersistenceFactory(asmStatePersistenceService) {\n    const result = () => asmStatePersistenceService.initSync();\n    return result;\n}\nclass AsmCoreModule {\n}\nAsmCoreModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmCoreModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nAsmCoreModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmCoreModule, imports: [CommonModule, AsmStoreModule] });\nAsmCoreModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmCoreModule, providers: [\n        provideDefaultConfig(defaultAsmConfig),\n        AsmConnector,\n        {\n            provide: MODULE_INITIALIZER,\n            useFactory: asmStatePersistenceFactory,\n            deps: [AsmStatePersistenceService],\n            multi: true,\n        },\n    ], imports: [[CommonModule, AsmStoreModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmCoreModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    imports: [CommonModule, AsmStoreModule],\n                    providers: [\n                        provideDefaultConfig(defaultAsmConfig),\n                        AsmConnector,\n                        {\n                            provide: MODULE_INITIALIZER,\n                            useFactory: asmStatePersistenceFactory,\n                            deps: [AsmStatePersistenceService],\n                            multi: true,\n                        },\n                    ],\n                }]\n        }] });\n\nclass AsmConfig extends OccConfig {\n}\nAsmConfig.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmConfig, deps: null, target: i0.ɵɵFactoryTarget.Injectable });\nAsmConfig.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmConfig, providedIn: 'root', useExisting: Config });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmConfig, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                    useExisting: Config,\n                }]\n        }] });\n\nconst CUSTOMER_SEARCH_PAGE_NORMALIZER = new InjectionToken('CustomerSearchPageNormalizer');\n\nclass AsmService {\n    constructor(store) {\n        this.store = store;\n    }\n    /**\n     * Search for customers\n     * @param options\n     */\n    customerSearch(options) {\n        this.store.dispatch(new CustomerSearch(options));\n    }\n    /**\n     * Reset the customer search result data to the initial state.\n     */\n    customerSearchReset() {\n        this.store.dispatch(new CustomerSearchReset());\n    }\n    /**\n     * Returns the customer search result data.\n     */\n    getCustomerSearchResults() {\n        return this.store.pipe(select(getCustomerSearchResults));\n    }\n    /**\n     * Returns the customer search result loading status.\n     */\n    getCustomerSearchResultsLoading() {\n        return this.store.pipe(select(getCustomerSearchResultsLoading));\n    }\n    /**\n     * Updates the state of the ASM UI\n     */\n    updateAsmUiState(asmUi) {\n        this.store.dispatch(new AsmUiUpdate(asmUi));\n    }\n    /**\n     * Get the state of the ASM UI\n     */\n    getAsmUiState() {\n        return this.store.pipe(select(getAsmUi));\n    }\n}\nAsmService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmService, deps: [{ token: i1$2.Store }], target: i0.ɵɵFactoryTarget.Injectable });\nAsmService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmService, providedIn: 'root' });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.0.5\", ngImport: i0, type: AsmService, decorators: [{\n            type: Injectable,\n            args: [{\n                    providedIn: 'root',\n                }]\n        }], ctorParameters: function () { return [{ type: i1$2.Store }]; } });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { ASM_FEATURE, customerGroup_actions as AsmActions, AsmAdapter, AsmConfig, AsmConnector, AsmCoreModule, asmGroup_selectors as AsmSelectors, AsmService, AsmStatePersistenceService, CUSTOMER_SEARCH_DATA, CUSTOMER_SEARCH_PAGE_NORMALIZER, asmStatePersistenceFactory };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}