{"ast":null,"code":"import * as i4 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { Injectable, Component, Pipe, EventEmitter, Output, ViewChild, Input, HostBinding, NgModule } from '@angular/core';\nimport * as i1$2 from '@angular/forms';\nimport { Validators, ReactiveFormsModule } from '@angular/forms';\nimport * as i1 from '@spartacus/core';\nimport { GlobalMessageType, I18nModule, provideConfig } from '@spartacus/core';\nimport * as i3 from '@spartacus/storefront';\nimport { FormErrorsModule } from '@spartacus/storefront';\nimport { Subscription, of } from 'rxjs';\nimport { distinctUntilChanged, debounceTime, switchMap, map, take } from 'rxjs/operators';\nimport * as i2 from '@spartacus/asm/root';\nimport { ASM_ENABLED_LOCAL_STORAGE_KEY } from '@spartacus/asm/root';\nimport * as i1$1 from '@spartacus/asm/core';\nfunction AsmToggleUiComponent_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"asm.toggleUi.collapse\"), \" \");\n  }\n}\nfunction AsmToggleUiComponent_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"asm.toggleUi.expand\"), \" \");\n  }\n}\nfunction CustomerEmulationComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"input\", 1);\n    i0.ɵɵelementStart(2, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function CustomerEmulationComponent_ng_container_0_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return ctx_r1.logoutCustomer();\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate2(\"placeholder\", \"\", ctx_r0.customer == null ? null : ctx_r0.customer.name, \", \", ctx_r0.customer == null ? null : ctx_r0.customer.uid, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 3, \"asm.endSession\"), \" \");\n  }\n}\nconst _c0 = [\"resultList\"];\nconst _c1 = [\"searchTerm\"];\nfunction CustomerSelectionComponent_div_9_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function CustomerSelectionComponent_div_9_button_2_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const result_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return ctx_r8.selectCustomerFromList(result_r7);\n    });\n    i0.ɵɵelementStart(1, \"span\", 11);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 12);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const result_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(result_r7.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(result_r7.uid);\n  }\n}\nfunction CustomerSelectionComponent_div_9_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function CustomerSelectionComponent_div_9_button_3_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return ctx_r10.closeResults();\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"asm.customerSearch.noMatch\"), \" \");\n  }\n}\nfunction CustomerSelectionComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6, 7);\n    i0.ɵɵtemplate(2, CustomerSelectionComponent_div_9_button_2_Template, 5, 2, \"button\", 8);\n    i0.ɵɵtemplate(3, CustomerSelectionComponent_div_9_button_3_Template, 3, 3, \"button\", 9);\n    i0.ɵɵpipe(4, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const results_r3 = ctx.ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    const _r0 = i0.ɵɵreference(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", results_r3.entries);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(4, 2, ctx_r1.searchResultsLoading$) && _r0.value.length >= 3 && !!results_r3.entries && results_r3.entries.length <= 0);\n  }\n}\nfunction CustomerSelectionComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵelementStart(1, \"div\", 13);\n    i0.ɵɵpipe(2, \"cxTranslate\");\n    i0.ɵɵelement(3, \"div\");\n    i0.ɵɵelement(4, \"div\");\n    i0.ɵɵelement(5, \"div\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(2, 1, \"common.loading\"));\n  }\n}\nfunction CSAgentLoginFormComponent_form_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 2);\n    i0.ɵɵlistener(\"ngSubmit\", function CSAgentLoginFormComponent_form_0_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return ctx_r2.onSubmit();\n    });\n    i0.ɵɵelementStart(1, \"label\");\n    i0.ɵɵelement(2, \"input\", 3);\n    i0.ɵɵpipe(3, \"cxTranslate\");\n    i0.ɵɵelement(4, \"cx-form-errors\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"label\");\n    i0.ɵɵelement(6, \"input\", 5);\n    i0.ɵɵpipe(7, \"cxTranslate\");\n    i0.ɵɵelement(8, \"cx-form-errors\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 6);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.csAgentLoginForm);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(3, 6, \"asm.loginForm.userId.label\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"control\", ctx_r0.csAgentLoginForm.get(\"userId\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(7, 8, \"asm.loginForm.password.label\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"control\", ctx_r0.csAgentLoginForm.get(\"password\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(11, 10, \"asm.loginForm.submit\"), \" \");\n  }\n}\nfunction CSAgentLoginFormComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵpipe(1, \"cxTranslate\");\n    i0.ɵɵelement(2, \"div\");\n    i0.ɵɵelement(3, \"div\");\n    i0.ɵɵelement(4, \"div\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"common.loading\"));\n  }\n}\nfunction AsmMainUiComponent_cx_asm_session_timer_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-asm-session-timer\");\n  }\n}\nfunction AsmMainUiComponent_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function AsmMainUiComponent_button_11_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.hideUi();\n    });\n    i0.ɵɵpipe(1, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵpropertyInterpolate(\"title\", i0.ɵɵpipeBind1(1, 1, \"asm.hideUi\"));\n  }\n}\nfunction AsmMainUiComponent_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 9);\n    i0.ɵɵlistener(\"click\", function AsmMainUiComponent_button_14_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.logout();\n    });\n    i0.ɵɵpipe(1, \"cxTranslate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵpropertyInterpolate(\"title\", i0.ɵɵpipeBind1(1, 1, \"asm.logout\"));\n  }\n}\nfunction AsmMainUiComponent_ng_container_16_ng_container_1_ng_container_1_cx_customer_emulation_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"cx-customer-emulation\");\n  }\n}\nfunction AsmMainUiComponent_ng_container_16_ng_container_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AsmMainUiComponent_ng_container_16_ng_container_1_ng_container_1_cx_customer_emulation_1_Template, 1, 0, \"cx-customer-emulation\", 5);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const notCollapsed_r8 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", notCollapsed_r8);\n  }\n}\nfunction AsmMainUiComponent_ng_container_16_ng_container_1_ng_template_3_cx_customer_selection_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"cx-customer-selection\", 14);\n    i0.ɵɵlistener(\"submitEvent\", function AsmMainUiComponent_ng_container_16_ng_container_1_ng_template_3_cx_customer_selection_0_Template_cx_customer_selection_submitEvent_0_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext(4);\n      return ctx_r18.startCustomerEmulationSession($event);\n    });\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AsmMainUiComponent_ng_container_16_ng_container_1_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, AsmMainUiComponent_ng_container_16_ng_container_1_ng_template_3_cx_customer_selection_0_Template, 1, 0, \"cx-customer-selection\", 13);\n  }\n  if (rf & 2) {\n    const notCollapsed_r8 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵproperty(\"ngIf\", notCollapsed_r8);\n  }\n}\nfunction AsmMainUiComponent_ng_container_16_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AsmMainUiComponent_ng_container_16_ng_container_1_ng_container_1_Template, 2, 1, \"ng-container\", 10);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵtemplate(3, AsmMainUiComponent_ng_container_16_ng_container_1_ng_template_3_Template, 1, 1, \"ng-template\", null, 12, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const _r13 = i0.ɵɵreference(4);\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 2, ctx_r9.customer$))(\"ngIfElse\", _r13);\n  }\n}\nfunction AsmMainUiComponent_ng_container_16_ng_template_3_cx_csagent_login_form_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"cx-csagent-login-form\", 16);\n    i0.ɵɵlistener(\"submitEvent\", function AsmMainUiComponent_ng_container_16_ng_template_3_cx_csagent_login_form_0_Template_cx_csagent_login_form_submitEvent_0_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext(3);\n      return ctx_r22.loginCustomerSupportAgent($event);\n    });\n    i0.ɵɵpipe(1, \"async\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"csAgentTokenLoading\", i0.ɵɵpipeBind1(1, 1, ctx_r21.csAgentTokenLoading$));\n  }\n}\nfunction AsmMainUiComponent_ng_container_16_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, AsmMainUiComponent_ng_container_16_ng_template_3_cx_csagent_login_form_0_Template, 2, 3, \"cx-csagent-login-form\", 15);\n  }\n  if (rf & 2) {\n    const notCollapsed_r8 = i0.ɵɵnextContext().ngIf;\n    i0.ɵɵproperty(\"ngIf\", notCollapsed_r8);\n  }\n}\nfunction AsmMainUiComponent_ng_container_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AsmMainUiComponent_ng_container_16_ng_container_1_Template, 5, 4, \"ng-container\", 10);\n    i0.ɵɵpipe(2, \"async\");\n    i0.ɵɵtemplate(3, AsmMainUiComponent_ng_container_16_ng_template_3_Template, 1, 1, \"ng-template\", null, 11, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const _r10 = i0.ɵɵreference(4);\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(2, 2, ctx_r3.customerSupportAgentLoggedIn$))(\"ngIfElse\", _r10);\n  }\n}\nlet AsmComponentService = /*#__PURE__*/(() => {\n  class AsmComponentService {\n    constructor(authService, csAgentAuthService, winRef) {\n      this.authService = authService;\n      this.csAgentAuthService = csAgentAuthService;\n      this.winRef = winRef;\n    }\n    logoutCustomerSupportAgentAndCustomer() {\n      this.csAgentAuthService.logoutCustomerSupportAgent();\n    }\n    logoutCustomer() {\n      this.authService.logout();\n    }\n    isCustomerEmulationSessionInProgress() {\n      return this.csAgentAuthService.isCustomerEmulated();\n    }\n    /**\n     * We're currently only removing the persisted storage in the browser\n     * to ensure the ASM experience isn't loaded on the next visit. There are a few\n     * optimizations we could think of:\n     * - drop the `asm` parameter from the URL, in case it's still there\n     * - remove the generated UI from the DOM (outlets currently do not support this)\n     */\n    unload() {\n      if (this.winRef.localStorage) {\n        this.winRef.localStorage.removeItem(ASM_ENABLED_LOCAL_STORAGE_KEY);\n      }\n    }\n  }\n  AsmComponentService.ɵfac = function AsmComponentService_Factory(t) {\n    return new (t || AsmComponentService)(i0.ɵɵinject(i1.AuthService), i0.ɵɵinject(i2.CsAgentAuthService), i0.ɵɵinject(i1.WindowRef));\n  };\n  AsmComponentService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n    token: AsmComponentService,\n    factory: AsmComponentService.ɵfac,\n    providedIn: 'root'\n  });\n  return AsmComponentService;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AsmToggleUiComponent = /*#__PURE__*/(() => {\n  class AsmToggleUiComponent {\n    constructor(asmService) {\n      this.asmService = asmService;\n      this.subscription = new Subscription();\n    }\n    ngOnInit() {\n      this.subscription.add(this.asmService.getAsmUiState().subscribe(uiState => {\n        this.isCollapsed = uiState.collapsed === undefined ? false : uiState.collapsed;\n      }));\n    }\n    toggleUi() {\n      this.asmService.updateAsmUiState({\n        collapsed: !this.isCollapsed\n      });\n    }\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n    }\n  }\n  AsmToggleUiComponent.ɵfac = function AsmToggleUiComponent_Factory(t) {\n    return new (t || AsmToggleUiComponent)(i0.ɵɵdirectiveInject(i1$1.AsmService));\n  };\n  AsmToggleUiComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: AsmToggleUiComponent,\n    selectors: [[\"cx-asm-toggle-ui\"]],\n    decls: 4,\n    vars: 3,\n    consts: [[1, \"toggleUi\", 3, \"click\"], [3, \"ngClass\"], [\"class\", \"label\", 4, \"ngIf\"], [1, \"label\"]],\n    template: function AsmToggleUiComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"a\", 0);\n        i0.ɵɵlistener(\"click\", function AsmToggleUiComponent_Template_a_click_0_listener() {\n          return ctx.toggleUi();\n        });\n        i0.ɵɵelement(1, \"span\", 1);\n        i0.ɵɵtemplate(2, AsmToggleUiComponent_span_2_Template, 3, 3, \"span\", 2);\n        i0.ɵɵtemplate(3, AsmToggleUiComponent_span_3_Template, 3, 3, \"span\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", !ctx.isCollapsed ? \"collapseIcon\" : \"expandIcon\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isCollapsed);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isCollapsed);\n      }\n    },\n    directives: [i4.NgClass, i4.NgIf],\n    pipes: [i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return AsmToggleUiComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FormatTimerPipe = /*#__PURE__*/(() => {\n  class FormatTimerPipe {\n    transform(totalSeconds) {\n      if (totalSeconds < 0) {\n        totalSeconds = 0;\n      }\n      const minutes = Math.floor(totalSeconds / 60);\n      const seconds = totalSeconds % 60;\n      let zeroPaddedMinutes;\n      if (minutes < 10) {\n        zeroPaddedMinutes = ('00' + minutes).slice(-2);\n      } else {\n        zeroPaddedMinutes = minutes + '';\n      }\n      const zeroPaddedSeconds = ('00' + seconds).slice(-2);\n      return `${zeroPaddedMinutes}:${zeroPaddedSeconds}`;\n    }\n  }\n  FormatTimerPipe.ɵfac = function FormatTimerPipe_Factory(t) {\n    return new (t || FormatTimerPipe)();\n  };\n  FormatTimerPipe.ɵpipe = /* @__PURE__ */i0.ɵɵdefinePipe({\n    name: \"formatTimer\",\n    type: FormatTimerPipe,\n    pure: true\n  });\n  return FormatTimerPipe;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AsmSessionTimerComponent = /*#__PURE__*/(() => {\n  class AsmSessionTimerComponent {\n    constructor(config, asmComponentService, routingService, changeDetectorRef, userIdService) {\n      this.config = config;\n      this.asmComponentService = asmComponentService;\n      this.routingService = routingService;\n      this.changeDetectorRef = changeDetectorRef;\n      this.userIdService = userIdService;\n      this.subscriptions = new Subscription();\n      this.maxStartDelayInSeconds = 60000;\n    }\n    ngOnInit() {\n      this.timeLeft = this.getTimerStartDelayInSeconds();\n      this.interval = setInterval(() => {\n        if (this.timeLeft > 0) {\n          this.timeLeft--;\n        } else {\n          clearInterval(this.interval);\n          this.asmComponentService.logoutCustomerSupportAgentAndCustomer();\n        }\n        this.changeDetectorRef.markForCheck();\n      }, 1000);\n      this.resetOnNavigate();\n      this.resetOnCustomerSessionChange();\n    }\n    resetOnNavigate() {\n      this.subscriptions.add(this.routingService.isNavigating().subscribe(isNavigating => {\n        if (isNavigating) {\n          this.resetTimer();\n        }\n      }));\n    }\n    resetOnCustomerSessionChange() {\n      this.subscriptions.add(this.userIdService.getUserId().pipe(distinctUntilChanged()).subscribe(() => this.resetTimer()));\n    }\n    resetTimer() {\n      if (this.timeLeft > 0) {\n        this.timeLeft = this.getTimerStartDelayInSeconds();\n      }\n    }\n    getTimerStartDelayInSeconds() {\n      var _a, _b;\n      if (((_b = (_a = this.config.asm) === null || _a === void 0 ? void 0 : _a.agentSessionTimer) === null || _b === void 0 ? void 0 : _b.startingDelayInSeconds) === undefined) {\n        return 600;\n      }\n      if (this.config.asm.agentSessionTimer.startingDelayInSeconds > this.maxStartDelayInSeconds) {\n        return this.maxStartDelayInSeconds;\n      } else {\n        return this.config.asm.agentSessionTimer.startingDelayInSeconds;\n      }\n    }\n    ngOnDestroy() {\n      this.subscriptions.unsubscribe();\n      if (this.interval) {\n        clearInterval(this.interval);\n      }\n    }\n  }\n  AsmSessionTimerComponent.ɵfac = function AsmSessionTimerComponent_Factory(t) {\n    return new (t || AsmSessionTimerComponent)(i0.ɵɵdirectiveInject(i1$1.AsmConfig), i0.ɵɵdirectiveInject(AsmComponentService), i0.ɵɵdirectiveInject(i1.RoutingService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i1.UserIdService));\n  };\n  AsmSessionTimerComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: AsmSessionTimerComponent,\n    selectors: [[\"cx-asm-session-timer\"]],\n    decls: 9,\n    vars: 12,\n    consts: [[1, \"label\"], [1, \"time\"], [1, \"reset\", 3, \"title\", \"click\"]],\n    template: function AsmSessionTimerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"span\", 0);\n        i0.ɵɵtext(1);\n        i0.ɵɵpipe(2, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"span\", 1);\n        i0.ɵɵtext(4);\n        i0.ɵɵpipe(5, \"formatTimer\");\n        i0.ɵɵpipe(6, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function AsmSessionTimerComponent_Template_button_click_7_listener() {\n          return ctx.resetTimer();\n        });\n        i0.ɵɵpipe(8, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(2, 4, \"asm.agentSessionTimer.label\"), \":\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind1(5, 6, ctx.timeLeft), \" \", i0.ɵɵpipeBind1(6, 8, \"asm.agentSessionTimer.minutes\"), \"\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵpropertyInterpolate(\"title\", i0.ɵɵpipeBind1(8, 10, \"asm.agentSessionTimer.reset\"));\n      }\n    },\n    pipes: [i1.TranslatePipe, FormatTimerPipe],\n    encapsulation: 2\n  });\n  return AsmSessionTimerComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CustomerEmulationComponent = /*#__PURE__*/(() => {\n  class CustomerEmulationComponent {\n    constructor(asmComponentService, userService) {\n      this.asmComponentService = asmComponentService;\n      this.userService = userService;\n      this.subscription = new Subscription();\n    }\n    ngOnInit() {\n      this.subscription.add(this.userService.get().subscribe(user => {\n        if (user) this.customer = user;\n      }));\n      this.isCustomerEmulationSessionInProgress$ = this.asmComponentService.isCustomerEmulationSessionInProgress();\n    }\n    logoutCustomer() {\n      this.asmComponentService.logoutCustomer();\n    }\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n    }\n  }\n  CustomerEmulationComponent.ɵfac = function CustomerEmulationComponent_Factory(t) {\n    return new (t || CustomerEmulationComponent)(i0.ɵɵdirectiveInject(AsmComponentService), i0.ɵɵdirectiveInject(i1.UserService));\n  };\n  CustomerEmulationComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CustomerEmulationComponent,\n    selectors: [[\"cx-customer-emulation\"]],\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [\"formcontrolname\", \"customer\", \"type\", \"text\", \"disabled\", \"true\", 3, \"placeholder\"], [3, \"click\"]],\n    template: function CustomerEmulationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CustomerEmulationComponent_ng_container_0_Template, 5, 5, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.isCustomerEmulationSessionInProgress$));\n      }\n    },\n    directives: [i4.NgIf],\n    pipes: [i4.AsyncPipe, i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return CustomerEmulationComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CustomerSelectionComponent = /*#__PURE__*/(() => {\n  class CustomerSelectionComponent {\n    constructor(fb, asmService, config) {\n      this.fb = fb;\n      this.asmService = asmService;\n      this.config = config;\n      this.subscription = new Subscription();\n      this.submitEvent = new EventEmitter();\n    }\n    ngOnInit() {\n      this.customerSelectionForm = this.fb.group({\n        searchTerm: ['', Validators.required]\n      });\n      this.asmService.customerSearchReset();\n      this.searchResultsLoading$ = this.asmService.getCustomerSearchResultsLoading();\n      this.searchResults = this.asmService.getCustomerSearchResults();\n      this.subscription.add(this.customerSelectionForm.controls.searchTerm.valueChanges.pipe(debounceTime(300)).subscribe(searchTermValue => {\n        this.handleSearchTerm(searchTermValue);\n      }));\n    }\n    handleSearchTerm(searchTermValue) {\n      var _a, _b;\n      if (!!this.selectedCustomer && searchTermValue !== this.selectedCustomer.name) {\n        this.selectedCustomer = undefined;\n      }\n      if (Boolean(this.selectedCustomer)) {\n        return;\n      }\n      this.asmService.customerSearchReset();\n      if (searchTermValue.trim().length >= 3) {\n        this.asmService.customerSearch({\n          query: searchTermValue,\n          pageSize: (_b = (_a = this.config.asm) === null || _a === void 0 ? void 0 : _a.customerSearch) === null || _b === void 0 ? void 0 : _b.maxResults\n        });\n      }\n    }\n    selectCustomerFromList(customer) {\n      this.selectedCustomer = customer;\n      this.customerSelectionForm.controls.searchTerm.setValue(this.selectedCustomer.name);\n      this.asmService.customerSearchReset();\n    }\n    onSubmit() {\n      if (this.customerSelectionForm.valid && !!this.selectedCustomer) {\n        this.submitEvent.emit({\n          customerId: this.selectedCustomer.customerId\n        });\n      } else {\n        this.customerSelectionForm.markAllAsTouched();\n      }\n    }\n    onDocumentClick(event) {\n      if (Boolean(this.resultList)) {\n        if (this.resultList.nativeElement.contains(event.target) || this.searchTerm.nativeElement.contains(event.target)) {\n          return;\n        } else {\n          this.asmService.customerSearchReset();\n        }\n      }\n    }\n    closeResults() {\n      this.asmService.customerSearchReset();\n    }\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n      this.asmService.customerSearchReset();\n    }\n  }\n  CustomerSelectionComponent.ɵfac = function CustomerSelectionComponent_Factory(t) {\n    return new (t || CustomerSelectionComponent)(i0.ɵɵdirectiveInject(i1$2.FormBuilder), i0.ɵɵdirectiveInject(i1$1.AsmService), i0.ɵɵdirectiveInject(i1$1.AsmConfig));\n  };\n  CustomerSelectionComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CustomerSelectionComponent,\n    selectors: [[\"cx-customer-selection\"]],\n    viewQuery: function CustomerSelectionComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n        i0.ɵɵviewQuery(_c1, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.resultList = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.searchTerm = _t.first);\n      }\n    },\n    hostBindings: function CustomerSelectionComponent_HostBindings(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵlistener(\"click\", function CustomerSelectionComponent_click_HostBindingHandler($event) {\n          return ctx.onDocumentClick($event);\n        }, false, i0.ɵɵresolveDocument);\n      }\n    },\n    outputs: {\n      submitEvent: \"submitEvent\"\n    },\n    decls: 13,\n    vars: 14,\n    consts: [[3, \"formGroup\", \"ngSubmit\"], [\"aria-required\", \"true\", \"type\", \"text\", \"formControlName\", \"searchTerm\", 3, \"placeholder\"], [\"searchTerm\", \"\"], [\"aria-live\", \"assertive\", \"aria-atomic\", \"true\", 3, \"control\"], [\"type\", \"submit\"], [\"class\", \"asm-results\", 4, \"ngIf\"], [1, \"asm-results\"], [\"resultList\", \"\"], [3, \"click\", 4, \"ngFor\", \"ngForOf\"], [3, \"click\", 4, \"ngIf\"], [3, \"click\"], [1, \"result-name\"], [1, \"result-id\"], [\"aria-hidden\", \"false\", 1, \"spinner\"]],\n    template: function CustomerSelectionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"form\", 0);\n        i0.ɵɵlistener(\"ngSubmit\", function CustomerSelectionComponent_Template_form_ngSubmit_0_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(1, \"label\");\n        i0.ɵɵelement(2, \"input\", 1, 2);\n        i0.ɵɵpipe(4, \"cxTranslate\");\n        i0.ɵɵelement(5, \"cx-form-errors\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"button\", 4);\n        i0.ɵɵtext(7);\n        i0.ɵɵpipe(8, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(9, CustomerSelectionComponent_div_9_Template, 5, 4, \"div\", 5);\n        i0.ɵɵpipe(10, \"async\");\n        i0.ɵɵtemplate(11, CustomerSelectionComponent_div_11_Template, 6, 3, \"div\", 5);\n        i0.ɵɵpipe(12, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"formGroup\", ctx.customerSelectionForm);\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(4, 6, \"asm.customerSearch.searchTerm.label\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"control\", ctx.customerSelectionForm.get(\"searchTerm\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(8, 8, \"asm.customerSearch.submit\"), \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(10, 10, ctx.searchResults));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(12, 12, ctx.searchResultsLoading$));\n      }\n    },\n    directives: [i1$2.ɵNgNoValidate, i1$2.NgControlStatusGroup, i1$2.FormGroupDirective, i1$2.DefaultValueAccessor, i1$2.NgControlStatus, i1$2.FormControlName, i3.FormErrorsComponent, i4.NgIf, i4.NgForOf],\n    pipes: [i1.TranslatePipe, i4.AsyncPipe],\n    encapsulation: 2\n  });\n  return CustomerSelectionComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet CSAgentLoginFormComponent = /*#__PURE__*/(() => {\n  class CSAgentLoginFormComponent {\n    constructor(fb) {\n      this.fb = fb;\n      this.csAgentTokenLoading = false;\n      this.submitEvent = new EventEmitter();\n    }\n    ngOnInit() {\n      this.csAgentLoginForm = this.fb.group({\n        userId: ['', [Validators.required]],\n        password: ['', [Validators.required]]\n      });\n    }\n    onSubmit() {\n      var _a, _b;\n      if (this.csAgentLoginForm.valid) {\n        this.submitEvent.emit({\n          userId: (_a = this.csAgentLoginForm.get('userId')) === null || _a === void 0 ? void 0 : _a.value,\n          password: (_b = this.csAgentLoginForm.get('password')) === null || _b === void 0 ? void 0 : _b.value\n        });\n      } else {\n        this.csAgentLoginForm.markAllAsTouched();\n      }\n    }\n  }\n  CSAgentLoginFormComponent.ɵfac = function CSAgentLoginFormComponent_Factory(t) {\n    return new (t || CSAgentLoginFormComponent)(i0.ɵɵdirectiveInject(i1$2.FormBuilder));\n  };\n  CSAgentLoginFormComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: CSAgentLoginFormComponent,\n    selectors: [[\"cx-csagent-login-form\"]],\n    inputs: {\n      csAgentTokenLoading: \"csAgentTokenLoading\"\n    },\n    outputs: {\n      submitEvent: \"submitEvent\"\n    },\n    decls: 2,\n    vars: 2,\n    consts: [[3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [\"class\", \"spinner\", \"aria-hidden\", \"false\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [\"aria-required\", \"true\", \"type\", \"text\", \"formControlName\", \"userId\", 3, \"placeholder\"], [\"aria-live\", \"assertive\", \"aria-atomic\", \"true\", 3, \"control\"], [\"aria-required\", \"true\", \"type\", \"password\", \"formControlName\", \"password\", 3, \"placeholder\"], [\"type\", \"submit\"], [\"aria-hidden\", \"false\", 1, \"spinner\"]],\n    template: function CSAgentLoginFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CSAgentLoginFormComponent_form_0_Template, 12, 12, \"form\", 0);\n        i0.ɵɵtemplate(1, CSAgentLoginFormComponent_div_1_Template, 5, 3, \"div\", 1);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", !ctx.csAgentTokenLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.csAgentTokenLoading);\n      }\n    },\n    directives: [i4.NgIf, i1$2.ɵNgNoValidate, i1$2.NgControlStatusGroup, i1$2.FormGroupDirective, i1$2.DefaultValueAccessor, i1$2.NgControlStatus, i1$2.FormControlName, i3.FormErrorsComponent],\n    pipes: [i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return CSAgentLoginFormComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet AsmMainUiComponent = /*#__PURE__*/(() => {\n  class AsmMainUiComponent {\n    constructor(authService, csAgentAuthService, userService, asmComponentService, globalMessageService, routingService, asmService) {\n      this.authService = authService;\n      this.csAgentAuthService = csAgentAuthService;\n      this.userService = userService;\n      this.asmComponentService = asmComponentService;\n      this.globalMessageService = globalMessageService;\n      this.routingService = routingService;\n      this.asmService = asmService;\n      this.disabled = false;\n      this.startingCustomerSession = false;\n    }\n    ngOnInit() {\n      this.customerSupportAgentLoggedIn$ = this.csAgentAuthService.isCustomerSupportAgentLoggedIn();\n      this.csAgentTokenLoading$ = this.csAgentAuthService.getCustomerSupportAgentTokenLoading();\n      this.customer$ = this.authService.isUserLoggedIn().pipe(switchMap(isLoggedIn => {\n        if (isLoggedIn) {\n          this.handleCustomerSessionStartRedirection();\n          return this.userService.get();\n        } else {\n          return of(undefined);\n        }\n      }));\n      this.isCollapsed$ = this.asmService.getAsmUiState().pipe(map(uiState => uiState.collapsed === undefined ? false : uiState.collapsed));\n    }\n    handleCustomerSessionStartRedirection() {\n      this.asmComponentService.isCustomerEmulationSessionInProgress().pipe(take(1)).subscribe(isCustomerEmulated => {\n        if (this.startingCustomerSession && isCustomerEmulated) {\n          this.startingCustomerSession = false;\n          this.globalMessageService.remove(GlobalMessageType.MSG_TYPE_ERROR);\n          this.routingService.go('/');\n        }\n      });\n    }\n    loginCustomerSupportAgent({\n      userId,\n      password\n    }) {\n      this.csAgentAuthService.authorizeCustomerSupportAgent(userId, password);\n    }\n    logout() {\n      this.asmComponentService.logoutCustomerSupportAgentAndCustomer();\n    }\n    startCustomerEmulationSession({\n      customerId\n    }) {\n      if (customerId) {\n        this.csAgentAuthService.startCustomerEmulationSession(customerId);\n        this.startingCustomerSession = true;\n      } else {\n        this.globalMessageService.add({\n          key: 'asm.error.noCustomerId'\n        }, GlobalMessageType.MSG_TYPE_ERROR);\n      }\n    }\n    hideUi() {\n      this.disabled = true;\n      this.asmComponentService.unload();\n    }\n  }\n  AsmMainUiComponent.ɵfac = function AsmMainUiComponent_Factory(t) {\n    return new (t || AsmMainUiComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.CsAgentAuthService), i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(AsmComponentService), i0.ɵɵdirectiveInject(i1.GlobalMessageService), i0.ɵɵdirectiveInject(i1.RoutingService), i0.ɵɵdirectiveInject(i1$1.AsmService));\n  };\n  AsmMainUiComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n    type: AsmMainUiComponent,\n    selectors: [[\"cx-asm-main-ui\"]],\n    hostVars: 2,\n    hostBindings: function AsmMainUiComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"hidden\", ctx.disabled);\n      }\n    },\n    decls: 18,\n    vars: 20,\n    consts: [[1, \"asm-bar\"], [1, \"asm-bar-branding\"], [\"src\", \"data:image/png;base64,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\", \"width\", \"48\", \"height\", \"24\", 1, \"logo\", 3, \"alt\"], [1, \"asm-title\"], [1, \"asm-bar-actions\"], [4, \"ngIf\"], [\"class\", \"close\", 3, \"title\", \"click\", 4, \"ngIf\"], [\"class\", \"logout\", 3, \"title\", \"click\", 4, \"ngIf\"], [1, \"close\", 3, \"title\", \"click\"], [1, \"logout\", 3, \"title\", \"click\"], [4, \"ngIf\", \"ngIfElse\"], [\"showLoginForm\", \"\"], [\"showCustomerSelection\", \"\"], [3, \"submitEvent\", 4, \"ngIf\"], [3, \"submitEvent\"], [3, \"csAgentTokenLoading\", \"submitEvent\", 4, \"ngIf\"], [3, \"csAgentTokenLoading\", \"submitEvent\"]],\n    template: function AsmMainUiComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelement(2, \"img\", 2);\n        i0.ɵɵpipe(3, \"cxTranslate\");\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵtext(5);\n        i0.ɵɵpipe(6, \"cxTranslate\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 4);\n        i0.ɵɵelement(8, \"cx-asm-toggle-ui\");\n        i0.ɵɵtemplate(9, AsmMainUiComponent_cx_asm_session_timer_9_Template, 1, 0, \"cx-asm-session-timer\", 5);\n        i0.ɵɵpipe(10, \"async\");\n        i0.ɵɵtemplate(11, AsmMainUiComponent_button_11_Template, 2, 3, \"button\", 6);\n        i0.ɵɵpipe(12, \"async\");\n        i0.ɵɵpipe(13, \"async\");\n        i0.ɵɵtemplate(14, AsmMainUiComponent_button_14_Template, 2, 3, \"button\", 7);\n        i0.ɵɵpipe(15, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(16, AsmMainUiComponent_ng_container_16_Template, 5, 4, \"ng-container\", 5);\n        i0.ɵɵpipe(17, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"alt\", i0.ɵɵpipeBind1(3, 6, \"asm.mainLogoLabel\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(6, 8, \"asm.mainTitle\"), \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(10, 10, ctx.customerSupportAgentLoggedIn$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(12, 12, ctx.customerSupportAgentLoggedIn$) && !i0.ɵɵpipeBind1(13, 14, ctx.csAgentTokenLoading$));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(15, 16, ctx.customerSupportAgentLoggedIn$));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !i0.ɵɵpipeBind1(17, 18, ctx.isCollapsed$));\n      }\n    },\n    directives: [AsmToggleUiComponent, i4.NgIf, AsmSessionTimerComponent, CustomerEmulationComponent, CustomerSelectionComponent, CSAgentLoginFormComponent],\n    pipes: [i1.TranslatePipe, i4.AsyncPipe],\n    encapsulation: 2\n  });\n  return AsmMainUiComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nconst defaultAsmLayoutConfig = {\n  launch: {\n    ASM: {\n      outlet: 'cx-storefront',\n      component: AsmMainUiComponent\n    }\n  }\n};\nlet AsmComponentsModule = /*#__PURE__*/(() => {\n  class AsmComponentsModule {}\n  AsmComponentsModule.ɵfac = function AsmComponentsModule_Factory(t) {\n    return new (t || AsmComponentsModule)();\n  };\n  AsmComponentsModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n    type: AsmComponentsModule\n  });\n  AsmComponentsModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n    providers: [provideConfig(defaultAsmLayoutConfig)],\n    imports: [[CommonModule, ReactiveFormsModule, I18nModule, FormErrorsModule]]\n  });\n  return AsmComponentsModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { AsmComponentService, AsmComponentsModule, AsmMainUiComponent, AsmSessionTimerComponent, AsmToggleUiComponent, CSAgentLoginFormComponent, CustomerEmulationComponent, CustomerSelectionComponent, FormatTimerPipe };\n//# sourceMappingURL=spartacus-asm-components.js.map","map":null,"metadata":{},"sourceType":"module"}