import { ChangeDetectionStrategy, Component, Inject, PLATFORM_ID, } from '@angular/core';
import { BaseMessageComponent } from '../base-message.component';
import * as i0 from "@angular/core";
import * as i1 from "../message.model";
import * as i2 from "../services/message.service";
import * as i3 from "@spartacus/storefront";
import * as i4 from "@angular/common";
import * as i5 from "@spartacus/core";
/**
 * Renders a confirmation message and cancel/confirm button in the message component.
 */
export class ConfirmationMessageComponent extends BaseMessageComponent {
    constructor(data, platformId, messageService) {
        super(data, platformId);
        this.data = data;
        this.platformId = platformId;
        this.messageService = messageService;
        this.cancelText = {
            key: 'organization.confirmation.cancel',
        };
        this.confirmText = {
            key: 'organization.confirmation.confirm',
        };
    }
    ngOnInit() {
        var _a, _b;
        super.ngOnInit();
        this.cancelText = (_a = this.messageData.cancel) !== null && _a !== void 0 ? _a : this.cancelText;
        this.confirmText = (_b = this.messageData.confirm) !== null && _b !== void 0 ? _b : this.confirmText;
    }
    /**
     * Emits a confirmation event to the data events.
     *
     * The original author of the event message or other parties can observe
     * the event data.
     */
    confirm() {
        this.data.events.next({ confirm: true });
    }
}
ConfirmationMessageComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.0.5", ngImport: i0, type: ConfirmationMessageComponent, deps: [{ token: i1.MessageData }, { token: PLATFORM_ID }, { token: i2.MessageService }], target: i0.ɵɵFactoryTarget.Component });
ConfirmationMessageComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.0.5", type: ConfirmationMessageComponent, selector: "cx-org-confirmation", usesInheritance: true, ngImport: i0, template: "<div class=\"inner\" [cxFocus]=\"{ focusOnEscape: true }\" (esc)=\"close()\">\n  <p class=\"messageTitle\" *ngIf=\"messageTitle\">\n    {{ messageTitle | cxTranslate }}\n  </p>\n  <div class=\"message\">\n    <cx-icon *ngIf=\"messageIcon\" [type]=\"messageIcon\"></cx-icon>\n    <p>\n      {{ message | cxTranslate }}\n    </p>\n  </div>\n  <div class=\"actions\" [cxFocus]=\"{ autofocus: 'button.primary' }\">\n    <button class=\"button cancel\" (click)=\"close()\">\n      {{ cancelText | cxTranslate }}\n    </button>\n\n    <button class=\"button primary confirm\" (click)=\"confirm()\">\n      {{ confirmText | cxTranslate }}\n    </button>\n  </div>\n</div>\n", components: [{ type: i3.IconComponent, selector: "cx-icon,[cxIcon]", inputs: ["cxIcon", "type"] }], directives: [{ type: i3.FocusDirective, selector: "[cxFocus]", inputs: ["cxFocus"] }, { type: i4.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }], pipes: { "cxTranslate": i5.TranslatePipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.0.5", ngImport: i0, type: ConfirmationMessageComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'cx-org-confirmation',
                    templateUrl: './confirmation-message.component.html',
                    changeDetection: ChangeDetectionStrategy.OnPush,
                }]
        }], ctorParameters: function () { return [{ type: i1.MessageData }, { type: undefined, decorators: [{
                    type: Inject,
                    args: [PLATFORM_ID]
                }] }, { type: i2.MessageService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlybWF0aW9uLW1lc3NhZ2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL29yZ2FuaXphdGlvbi9hZG1pbmlzdHJhdGlvbi9jb21wb25lbnRzL3NoYXJlZC9tZXNzYWdlL2NvbmZpcm1hdGlvbi9jb25maXJtYXRpb24tbWVzc2FnZS5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9mZWF0dXJlLWxpYnMvb3JnYW5pemF0aW9uL2FkbWluaXN0cmF0aW9uL2NvbXBvbmVudHMvc2hhcmVkL21lc3NhZ2UvY29uZmlybWF0aW9uL2NvbmZpcm1hdGlvbi1tZXNzYWdlLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCx1QkFBdUIsRUFDdkIsU0FBUyxFQUNULE1BQU0sRUFFTixXQUFXLEdBQ1osTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sMkJBQTJCLENBQUM7Ozs7Ozs7QUFNakU7O0dBRUc7QUFNSCxNQUFNLE9BQU8sNEJBQ1gsU0FBUSxvQkFBb0I7SUFVNUIsWUFDWSxJQUEwQyxFQUNyQixVQUFlLEVBQ3BDLGNBQThCO1FBRXhDLEtBQUssQ0FBQyxJQUFJLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFKZCxTQUFJLEdBQUosSUFBSSxDQUFzQztRQUNyQixlQUFVLEdBQVYsVUFBVSxDQUFLO1FBQ3BDLG1CQUFjLEdBQWQsY0FBYyxDQUFnQjtRQVYxQyxlQUFVLEdBQWlCO1lBQ3pCLEdBQUcsRUFBRSxrQ0FBa0M7U0FDeEMsQ0FBQztRQUNGLGdCQUFXLEdBQWlCO1lBQzFCLEdBQUcsRUFBRSxtQ0FBbUM7U0FDekMsQ0FBQztJQVFGLENBQUM7SUFFRCxRQUFROztRQUNOLEtBQUssQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNqQixJQUFJLENBQUMsVUFBVSxHQUFHLE1BQUEsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLG1DQUFJLElBQUksQ0FBQyxVQUFVLENBQUM7UUFDN0QsSUFBSSxDQUFDLFdBQVcsR0FBRyxNQUFBLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxtQ0FBSSxJQUFJLENBQUMsV0FBVyxDQUFDO0lBQ2xFLENBQUM7SUFDRDs7Ozs7T0FLRztJQUNILE9BQU87UUFDTCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUMzQyxDQUFDOzt5SEFoQ1UsNEJBQTRCLDZDQWE3QixXQUFXOzZHQWJWLDRCQUE0QixrRkNyQnpDLDRwQkFvQkE7MkZEQ2EsNEJBQTRCO2tCQUx4QyxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSxxQkFBcUI7b0JBQy9CLFdBQVcsRUFBRSx1Q0FBdUM7b0JBQ3BELGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNO2lCQUNoRDs7MEJBY0ksTUFBTTsyQkFBQyxXQUFXIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIENvbXBvbmVudCxcbiAgSW5qZWN0LFxuICBPbkluaXQsXG4gIFBMQVRGT1JNX0lELFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEJhc2VNZXNzYWdlQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS1tZXNzYWdlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBNZXNzYWdlRGF0YSB9IGZyb20gJy4uL21lc3NhZ2UubW9kZWwnO1xuaW1wb3J0IHsgTWVzc2FnZVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9tZXNzYWdlLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29uZmlybWF0aW9uTWVzc2FnZURhdGEgfSBmcm9tICcuL2NvbmZpcm1hdGlvbi1tZXNzYWdlLm1vZGVsJztcbmltcG9ydCB7IFRyYW5zbGF0YWJsZSB9IGZyb20gJ0BzcGFydGFjdXMvY29yZSc7XG5cbi8qKlxuICogUmVuZGVycyBhIGNvbmZpcm1hdGlvbiBtZXNzYWdlIGFuZCBjYW5jZWwvY29uZmlybSBidXR0b24gaW4gdGhlIG1lc3NhZ2UgY29tcG9uZW50LlxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjeC1vcmctY29uZmlybWF0aW9uJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2NvbmZpcm1hdGlvbi1tZXNzYWdlLmNvbXBvbmVudC5odG1sJyxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG59KVxuZXhwb3J0IGNsYXNzIENvbmZpcm1hdGlvbk1lc3NhZ2VDb21wb25lbnRcbiAgZXh0ZW5kcyBCYXNlTWVzc2FnZUNvbXBvbmVudFxuICBpbXBsZW1lbnRzIE9uSW5pdFxue1xuICBjYW5jZWxUZXh0OiBUcmFuc2xhdGFibGUgPSB7XG4gICAga2V5OiAnb3JnYW5pemF0aW9uLmNvbmZpcm1hdGlvbi5jYW5jZWwnLFxuICB9O1xuICBjb25maXJtVGV4dDogVHJhbnNsYXRhYmxlID0ge1xuICAgIGtleTogJ29yZ2FuaXphdGlvbi5jb25maXJtYXRpb24uY29uZmlybScsXG4gIH07XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIGRhdGE6IE1lc3NhZ2VEYXRhPENvbmZpcm1hdGlvbk1lc3NhZ2VEYXRhPixcbiAgICBASW5qZWN0KFBMQVRGT1JNX0lEKSBwcm90ZWN0ZWQgcGxhdGZvcm1JZDogYW55LFxuICAgIHByb3RlY3RlZCBtZXNzYWdlU2VydmljZTogTWVzc2FnZVNlcnZpY2VcbiAgKSB7XG4gICAgc3VwZXIoZGF0YSwgcGxhdGZvcm1JZCk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICBzdXBlci5uZ09uSW5pdCgpO1xuICAgIHRoaXMuY2FuY2VsVGV4dCA9IHRoaXMubWVzc2FnZURhdGEuY2FuY2VsID8/IHRoaXMuY2FuY2VsVGV4dDtcbiAgICB0aGlzLmNvbmZpcm1UZXh0ID0gdGhpcy5tZXNzYWdlRGF0YS5jb25maXJtID8/IHRoaXMuY29uZmlybVRleHQ7XG4gIH1cbiAgLyoqXG4gICAqIEVtaXRzIGEgY29uZmlybWF0aW9uIGV2ZW50IHRvIHRoZSBkYXRhIGV2ZW50cy5cbiAgICpcbiAgICogVGhlIG9yaWdpbmFsIGF1dGhvciBvZiB0aGUgZXZlbnQgbWVzc2FnZSBvciBvdGhlciBwYXJ0aWVzIGNhbiBvYnNlcnZlXG4gICAqIHRoZSBldmVudCBkYXRhLlxuICAgKi9cbiAgY29uZmlybSgpIHtcbiAgICB0aGlzLmRhdGEuZXZlbnRzLm5leHQoeyBjb25maXJtOiB0cnVlIH0pO1xuICB9XG59XG4iLCI8ZGl2IGNsYXNzPVwiaW5uZXJcIiBbY3hGb2N1c109XCJ7IGZvY3VzT25Fc2NhcGU6IHRydWUgfVwiIChlc2MpPVwiY2xvc2UoKVwiPlxuICA8cCBjbGFzcz1cIm1lc3NhZ2VUaXRsZVwiICpuZ0lmPVwibWVzc2FnZVRpdGxlXCI+XG4gICAge3sgbWVzc2FnZVRpdGxlIHwgY3hUcmFuc2xhdGUgfX1cbiAgPC9wPlxuICA8ZGl2IGNsYXNzPVwibWVzc2FnZVwiPlxuICAgIDxjeC1pY29uICpuZ0lmPVwibWVzc2FnZUljb25cIiBbdHlwZV09XCJtZXNzYWdlSWNvblwiPjwvY3gtaWNvbj5cbiAgICA8cD5cbiAgICAgIHt7IG1lc3NhZ2UgfCBjeFRyYW5zbGF0ZSB9fVxuICAgIDwvcD5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJhY3Rpb25zXCIgW2N4Rm9jdXNdPVwieyBhdXRvZm9jdXM6ICdidXR0b24ucHJpbWFyeScgfVwiPlxuICAgIDxidXR0b24gY2xhc3M9XCJidXR0b24gY2FuY2VsXCIgKGNsaWNrKT1cImNsb3NlKClcIj5cbiAgICAgIHt7IGNhbmNlbFRleHQgfCBjeFRyYW5zbGF0ZSB9fVxuICAgIDwvYnV0dG9uPlxuXG4gICAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBwcmltYXJ5IGNvbmZpcm1cIiAoY2xpY2spPVwiY29uZmlybSgpXCI+XG4gICAgICB7eyBjb25maXJtVGV4dCB8IGN4VHJhbnNsYXRlIH19XG4gICAgPC9idXR0b24+XG4gIDwvZGl2PlxuPC9kaXY+XG4iXX0=