import { ChangeDetectionStrategy, Component, ViewChild } from '@angular/core';
import { LoadStatus, } from '@spartacus/organization/administration/core';
import { filter, map, take, tap } from 'rxjs/operators';
import { ItemService } from '../../../../shared/item.service';
import { MessageService } from '../../../../shared/message/services/message.service';
import { UnitUserRolesItemService } from './unit-user-roles-item.service';
import * as i0 from "@angular/core";
import * as i1 from "../../../../shared/item.service";
import * as i2 from "./unit-user-roles-form.service";
import * as i3 from "@spartacus/organization/administration/core";
import * as i4 from "../../../../user/services/user-item.service";
import * as i5 from "../../../../shared/card/card.component";
import * as i6 from "@angular/common";
import * as i7 from "@angular/forms";
import * as i8 from "@spartacus/storefront";
import * as i9 from "@angular/router";
import * as i10 from "@spartacus/core";
export class UnitUserRolesFormComponent {
    constructor(itemService, formService, userService, userItemService) {
        this.itemService = itemService;
        this.formService = formService;
        this.userService = userService;
        this.userItemService = userItemService;
        this.form$ = this.itemService.current$.pipe(tap((item) => {
            var _a, _b;
            if (!this.item) {
                this.item = item;
            }
            if (((_a = this.item.roles) === null || _a === void 0 ? void 0 : _a.join()) !== ((_b = item.roles) === null || _b === void 0 ? void 0 : _b.join())) {
                this.item = Object.assign(Object.assign({}, this.item), item);
            }
        }), map((item) => this.formService.getForm(item)));
        this.availableRoles = this.userService.getAllRoles();
    }
    save(form) {
        form.disable();
        const roles = [...this.availableRoles].filter((r) => !!form.get(r).value);
        this.userItemService
            .update(this.item.customerId, { roles })
            .pipe(take(1), filter((data) => data.status === LoadStatus.SUCCESS))
            .subscribe((data) => {
            this.notify(Object.assign(Object.assign({}, this.item), data.item));
            form.enable();
        });
    }
    notify(item) {
        this.messageService.add({
            message: {
                key: 'orgUnitUserRoles.messages.rolesUpdated',
                params: { item },
            },
        });
    }
}
UnitUserRolesFormComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.0.5", ngImport: i0, type: UnitUserRolesFormComponent, deps: [{ token: i1.ItemService }, { token: i2.UnitUserRolesFormService }, { token: i3.B2BUserService }, { token: i4.UserItemService }], target: i0.ɵɵFactoryTarget.Component });
UnitUserRolesFormComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.0.5", type: UnitUserRolesFormComponent, selector: "cx-org-unit-user-roles", host: { classAttribute: "content-wrapper" }, providers: [
        {
            provide: ItemService,
            useExisting: UnitUserRolesItemService,
        },
    ], viewQueries: [{ propertyName: "messageService", first: true, predicate: MessageService, descendants: true, read: MessageService }], ngImport: i0, template: "<form *ngIf=\"form$ | async as form\" (submit)=\"save(form)\">\n  <cx-org-card\n    #card\n    [previous]=\"false\"\n    i18nRoot=\"orgUnitUserRoles\"\n    [cxFocus]=\"{ autofocus: 'input', refreshFocus: form }\"\n  >\n    <a actions routerLink=\"../../\">\n      <span (click)=\"card.closeView($event)\">\n        {{ 'organization.done' | cxTranslate }}\n      </span>\n    </a>\n\n    <section main class=\"details\" [formGroup]=\"form\">\n      <fieldset class=\"full-width\">\n        <label class=\"form-check\" *ngFor=\"let role of availableRoles\">\n          <input\n            type=\"checkbox\"\n            [formControlName]=\"role\"\n            (change)=\"save(form)\"\n          />\n          <span class=\"form-check-label\">\n            {{ 'organization.userRoles.' + role | cxTranslate }}\n          </span>\n        </label>\n      </fieldset>\n    </section>\n  </cx-org-card>\n</form>\n", components: [{ type: i5.CardComponent, selector: "cx-org-card", inputs: ["i18nRoot", "previous", "subtitle", "showHint"] }], directives: [{ type: i6.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i7.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { type: i7.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i7.NgForm, selector: "form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]", inputs: ["ngFormOptions"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i8.FocusDirective, selector: "[cxFocus]", inputs: ["cxFocus"] }, { type: i9.RouterLinkWithHref, selector: "a[routerLink],area[routerLink]", inputs: ["routerLink", "target", "queryParams", "fragment", "queryParamsHandling", "preserveFragment", "skipLocationChange", "replaceUrl", "state", "relativeTo"] }, { type: i7.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i6.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i7.CheckboxControlValueAccessor, selector: "input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]" }, { type: i7.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i7.FormControlName, selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }], pipes: { "async": i6.AsyncPipe, "cxTranslate": i10.TranslatePipe }, changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.0.5", ngImport: i0, type: UnitUserRolesFormComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'cx-org-unit-user-roles',
                    templateUrl: './unit-user-roles.component.html',
                    changeDetection: ChangeDetectionStrategy.OnPush,
                    host: { class: 'content-wrapper' },
                    providers: [
                        {
                            provide: ItemService,
                            useExisting: UnitUserRolesItemService,
                        },
                    ],
                }]
        }], ctorParameters: function () { return [{ type: i1.ItemService }, { type: i2.UnitUserRolesFormService }, { type: i3.B2BUserService }, { type: i4.UserItemService }]; }, propDecorators: { messageService: [{
                type: ViewChild,
                args: [MessageService, { read: MessageService }]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW5pdC11c2VyLXJvbGVzLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2ZlYXR1cmUtbGlicy9vcmdhbml6YXRpb24vYWRtaW5pc3RyYXRpb24vY29tcG9uZW50cy91bml0L2xpbmtzL3VzZXJzL3JvbGVzL3VuaXQtdXNlci1yb2xlcy5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9mZWF0dXJlLWxpYnMvb3JnYW5pemF0aW9uL2FkbWluaXN0cmF0aW9uL2NvbXBvbmVudHMvdW5pdC9saW5rcy91c2Vycy9yb2xlcy91bml0LXVzZXItcm9sZXMuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLHVCQUF1QixFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFHOUUsT0FBTyxFQUVMLFVBQVUsR0FDWCxNQUFNLDZDQUE2QyxDQUFDO0FBRXJELE9BQU8sRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN4RCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0saUNBQWlDLENBQUM7QUFDOUQsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLHFEQUFxRCxDQUFDO0FBRXJGLE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLGdDQUFnQyxDQUFDOzs7Ozs7Ozs7Ozs7QUFlMUUsTUFBTSxPQUFPLDBCQUEwQjtJQW9CckMsWUFDWSxXQUFpQyxFQUNqQyxXQUFxQyxFQUNyQyxXQUEyQixFQUMzQixlQUFnQztRQUhoQyxnQkFBVyxHQUFYLFdBQVcsQ0FBc0I7UUFDakMsZ0JBQVcsR0FBWCxXQUFXLENBQTBCO1FBQ3JDLGdCQUFXLEdBQVgsV0FBVyxDQUFnQjtRQUMzQixvQkFBZSxHQUFmLGVBQWUsQ0FBaUI7UUFsQjVDLFVBQUssR0FBMEIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUMzRCxHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRTs7WUFDWCxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRTtnQkFDZCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQzthQUNsQjtZQUNELElBQUksQ0FBQSxNQUFBLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSywwQ0FBRSxJQUFJLEVBQUUsT0FBSyxNQUFBLElBQUksQ0FBQyxLQUFLLDBDQUFFLElBQUksRUFBRSxDQUFBLEVBQUU7Z0JBQ2xELElBQUksQ0FBQyxJQUFJLG1DQUFRLElBQUksQ0FBQyxJQUFJLEdBQUssSUFBSSxDQUFFLENBQUM7YUFDdkM7UUFDSCxDQUFDLENBQUMsRUFDRixHQUFHLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQzlDLENBQUM7UUFFRixtQkFBYyxHQUFrQixJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBTzVELENBQUM7SUFFSixJQUFJLENBQUMsSUFBZTtRQUNsQixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDZixNQUFNLEtBQUssR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUUsSUFBSSxDQUFDLGVBQWU7YUFDakIsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUM7YUFDdkMsSUFBSSxDQUNILElBQUksQ0FBQyxDQUFDLENBQUMsRUFDUCxNQUFNLENBQUMsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLEtBQUssVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUNyRDthQUNBLFNBQVMsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO1lBQ2xCLElBQUksQ0FBQyxNQUFNLGlDQUFNLElBQUksQ0FBQyxJQUFJLEdBQUssSUFBSSxDQUFDLElBQUksRUFBRyxDQUFDO1lBQzVDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUNoQixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFUyxNQUFNLENBQUMsSUFBYTtRQUM1QixJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQztZQUN0QixPQUFPLEVBQUU7Z0JBQ1AsR0FBRyxFQUFFLHdDQUF3QztnQkFDN0MsTUFBTSxFQUFFLEVBQUUsSUFBSSxFQUFFO2FBQ2pCO1NBQ0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQzs7dUhBakRVLDBCQUEwQjsyR0FBMUIsMEJBQTBCLDhGQVAxQjtRQUNUO1lBQ0UsT0FBTyxFQUFFLFdBQVc7WUFDcEIsV0FBVyxFQUFFLHdCQUF3QjtTQUN0QztLQUNGLDBFQUtVLGNBQWMsMkJBQVUsY0FBYyw2QkM5Qm5ELDY0QkE2QkE7MkZERmEsMEJBQTBCO2tCQVp0QyxTQUFTO21CQUFDO29CQUNULFFBQVEsRUFBRSx3QkFBd0I7b0JBQ2xDLFdBQVcsRUFBRSxrQ0FBa0M7b0JBQy9DLGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNO29CQUMvQyxJQUFJLEVBQUUsRUFBRSxLQUFLLEVBQUUsaUJBQWlCLEVBQUU7b0JBQ2xDLFNBQVMsRUFBRTt3QkFDVDs0QkFDRSxPQUFPLEVBQUUsV0FBVzs0QkFDcEIsV0FBVyxFQUFFLHdCQUF3Qjt5QkFDdEM7cUJBQ0Y7aUJBQ0Y7b01BS0MsY0FBYztzQkFEYixTQUFTO3VCQUFDLGNBQWMsRUFBRSxFQUFFLElBQUksRUFBRSxjQUFjLEVBQUUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1Hcm91cCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IEIyQlVzZXIsIEIyQlVzZXJSb2xlIH0gZnJvbSAnQHNwYXJ0YWN1cy9jb3JlJztcbmltcG9ydCB7XG4gIEIyQlVzZXJTZXJ2aWNlLFxuICBMb2FkU3RhdHVzLFxufSBmcm9tICdAc3BhcnRhY3VzL29yZ2FuaXphdGlvbi9hZG1pbmlzdHJhdGlvbi9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGZpbHRlciwgbWFwLCB0YWtlLCB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBJdGVtU2VydmljZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NoYXJlZC9pdGVtLnNlcnZpY2UnO1xuaW1wb3J0IHsgTWVzc2FnZVNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi8uLi9zaGFyZWQvbWVzc2FnZS9zZXJ2aWNlcy9tZXNzYWdlLnNlcnZpY2UnO1xuaW1wb3J0IHsgVW5pdFVzZXJSb2xlc0Zvcm1TZXJ2aWNlIH0gZnJvbSAnLi91bml0LXVzZXItcm9sZXMtZm9ybS5zZXJ2aWNlJztcbmltcG9ydCB7IFVuaXRVc2VyUm9sZXNJdGVtU2VydmljZSB9IGZyb20gJy4vdW5pdC11c2VyLXJvbGVzLWl0ZW0uc2VydmljZSc7XG5pbXBvcnQgeyBVc2VySXRlbVNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi8uLi91c2VyL3NlcnZpY2VzL3VzZXItaXRlbS5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnY3gtb3JnLXVuaXQtdXNlci1yb2xlcycsXG4gIHRlbXBsYXRlVXJsOiAnLi91bml0LXVzZXItcm9sZXMuY29tcG9uZW50Lmh0bWwnLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgaG9zdDogeyBjbGFzczogJ2NvbnRlbnQtd3JhcHBlcicgfSxcbiAgcHJvdmlkZXJzOiBbXG4gICAge1xuICAgICAgcHJvdmlkZTogSXRlbVNlcnZpY2UsXG4gICAgICB1c2VFeGlzdGluZzogVW5pdFVzZXJSb2xlc0l0ZW1TZXJ2aWNlLFxuICAgIH0sXG4gIF0sXG59KVxuZXhwb3J0IGNsYXNzIFVuaXRVc2VyUm9sZXNGb3JtQ29tcG9uZW50IHtcbiAgcHJvdGVjdGVkIGl0ZW06IEIyQlVzZXI7XG5cbiAgQFZpZXdDaGlsZChNZXNzYWdlU2VydmljZSwgeyByZWFkOiBNZXNzYWdlU2VydmljZSB9KVxuICBtZXNzYWdlU2VydmljZTogTWVzc2FnZVNlcnZpY2U7XG5cbiAgZm9ybSQ6IE9ic2VydmFibGU8Rm9ybUdyb3VwPiA9IHRoaXMuaXRlbVNlcnZpY2UuY3VycmVudCQucGlwZShcbiAgICB0YXAoKGl0ZW0pID0+IHtcbiAgICAgIGlmICghdGhpcy5pdGVtKSB7XG4gICAgICAgIHRoaXMuaXRlbSA9IGl0ZW07XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pdGVtLnJvbGVzPy5qb2luKCkgIT09IGl0ZW0ucm9sZXM/LmpvaW4oKSkge1xuICAgICAgICB0aGlzLml0ZW0gPSB7IC4uLnRoaXMuaXRlbSwgLi4uaXRlbSB9O1xuICAgICAgfVxuICAgIH0pLFxuICAgIG1hcCgoaXRlbSkgPT4gdGhpcy5mb3JtU2VydmljZS5nZXRGb3JtKGl0ZW0pKVxuICApO1xuXG4gIGF2YWlsYWJsZVJvbGVzOiBCMkJVc2VyUm9sZVtdID0gdGhpcy51c2VyU2VydmljZS5nZXRBbGxSb2xlcygpO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCBpdGVtU2VydmljZTogSXRlbVNlcnZpY2U8QjJCVXNlcj4sXG4gICAgcHJvdGVjdGVkIGZvcm1TZXJ2aWNlOiBVbml0VXNlclJvbGVzRm9ybVNlcnZpY2UsXG4gICAgcHJvdGVjdGVkIHVzZXJTZXJ2aWNlOiBCMkJVc2VyU2VydmljZSxcbiAgICBwcm90ZWN0ZWQgdXNlckl0ZW1TZXJ2aWNlOiBVc2VySXRlbVNlcnZpY2VcbiAgKSB7fVxuXG4gIHNhdmUoZm9ybTogRm9ybUdyb3VwKSB7XG4gICAgZm9ybS5kaXNhYmxlKCk7XG4gICAgY29uc3Qgcm9sZXMgPSBbLi4udGhpcy5hdmFpbGFibGVSb2xlc10uZmlsdGVyKChyKSA9PiAhIWZvcm0uZ2V0KHIpLnZhbHVlKTtcbiAgICB0aGlzLnVzZXJJdGVtU2VydmljZVxuICAgICAgLnVwZGF0ZSh0aGlzLml0ZW0uY3VzdG9tZXJJZCwgeyByb2xlcyB9KVxuICAgICAgLnBpcGUoXG4gICAgICAgIHRha2UoMSksXG4gICAgICAgIGZpbHRlcigoZGF0YSkgPT4gZGF0YS5zdGF0dXMgPT09IExvYWRTdGF0dXMuU1VDQ0VTUylcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKGRhdGEpID0+IHtcbiAgICAgICAgdGhpcy5ub3RpZnkoeyAuLi50aGlzLml0ZW0sIC4uLmRhdGEuaXRlbSB9KTtcbiAgICAgICAgZm9ybS5lbmFibGUoKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIG5vdGlmeShpdGVtOiBCMkJVc2VyKSB7XG4gICAgdGhpcy5tZXNzYWdlU2VydmljZS5hZGQoe1xuICAgICAgbWVzc2FnZToge1xuICAgICAgICBrZXk6ICdvcmdVbml0VXNlclJvbGVzLm1lc3NhZ2VzLnJvbGVzVXBkYXRlZCcsXG4gICAgICAgIHBhcmFtczogeyBpdGVtIH0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG59XG4iLCI8Zm9ybSAqbmdJZj1cImZvcm0kIHwgYXN5bmMgYXMgZm9ybVwiIChzdWJtaXQpPVwic2F2ZShmb3JtKVwiPlxuICA8Y3gtb3JnLWNhcmRcbiAgICAjY2FyZFxuICAgIFtwcmV2aW91c109XCJmYWxzZVwiXG4gICAgaTE4blJvb3Q9XCJvcmdVbml0VXNlclJvbGVzXCJcbiAgICBbY3hGb2N1c109XCJ7IGF1dG9mb2N1czogJ2lucHV0JywgcmVmcmVzaEZvY3VzOiBmb3JtIH1cIlxuICA+XG4gICAgPGEgYWN0aW9ucyByb3V0ZXJMaW5rPVwiLi4vLi4vXCI+XG4gICAgICA8c3BhbiAoY2xpY2spPVwiY2FyZC5jbG9zZVZpZXcoJGV2ZW50KVwiPlxuICAgICAgICB7eyAnb3JnYW5pemF0aW9uLmRvbmUnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgIDwvc3Bhbj5cbiAgICA8L2E+XG5cbiAgICA8c2VjdGlvbiBtYWluIGNsYXNzPVwiZGV0YWlsc1wiIFtmb3JtR3JvdXBdPVwiZm9ybVwiPlxuICAgICAgPGZpZWxkc2V0IGNsYXNzPVwiZnVsbC13aWR0aFwiPlxuICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWNoZWNrXCIgKm5nRm9yPVwibGV0IHJvbGUgb2YgYXZhaWxhYmxlUm9sZXNcIj5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICBbZm9ybUNvbnRyb2xOYW1lXT1cInJvbGVcIlxuICAgICAgICAgICAgKGNoYW5nZSk9XCJzYXZlKGZvcm0pXCJcbiAgICAgICAgICAvPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZm9ybS1jaGVjay1sYWJlbFwiPlxuICAgICAgICAgICAge3sgJ29yZ2FuaXphdGlvbi51c2VyUm9sZXMuJyArIHJvbGUgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9sYWJlbD5cbiAgICAgIDwvZmllbGRzZXQ+XG4gICAgPC9zZWN0aW9uPlxuICA8L2N4LW9yZy1jYXJkPlxuPC9mb3JtPlxuIl19