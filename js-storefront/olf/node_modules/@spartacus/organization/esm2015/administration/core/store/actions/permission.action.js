import { StateUtils, } from '@spartacus/core';
import { PERMISSION_ENTITIES, PERMISSION_LIST, PERMISSION_TYPES, PERMISSION_TYPES_LIST, } from '../organization-state';
export const LOAD_PERMISSION = '[Permission] Load Permission Data';
export const LOAD_PERMISSION_FAIL = '[Permission] Load Permission Data Fail';
export const LOAD_PERMISSION_SUCCESS = '[Permission] Load Permission Data Success';
export const LOAD_PERMISSIONS = '[Permission] Load Permissions';
export const LOAD_PERMISSIONS_FAIL = '[Permission] Load Permissions Fail';
export const LOAD_PERMISSIONS_SUCCESS = '[Permission] Load Permissions Success';
export const CREATE_PERMISSION = '[Permission] Create Permission';
export const CREATE_PERMISSION_FAIL = '[Permission] Create Permission Fail';
export const CREATE_PERMISSION_SUCCESS = '[Permission] Create Permission Success';
export const UPDATE_PERMISSION = '[Permission] Update Permission';
export const UPDATE_PERMISSION_FAIL = '[Permission] Update Permission Fail';
export const UPDATE_PERMISSION_SUCCESS = '[Permission] Update Permission Success';
export const LOAD_PERMISSION_TYPES = '[Permission Types] Load Permission Types';
export const LOAD_PERMISSION_TYPES_FAIL = '[Permission Types] Load Permission Types Fail';
export const LOAD_PERMISSION_TYPES_SUCCESS = '[Permission Types] Load Permission Types Success';
export class LoadPermission extends StateUtils.EntityLoadAction {
    constructor(payload) {
        super(PERMISSION_ENTITIES, payload.permissionCode);
        this.payload = payload;
        this.type = LOAD_PERMISSION;
    }
}
export class LoadPermissionFail extends StateUtils.EntityFailAction {
    constructor(payload) {
        super(PERMISSION_ENTITIES, payload.permissionCode, payload.error);
        this.payload = payload;
        this.type = LOAD_PERMISSION_FAIL;
    }
}
export class LoadPermissionSuccess extends StateUtils.EntitySuccessAction {
    constructor(payload) {
        super(PERMISSION_ENTITIES, Array.isArray(payload)
            ? payload.map((permission) => permission === null || permission === void 0 ? void 0 : permission.code)
            : payload === null || payload === void 0 ? void 0 : payload.code);
        this.payload = payload;
        this.type = LOAD_PERMISSION_SUCCESS;
    }
}
export class LoadPermissions extends StateUtils.EntityLoadAction {
    constructor(payload) {
        super(PERMISSION_LIST, StateUtils.serializeSearchConfig(payload.params));
        this.payload = payload;
        this.type = LOAD_PERMISSIONS;
    }
}
export class LoadPermissionsFail extends StateUtils.EntityFailAction {
    constructor(payload) {
        super(PERMISSION_LIST, StateUtils.serializeSearchConfig(payload.params), payload.error);
        this.payload = payload;
        this.type = LOAD_PERMISSIONS_FAIL;
    }
}
export class LoadPermissionsSuccess extends StateUtils.EntitySuccessAction {
    constructor(payload) {
        super(PERMISSION_LIST, StateUtils.serializeSearchConfig(payload.params));
        this.payload = payload;
        this.type = LOAD_PERMISSIONS_SUCCESS;
    }
}
export class CreatePermission extends StateUtils.EntityLoadAction {
    constructor(payload) {
        super(PERMISSION_ENTITIES, payload.permission.code);
        this.payload = payload;
        this.type = CREATE_PERMISSION;
    }
}
export class CreatePermissionFail extends StateUtils.EntityFailAction {
    constructor(payload) {
        super(PERMISSION_ENTITIES, payload.permissionCode, payload.error);
        this.payload = payload;
        this.type = CREATE_PERMISSION_FAIL;
    }
}
export class CreatePermissionSuccess extends StateUtils.EntitySuccessAction {
    constructor(payload) {
        super(PERMISSION_ENTITIES, payload.code, payload);
        this.payload = payload;
        this.type = CREATE_PERMISSION_SUCCESS;
    }
}
export class UpdatePermission extends StateUtils.EntityLoadAction {
    constructor(payload) {
        super(PERMISSION_ENTITIES, payload.permission.code);
        this.payload = payload;
        this.type = UPDATE_PERMISSION;
    }
}
export class UpdatePermissionFail extends StateUtils.EntityFailAction {
    constructor(payload) {
        super(PERMISSION_ENTITIES, payload.permissionCode, payload.error);
        this.payload = payload;
        this.type = UPDATE_PERMISSION_FAIL;
    }
}
export class UpdatePermissionSuccess extends StateUtils.EntitySuccessAction {
    constructor(payload) {
        super(PERMISSION_ENTITIES, payload.code, payload);
        this.payload = payload;
        this.type = UPDATE_PERMISSION_SUCCESS;
    }
}
export class LoadPermissionTypes extends StateUtils.EntityLoadAction {
    constructor() {
        super(PERMISSION_TYPES_LIST, PERMISSION_TYPES);
        this.type = LOAD_PERMISSION_TYPES;
    }
}
export class LoadPermissionTypesFail extends StateUtils.EntityFailAction {
    constructor(payload) {
        super(PERMISSION_TYPES_LIST, PERMISSION_TYPES, payload.error);
        this.payload = payload;
        this.type = LOAD_PERMISSION_TYPES_FAIL;
    }
}
export class LoadPermissionTypesSuccess extends StateUtils.EntitySuccessAction {
    constructor(payload) {
        super(PERMISSION_TYPES_LIST, PERMISSION_TYPES);
        this.payload = payload;
        this.type = LOAD_PERMISSION_TYPES_SUCCESS;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGVybWlzc2lvbi5hY3Rpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9mZWF0dXJlLWxpYnMvb3JnYW5pemF0aW9uL2FkbWluaXN0cmF0aW9uL2NvcmUvc3RvcmUvYWN0aW9ucy9wZXJtaXNzaW9uLmFjdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBR0wsVUFBVSxHQUVYLE1BQU0saUJBQWlCLENBQUM7QUFFekIsT0FBTyxFQUNMLG1CQUFtQixFQUNuQixlQUFlLEVBQ2YsZ0JBQWdCLEVBQ2hCLHFCQUFxQixHQUN0QixNQUFNLHVCQUF1QixDQUFDO0FBRS9CLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBRyxtQ0FBbUMsQ0FBQztBQUNuRSxNQUFNLENBQUMsTUFBTSxvQkFBb0IsR0FBRyx3Q0FBd0MsQ0FBQztBQUM3RSxNQUFNLENBQUMsTUFBTSx1QkFBdUIsR0FDbEMsMkNBQTJDLENBQUM7QUFFOUMsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsK0JBQStCLENBQUM7QUFDaEUsTUFBTSxDQUFDLE1BQU0scUJBQXFCLEdBQUcsb0NBQW9DLENBQUM7QUFDMUUsTUFBTSxDQUFDLE1BQU0sd0JBQXdCLEdBQUcsdUNBQXVDLENBQUM7QUFFaEYsTUFBTSxDQUFDLE1BQU0saUJBQWlCLEdBQUcsZ0NBQWdDLENBQUM7QUFDbEUsTUFBTSxDQUFDLE1BQU0sc0JBQXNCLEdBQUcscUNBQXFDLENBQUM7QUFDNUUsTUFBTSxDQUFDLE1BQU0seUJBQXlCLEdBQ3BDLHdDQUF3QyxDQUFDO0FBRTNDLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLGdDQUFnQyxDQUFDO0FBQ2xFLE1BQU0sQ0FBQyxNQUFNLHNCQUFzQixHQUFHLHFDQUFxQyxDQUFDO0FBQzVFLE1BQU0sQ0FBQyxNQUFNLHlCQUF5QixHQUNwQyx3Q0FBd0MsQ0FBQztBQUUzQyxNQUFNLENBQUMsTUFBTSxxQkFBcUIsR0FBRywwQ0FB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QVEsVUFBVSxDQUFDLGdCQUFnQjtJQUVsRTtRQUNFLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxnQkFBZ0IsQ0FBQyxDQUFDO1FBRnhDLFNBQUksR0FBRyxxQkFBcUIsQ0FBQztJQUd0QyxDQUFDO0NBQ0Y7QUFFRCxNQUFNLE9BQU8sdUJBQXdCLFNBQVEsVUFBVSxDQUFDLGdCQUFnQjtJQUV0RSxZQUFtQixPQUFZO1FBQzdCLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxnQkFBZ0IsRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7UUFEN0MsWUFBTyxHQUFQLE9BQU8sQ0FBSztRQUR0QixTQUFJLEdBQUcsMEJBQTBCLENBQUM7SUFHM0MsQ0FBQztDQUNGO0FBRUQsTUFBTSxPQUFPLDBCQUEyQixTQUFRLFVBQVUsQ0FBQyxtQkFBbUI7SUFFNUUsWUFBbUIsT0FBc0M7UUFDdkQsS0FBSyxDQUFDLHFCQUFxQixFQUFFLGdCQUFnQixDQUFDLENBQUM7UUFEOUIsWUFBTyxHQUFQLE9BQU8sQ0FBK0I7UUFEaEQsU0FBSSxHQUFHLDZCQUE2QixDQUFDO0lBRzlDLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIExpc3RNb2RlbCxcbiAgU2VhcmNoQ29uZmlnLFxuICBTdGF0ZVV0aWxzLFxuICBPcmRlckFwcHJvdmFsUGVybWlzc2lvblR5cGUsXG59IGZyb20gJ0BzcGFydGFjdXMvY29yZSc7XG5pbXBvcnQgeyBQZXJtaXNzaW9uIH0gZnJvbSAnLi4vLi4vbW9kZWwvcGVybWlzc2lvbi5tb2RlbCc7XG5pbXBvcnQge1xuICBQRVJNSVNTSU9OX0VOVElUSUVTLFxuICBQRVJNSVNTSU9OX0xJU1QsXG4gIFBFUk1JU1NJT05fVFlQRVMsXG4gIFBFUk1JU1NJT05fVFlQRVNfTElTVCxcbn0gZnJvbSAnLi4vb3JnYW5pemF0aW9uLXN0YXRlJztcblxuZXhwb3J0IGNvbnN0IExPQURfUEVSTUlTU0lPTiA9ICdbUGVybWlzc2lvbl0gTG9hZCBQZXJtaXNzaW9uIERhdGEnO1xuZXhwb3J0IGNvbnN0IExPQURfUEVSTUlTU0lPTl9GQUlMID0gJ1tQZXJtaXNzaW9uXSBMb2FkIFBlcm1pc3Npb24gRGF0YSBGYWlsJztcbmV4cG9ydCBjb25zdCBMT0FEX1BFUk1JU1NJT05fU1VDQ0VTUyA9XG4gICdbUGVybWlzc2lvbl0gTG9hZCBQZXJtaXNzaW9uIERhdGEgU3VjY2Vzcyc7XG5cbmV4cG9ydCBjb25zdCBMT0FEX1BFUk1JU1NJT05TID0gJ1tQZXJtaXNzaW9uXSBMb2FkIFBlcm1pc3Npb25zJztcbmV4cG9ydCBjb25zdCBMT0FEX1BFUk1JU1NJT05TX0ZBSUwgPSAnW1Blcm1pc3Npb25dIExvYWQgUGVybWlzc2lvbnMgRmFpbCc7XG5leHBvcnQgY29uc3QgTE9BRF9QRVJNSVNTSU9OU19TVUNDRVNTID0gJ1tQZXJtaXNzaW9uXSBMb2FkIFBlcm1pc3Npb25zIFN1Y2Nlc3MnO1xuXG5leHBvcnQgY29uc3QgQ1JFQVRFX1BFUk1JU1NJT04gPSAnW1Blcm1pc3Npb25dIENyZWF0ZSBQZXJtaXNzaW9uJztcbmV4cG9ydCBjb25zdCBDUkVBVEVfUEVSTUlTU0lPTl9GQUlMID0gJ1tQZXJtaXNzaW9uXSBDcmVhdGUgUGVybWlzc2lvbiBGYWlsJztcbmV4cG9ydCBjb25zdCBDUkVBVEVfUEVSTUlTU0lPTl9TVUNDRVNTID1cbiAgJ1tQZXJtaXNzaW9uXSBDcmVhdGUgUGVybWlzc2lvbiBTdWNjZXNzJztcblxuZXhwb3J0IGNvbnN0IFVQREFURV9QRVJNSVNTSU9OID0gJ1tQZXJtaXNzaW9uXSBVcGRhdGUgUGVybWlzc2lvbic7XG5leHBvcnQgY29uc3QgVVBEQVRFX1BFUk1JU1NJT05fRkFJTCA9ICdbUGVybWlzc2lvbl0gVXBkYXRlIFBlcm1pc3Npb24gRmFpbCc7XG5leHBvcnQgY29uc3QgVVBEQVRFX1BFUk1JU1NJT05fU1VDQ0VTUyA9XG4gICdbUGVybWlzc2lvbl0gVXBkYXRlIFBlcm1pc3Npb24gU3VjY2Vzcyc7XG5cbmV4cG9ydCBjb25zdCBMT0FEX1BFUk1JU1NJT05fVFlQRVMgPSAnW1Blcm1pc3Npb24gVHlwZXNdIExvYWQgUGVybWlzc2lvbiBUeXBlcyc7XG5leHBvcnQgY29uc3QgTE9BRF9QRVJNSVNTSU9OX1RZUEVTX0ZBSUwgPVxuICAnW1Blcm1pc3Npb24gVHlwZXNdIExvYWQgUGVybWlzc2lvbiBUeXBlcyBGYWlsJztcbmV4cG9ydCBjb25zdCBMT0FEX1BFUk1JU1NJT05fVFlQRVNfU1VDQ0VTUyA9XG4gICdbUGVybWlzc2lvbiBUeXBlc10gTG9hZCBQZXJtaXNzaW9uIFR5cGVzIFN1Y2Nlc3MnO1xuXG5leHBvcnQgY2xhc3MgTG9hZFBlcm1pc3Npb24gZXh0ZW5kcyBTdGF0ZVV0aWxzLkVudGl0eUxvYWRBY3Rpb24ge1xuICByZWFkb25seSB0eXBlID0gTE9BRF9QRVJNSVNTSU9OO1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcGF5bG9hZDogeyB1c2VySWQ6IHN0cmluZzsgcGVybWlzc2lvbkNvZGU6IHN0cmluZyB9KSB7XG4gICAgc3VwZXIoUEVSTUlTU0lPTl9FTlRJVElFUywgcGF5bG9hZC5wZXJtaXNzaW9uQ29kZSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExvYWRQZXJtaXNzaW9uRmFpbCBleHRlbmRzIFN0YXRlVXRpbHMuRW50aXR5RmFpbEFjdGlvbiB7XG4gIHJlYWRvbmx5IHR5cGUgPSBMT0FEX1BFUk1JU1NJT05fRkFJTDtcbiAgY29uc3RydWN0b3IocHVibGljIHBheWxvYWQ6IHsgcGVybWlzc2lvbkNvZGU6IHN0cmluZzsgZXJyb3I6IGFueSB9KSB7XG4gICAgc3VwZXIoUEVSTUlTU0lPTl9FTlRJVElFUywgcGF5bG9hZC5wZXJtaXNzaW9uQ29kZSwgcGF5bG9hZC5lcnJvcik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExvYWRQZXJtaXNzaW9uU3VjY2VzcyBleHRlbmRzIFN0YXRlVXRpbHMuRW50aXR5U3VjY2Vzc0FjdGlvbiB7XG4gIHJlYWRvbmx5IHR5cGUgPSBMT0FEX1BFUk1JU1NJT05fU1VDQ0VTUztcbiAgY29uc3RydWN0b3IocHVibGljIHBheWxvYWQ6IFBlcm1pc3Npb24gfCBQZXJtaXNzaW9uW10pIHtcbiAgICBzdXBlcihcbiAgICAgIFBFUk1JU1NJT05fRU5USVRJRVMsXG4gICAgICBBcnJheS5pc0FycmF5KHBheWxvYWQpXG4gICAgICAgID8gcGF5bG9hZC5tYXAoKHBlcm1pc3Npb24pID0+IHBlcm1pc3Npb24/LmNvZGUpXG4gICAgICAgIDogcGF5bG9hZD8uY29kZVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExvYWRQZXJtaXNzaW9ucyBleHRlbmRzIFN0YXRlVXRpbHMuRW50aXR5TG9hZEFjdGlvbiB7XG4gIHJlYWRvbmx5IHR5cGUgPSBMT0FEX1BFUk1JU1NJT05TO1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcGF5bG9hZDoge1xuICAgICAgdXNlcklkOiBzdHJpbmc7XG4gICAgICBwYXJhbXM6IFNlYXJjaENvbmZpZztcbiAgICB9XG4gICkge1xuICAgIHN1cGVyKFBFUk1JU1NJT05fTElTVCwgU3RhdGVVdGlscy5zZXJpYWxpemVTZWFyY2hDb25maWcocGF5bG9hZC5wYXJhbXMpKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTG9hZFBlcm1pc3Npb25zRmFpbCBleHRlbmRzIFN0YXRlVXRpbHMuRW50aXR5RmFpbEFjdGlvbiB7XG4gIHJlYWRvbmx5IHR5cGUgPSBMT0FEX1BFUk1JU1NJT05TX0ZBSUw7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBwYXlsb2FkOiB7IHBhcmFtczogU2VhcmNoQ29uZmlnOyBlcnJvcjogYW55IH0pIHtcbiAgICBzdXBlcihcbiAgICAgIFBFUk1JU1NJT05fTElTVCxcbiAgICAgIFN0YXRlVXRpbHMuc2VyaWFsaXplU2VhcmNoQ29uZmlnKHBheWxvYWQucGFyYW1zKSxcbiAgICAgIHBheWxvYWQuZXJyb3JcbiAgICApO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMb2FkUGVybWlzc2lvbnNTdWNjZXNzIGV4dGVuZHMgU3RhdGVVdGlscy5FbnRpdHlTdWNjZXNzQWN0aW9uIHtcbiAgcmVhZG9ubHkgdHlwZSA9IExPQURfUEVSTUlTU0lPTlNfU1VDQ0VTUztcbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHBheWxvYWQ6IHtcbiAgICAgIHBhZ2U6IExpc3RNb2RlbDtcbiAgICAgIHBhcmFtczogU2VhcmNoQ29uZmlnO1xuICAgIH1cbiAgKSB7XG4gICAgc3VwZXIoUEVSTUlTU0lPTl9MSVNULCBTdGF0ZVV0aWxzLnNlcmlhbGl6ZVNlYXJjaENvbmZpZyhwYXlsb2FkLnBhcmFtcykpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVQZXJtaXNzaW9uIGV4dGVuZHMgU3RhdGVVdGlscy5FbnRpdHlMb2FkQWN0aW9uIHtcbiAgcmVhZG9ubHkgdHlwZSA9IENSRUFURV9QRVJNSVNTSU9OO1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcGF5bG9hZDogeyB1c2VySWQ6IHN0cmluZzsgcGVybWlzc2lvbjogUGVybWlzc2lvbiB9KSB7XG4gICAgc3VwZXIoUEVSTUlTU0lPTl9FTlRJVElFUywgcGF5bG9hZC5wZXJtaXNzaW9uLmNvZGUpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVQZXJtaXNzaW9uRmFpbCBleHRlbmRzIFN0YXRlVXRpbHMuRW50aXR5RmFpbEFjdGlvbiB7XG4gIHJlYWRvbmx5IHR5cGUgPSBDUkVBVEVfUEVSTUlTU0lPTl9GQUlMO1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcGF5bG9hZDogeyBwZXJtaXNzaW9uQ29kZTogc3RyaW5nOyBlcnJvcjogYW55IH0pIHtcbiAgICBzdXBlcihQRVJNSVNTSU9OX0VOVElUSUVTLCBwYXlsb2FkLnBlcm1pc3Npb25Db2RlLCBwYXlsb2FkLmVycm9yKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3JlYXRlUGVybWlzc2lvblN1Y2Nlc3MgZXh0ZW5kcyBTdGF0ZVV0aWxzLkVudGl0eVN1Y2Nlc3NBY3Rpb24ge1xuICByZWFkb25seSB0eXBlID0gQ1JFQVRFX1BFUk1JU1NJT05fU1VDQ0VTUztcbiAgY29uc3RydWN0b3IocHVibGljIHBheWxvYWQ6IFBlcm1pc3Npb24pIHtcbiAgICBzdXBlcihQRVJNSVNTSU9OX0VOVElUSUVTLCBwYXlsb2FkLmNvZGUsIHBheWxvYWQpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVcGRhdGVQZXJtaXNzaW9uIGV4dGVuZHMgU3RhdGVVdGlscy5FbnRpdHlMb2FkQWN0aW9uIHtcbiAgcmVhZG9ubHkgdHlwZSA9IFVQREFURV9QRVJNSVNTSU9OO1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcGF5bG9hZDoge1xuICAgICAgdXNlcklkOiBzdHJpbmc7XG4gICAgICBwZXJtaXNzaW9uQ29kZTogc3RyaW5nO1xuICAgICAgcGVybWlzc2lvbjogUGVybWlzc2lvbjtcbiAgICB9XG4gICkge1xuICAgIHN1cGVyKFBFUk1JU1NJT05fRU5USVRJRVMsIHBheWxvYWQucGVybWlzc2lvbi5jb2RlKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVXBkYXRlUGVybWlzc2lvbkZhaWwgZXh0ZW5kcyBTdGF0ZVV0aWxzLkVudGl0eUZhaWxBY3Rpb24ge1xuICByZWFkb25seSB0eXBlID0gVVBEQVRFX1BFUk1JU1NJT05fRkFJTDtcbiAgY29uc3RydWN0b3IocHVibGljIHBheWxvYWQ6IHsgcGVybWlzc2lvbkNvZGU6IHN0cmluZzsgZXJyb3I6IGFueSB9KSB7XG4gICAgc3VwZXIoUEVSTUlTU0lPTl9FTlRJVElFUywgcGF5bG9hZC5wZXJtaXNzaW9uQ29kZSwgcGF5bG9hZC5lcnJvcik7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVwZGF0ZVBlcm1pc3Npb25TdWNjZXNzIGV4dGVuZHMgU3RhdGVVdGlscy5FbnRpdHlTdWNjZXNzQWN0aW9uIHtcbiAgcmVhZG9ubHkgdHlwZSA9IFVQREFURV9QRVJNSVNTSU9OX1NVQ0NFU1M7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBwYXlsb2FkOiBQZXJtaXNzaW9uKSB7XG4gICAgc3VwZXIoUEVSTUlTU0lPTl9FTlRJVElFUywgcGF5bG9hZC5jb2RlLCBwYXlsb2FkKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTG9hZFBlcm1pc3Npb25UeXBlcyBleHRlbmRzIFN0YXRlVXRpbHMuRW50aXR5TG9hZEFjdGlvbiB7XG4gIHJlYWRvbmx5IHR5cGUgPSBMT0FEX1BFUk1JU1NJT05fVFlQRVM7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFBFUk1JU1NJT05fVFlQRVNfTElTVCwgUEVSTUlTU0lPTl9UWVBFUyk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExvYWRQZXJtaXNzaW9uVHlwZXNGYWlsIGV4dGVuZHMgU3RhdGVVdGlscy5FbnRpdHlGYWlsQWN0aW9uIHtcbiAgcmVhZG9ubHkgdHlwZSA9IExPQURfUEVSTUlTU0lPTl9UWVBFU19GQUlMO1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgcGF5bG9hZDogYW55KSB7XG4gICAgc3VwZXIoUEVSTUlTU0lPTl9UWVBFU19MSVNULCBQRVJNSVNTSU9OX1RZUEVTLCBwYXlsb2FkLmVycm9yKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTG9hZFBlcm1pc3Npb25UeXBlc1N1Y2Nlc3MgZXh0ZW5kcyBTdGF0ZVV0aWxzLkVudGl0eVN1Y2Nlc3NBY3Rpb24ge1xuICByZWFkb25seSB0eXBlID0gTE9BRF9QRVJNSVNTSU9OX1RZUEVTX1NVQ0NFU1M7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBwYXlsb2FkOiBPcmRlckFwcHJvdmFsUGVybWlzc2lvblR5cGVbXSkge1xuICAgIHN1cGVyKFBFUk1JU1NJT05fVFlQRVNfTElTVCwgUEVSTUlTU0lPTl9UWVBFUyk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgUGVybWlzc2lvbkFjdGlvbiA9XG4gIHwgTG9hZFBlcm1pc3Npb25cbiAgfCBMb2FkUGVybWlzc2lvbkZhaWxcbiAgfCBMb2FkUGVybWlzc2lvblN1Y2Nlc3NcbiAgfCBMb2FkUGVybWlzc2lvbnNcbiAgfCBMb2FkUGVybWlzc2lvbnNGYWlsXG4gIHwgTG9hZFBlcm1pc3Npb25zU3VjY2Vzc1xuICB8IENyZWF0ZVBlcm1pc3Npb25cbiAgfCBDcmVhdGVQZXJtaXNzaW9uRmFpbFxuICB8IENyZWF0ZVBlcm1pc3Npb25TdWNjZXNzXG4gIHwgVXBkYXRlUGVybWlzc2lvblxuICB8IFVwZGF0ZVBlcm1pc3Npb25GYWlsXG4gIHwgVXBkYXRlUGVybWlzc2lvblN1Y2Nlc3NcbiAgfCBMb2FkUGVybWlzc2lvblR5cGVzXG4gIHwgTG9hZFBlcm1pc3Npb25UeXBlc0ZhaWxcbiAgfCBMb2FkUGVybWlzc2lvblR5cGVzU3VjY2VzcztcbiJdfQ==