import { InjectionToken } from '@angular/core';
import { combineReducers, } from '@ngrx/store';
import { AuthActions, StateUtils } from '@spartacus/core';
import { ORDER_APPROVAL_ENTITIES, ORDER_APPROVAL_FEATURE, ORDER_APPROVAL_LIST, } from '../order-approval-state';
import { orderApprovalsEntitiesReducer, orderApprovalsListReducer, } from './order-approval.reducer';
export function getReducers() {
    return {
        [ORDER_APPROVAL_FEATURE]: combineReducers({
            entities: StateUtils.entityLoaderReducer(ORDER_APPROVAL_ENTITIES, orderApprovalsEntitiesReducer),
            list: StateUtils.entityLoaderReducer(ORDER_APPROVAL_LIST, orderApprovalsListReducer),
        }),
    };
}
export const reducerToken = new InjectionToken('OrganizationReducers');
export const reducerProvider = {
    provide: reducerToken,
    useFactory: getReducers,
};
export function clearOrganizationState(reducer) {
    return function (state, action) {
        if (action.type === AuthActions.LOGOUT) {
            state = undefined;
        }
        return reducer(state, action);
    };
}
export const metaReducers = [clearOrganizationState];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9mZWF0dXJlLWxpYnMvb3JnYW5pemF0aW9uL29yZGVyLWFwcHJvdmFsL2NvcmUvc3RvcmUvcmVkdWNlcnMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBWSxNQUFNLGVBQWUsQ0FBQztBQUN6RCxPQUFPLEVBSUwsZUFBZSxHQUVoQixNQUFNLGFBQWEsQ0FBQztBQUNyQixPQUFPLEVBQUUsV0FBVyxFQUFhLFVBQVUsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBRXJFLE9BQU8sRUFFTCx1QkFBdUIsRUFDdkIsc0JBQXNCLEVBQ3RCLG1CQUFtQixHQUNwQixNQUFNLHlCQUF5QixDQUFDO0FBQ2pDLE9BQU8sRUFDTCw2QkFBNkIsRUFDN0IseUJBQXlCLEdBQzFCLE1BQU0sMEJBQTBCLENBQUM7QUFFbEMsTUFBTSxVQUFVLFdBQVc7SUFDekIsT0FBTztRQUNMLENBQUMsc0JBQXNCLENBQUMsRUFBRSxlQUFlLENBQUM7WUFDeEMsUUFBUSxFQUFFLFVBQVUsQ0FBQyxtQkFBbUIsQ0FDdEMsdUJBQXVCLEVBQ3ZCLDZCQUE2QixDQUM5QjtZQUNELElBQUksRUFBRSxVQUFVLENBQUMsbUJBQW1CLENBQ2xDLG1CQUFtQixFQUNuQix5QkFBeUIsQ0FDMUI7U0FDRixDQUFDO0tBQ0gsQ0FBQztBQUNKLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxZQUFZLEdBRXJCLElBQUksY0FBYyxDQUNwQixzQkFBc0IsQ0FDdkIsQ0FBQztBQUVGLE1BQU0sQ0FBQyxNQUFNLGVBQWUsR0FBYTtJQUN2QyxPQUFPLEVBQUUsWUFBWTtJQUNyQixVQUFVLEVBQUUsV0FBVztDQUN4QixDQUFDO0FBRUYsTUFBTSxVQUFVLHNCQUFzQixDQUNwQyxPQUFrRDtJQUVsRCxPQUFPLFVBQVUsS0FBSyxFQUFFLE1BQU07UUFDNUIsSUFBSSxNQUFNLENBQUMsSUFBSSxLQUFLLFdBQVcsQ0FBQyxNQUFNLEVBQUU7WUFDdEMsS0FBSyxHQUFHLFNBQVMsQ0FBQztTQUNuQjtRQUVELE9BQU8sT0FBTyxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztJQUNoQyxDQUFDLENBQUM7QUFDSixDQUFDO0FBRUQsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUF1QixDQUFDLHNCQUFzQixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3Rpb25Ub2tlbiwgUHJvdmlkZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gIEFjdGlvbixcbiAgQWN0aW9uUmVkdWNlcixcbiAgQWN0aW9uUmVkdWNlck1hcCxcbiAgY29tYmluZVJlZHVjZXJzLFxuICBNZXRhUmVkdWNlcixcbn0gZnJvbSAnQG5ncngvc3RvcmUnO1xuaW1wb3J0IHsgQXV0aEFjdGlvbnMsIExpc3RNb2RlbCwgU3RhdGVVdGlscyB9IGZyb20gJ0BzcGFydGFjdXMvY29yZSc7XG5pbXBvcnQgeyBPcmRlckFwcHJvdmFsIH0gZnJvbSAnLi4vLi4vbW9kZWwvb3JkZXItYXBwcm92YWwubW9kZWwnO1xuaW1wb3J0IHtcbiAgT3JkZXJBcHByb3ZhbFN0YXRlLFxuICBPUkRFUl9BUFBST1ZBTF9FTlRJVElFUyxcbiAgT1JERVJfQVBQUk9WQUxfRkVBVFVSRSxcbiAgT1JERVJfQVBQUk9WQUxfTElTVCxcbn0gZnJvbSAnLi4vb3JkZXItYXBwcm92YWwtc3RhdGUnO1xuaW1wb3J0IHtcbiAgb3JkZXJBcHByb3ZhbHNFbnRpdGllc1JlZHVjZXIsXG4gIG9yZGVyQXBwcm92YWxzTGlzdFJlZHVjZXIsXG59IGZyb20gJy4vb3JkZXItYXBwcm92YWwucmVkdWNlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWR1Y2VycygpOiBBY3Rpb25SZWR1Y2VyTWFwPE9yZGVyQXBwcm92YWxTdGF0ZT4ge1xuICByZXR1cm4ge1xuICAgIFtPUkRFUl9BUFBST1ZBTF9GRUFUVVJFXTogY29tYmluZVJlZHVjZXJzKHtcbiAgICAgIGVudGl0aWVzOiBTdGF0ZVV0aWxzLmVudGl0eUxvYWRlclJlZHVjZXI8T3JkZXJBcHByb3ZhbD4oXG4gICAgICAgIE9SREVSX0FQUFJPVkFMX0VOVElUSUVTLFxuICAgICAgICBvcmRlckFwcHJvdmFsc0VudGl0aWVzUmVkdWNlclxuICAgICAgKSxcbiAgICAgIGxpc3Q6IFN0YXRlVXRpbHMuZW50aXR5TG9hZGVyUmVkdWNlcjxMaXN0TW9kZWw+KFxuICAgICAgICBPUkRFUl9BUFBST1ZBTF9MSVNULFxuICAgICAgICBvcmRlckFwcHJvdmFsc0xpc3RSZWR1Y2VyXG4gICAgICApLFxuICAgIH0pLFxuICB9O1xufVxuXG5leHBvcnQgY29uc3QgcmVkdWNlclRva2VuOiBJbmplY3Rpb25Ub2tlbjxcbiAgQWN0aW9uUmVkdWNlck1hcDxPcmRlckFwcHJvdmFsU3RhdGU+XG4+ID0gbmV3IEluamVjdGlvblRva2VuPEFjdGlvblJlZHVjZXJNYXA8T3JkZXJBcHByb3ZhbFN0YXRlPj4oXG4gICdPcmdhbml6YXRpb25SZWR1Y2Vycydcbik7XG5cbmV4cG9ydCBjb25zdCByZWR1Y2VyUHJvdmlkZXI6IFByb3ZpZGVyID0ge1xuICBwcm92aWRlOiByZWR1Y2VyVG9rZW4sXG4gIHVzZUZhY3Rvcnk6IGdldFJlZHVjZXJzLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyT3JnYW5pemF0aW9uU3RhdGUoXG4gIHJlZHVjZXI6IEFjdGlvblJlZHVjZXI8T3JkZXJBcHByb3ZhbFN0YXRlLCBBY3Rpb24+XG4pOiBBY3Rpb25SZWR1Y2VyPE9yZGVyQXBwcm92YWxTdGF0ZSwgQWN0aW9uPiB7XG4gIHJldHVybiBmdW5jdGlvbiAoc3RhdGUsIGFjdGlvbikge1xuICAgIGlmIChhY3Rpb24udHlwZSA9PT0gQXV0aEFjdGlvbnMuTE9HT1VUKSB7XG4gICAgICBzdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVkdWNlcihzdGF0ZSwgYWN0aW9uKTtcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IG1ldGFSZWR1Y2VyczogTWV0YVJlZHVjZXI8YW55PltdID0gW2NsZWFyT3JnYW5pemF0aW9uU3RhdGVdO1xuIl19